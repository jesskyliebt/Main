Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: SRO

; Microsoft Dynamics AX ROLE : GGH_Sale_Rep unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  ROLE #GGH_Sale_Rep
    PROPERTIES
      Name                #GGH_Sale_Rep
      Label               #GGH Sales Representitive
      Description         #Perform sales calls, small amount of interaction with NAXT, outlook synch
      Origin              #{B076138A-171F-4E38-ADF4-D6F25D506DB4}
    ENDPROPERTIES
    
    DUTIES #Duties
      DUTY #BOMBillsOfMaterialsMasterInquire
        PROPERTIES
          Name                #BOMBillsOfMaterialsMasterInquire
        ENDPROPERTIES
        
      ENDDUTY
      
    DUTY #CustCustomerMasterInquire
      PROPERTIES
        Name                #CustCustomerMasterInquire
      ENDPROPERTIES
      
    ENDDUTY
    
  DUTY #GGH_ConvertProspect
    PROPERTIES
      Name                #GGH_ConvertProspect
    ENDPROPERTIES
    
  ENDDUTY
  
DUTY #GGH_CustomerInvoiceCopyInquire
  PROPERTIES
    Name                #GGH_CustomerInvoiceCopyInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_CustPostalAddressMaintain
  PROPERTIES
    Name                #GGH_CustPostalAddressMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_EMR
  PROPERTIES
    Name                #GGH_EMR
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_EQReservationMaintain
  PROPERTIES
    Name                #GGH_EQReservationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_InventJournalPostLossProfitProcess
  PROPERTIES
    Name                #GGH_InventJournalPostLossProfitProcess
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_Maintain_SalesOrder
  PROPERTIES
    Name                #GGH_Maintain_SalesOrder
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_PartPriceGroupView
  PROPERTIES
    Name                #GGH_PartPriceGroupView
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_ProcPurchaseProcessReview
  PROPERTIES
    Name                #GGH_ProcPurchaseProcessReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_ReleasedProductEngineeringTabView
  PROPERTIES
    Name                #GGH_ReleasedProductEngineeringTabView
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_SalesOrdersProcessPerformanceReview
  PROPERTIES
    Name                #GGH_SalesOrdersProcessPerformanceReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_smmBusinessRelationsMaintainSalesRep
  PROPERTIES
    Name                #GGH_smmBusinessRelationsMaintainSalesRep
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_SubmitExpenseReport
  PROPERTIES
    Name                #GGH_SubmitExpenseReport
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_TrvExpDelegates
  PROPERTIES
    Name                #GGH_TrvExpDelegates
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_TrvExpQueuesView
  PROPERTIES
    Name                #GGH_TrvExpQueuesView
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_UsageHistoryVoidClosed
  PROPERTIES
    Name                #GGH_UsageHistoryVoidClosed
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_WMSWarehouseOperationMasterView
  PROPERTIES
    Name                #GGH_WMSWarehouseOperationMasterView
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventOnHandReservationMaintain
  PROPERTIES
    Name                #InventOnHandReservationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventPhysicalInventoryCountingMaintain
  PROPERTIES
    Name                #InventPhysicalInventoryCountingMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventPickingMaintain
  PROPERTIES
    Name                #InventPickingMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventProductTypeInquire_BR
  PROPERTIES
    Name                #InventProductTypeInquire_BR
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventProfitLossUpdatesMaintain
  PROPERTIES
    Name                #InventProfitLossUpdatesMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventRegistrationMaintain
  PROPERTIES
    Name                #InventRegistrationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventShippingProgressInquire
  PROPERTIES
    Name                #InventShippingProgressInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventStatusInquire
  PROPERTIES
    Name                #InventStatusInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #LedgerRoleCenterInventoryInquire
  PROPERTIES
    Name                #LedgerRoleCenterInventoryInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #PBAProductBuilderConfigurationMaintain
  PROPERTIES
    Name                #PBAProductBuilderConfigurationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PBAProductBuilderDefMasterMaintain
  PROPERTIES
    Name                #PBAProductBuilderDefMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PBAProductBuilderModelMasterMaintain
  PROPERTIES
    Name                #PBAProductBuilderModelMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigConfigurationMaintain
  PROPERTIES
    Name                #PCProductConfigConfigurationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigConfigurationStatInquir
  PROPERTIES
    Name                #PCProductConfigConfigurationStatInquir
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigModelMasterMaintain
  PROPERTIES
    Name                #PCProductConfigModelMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigModelVersionMaintain
  PROPERTIES
    Name                #PCProductConfigModelVersionMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PriceDiscProdSalesPriceDiscMasterInquir
  PROPERTIES
    Name                #PriceDiscProdSalesPriceDiscMasterInquir
  ENDPROPERTIES
  
ENDDUTY

DUTY #PSAProjInvoiceProposalSubmit
  PROPERTIES
    Name                #PSAProjInvoiceProposalSubmit
  ENDPROPERTIES
  
ENDDUTY

DUTY #PurchReqPurchaseRequisitionMaintain
  PROPERTIES
    Name                #PurchReqPurchaseRequisitionMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesOrderMaintain
  PROPERTIES
    Name                #SalesOrderMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesQuotationMaintain
  PROPERTIES
    Name                #SalesQuotationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesQuotationProgressInquire
  PROPERTIES
    Name                #SalesQuotationProgressInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesQuotationToSalesOrderRefDataInquir
  PROPERTIES
    Name                #SalesQuotationToSalesOrderRefDataInquir
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmActivitiesMaintain
  PROPERTIES
    Name                #smmActivitiesMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmActivityInquire
  PROPERTIES
    Name                #smmActivityInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmActivityReferenceDataInquire
  PROPERTIES
    Name                #smmActivityReferenceDataInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmBusinessRelationMasterInquire
  PROPERTIES
    Name                #smmBusinessRelationMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmBusinessRelationMasterReview
  PROPERTIES
    Name                #smmBusinessRelationMasterReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmCampaignInquire
  PROPERTIES
    Name                #smmCampaignInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmCompetitorMasterInquire
  PROPERTIES
    Name                #smmCompetitorMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmContactMasterInquire
  PROPERTIES
    Name                #smmContactMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmContactsMaintain
  PROPERTIES
    Name                #smmContactsMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmLeadsAndOppoortunitiesReview
  PROPERTIES
    Name                #smmLeadsAndOppoortunitiesReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmLeadsAndOpportunitiesInquire
  PROPERTIES
    Name                #smmLeadsAndOpportunitiesInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmLeadsAndOpportunititiesMaintain
  PROPERTIES
    Name                #smmLeadsAndOpportunititiesMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SysServerAXBasicMaintain
  PROPERTIES
    Name                #SysServerAXBasicMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #VendVendorMasterInquire
  PROPERTIES
    Name                #VendVendorMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_CreditLimitInquire
  PROPERTIES
    Name                #XAP_CreditLimitInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentBuilderInquire
  PROPERTIES
    Name                #XAP_EquipmentBuilderInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentInquiries
  PROPERTIES
    Name                #XAP_EquipmentInquiries
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentMasterInquire
  PROPERTIES
    Name                #XAP_EquipmentMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentMasterMaintain
  PROPERTIES
    Name                #XAP_EquipmentMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentReferenceDataInquire
  PROPERTIES
    Name                #XAP_EquipmentReferenceDataInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentTransactionInquire
  PROPERTIES
    Name                #XAP_EquipmentTransactionInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_GlobalAddressBook
  PROPERTIES
    Name                #XAP_GlobalAddressBook
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_OrderingConfigurationInquire
  PROPERTIES
    Name                #XAP_OrderingConfigurationInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_PriceListInquire
  PROPERTIES
    Name                #XAP_PriceListInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_SalesWarrantyView
  PROPERTIES
    Name                #XAP_SalesWarrantyView
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_SvcInquiries
  PROPERTIES
    Name                #XAP_SvcInquiries
  ENDPROPERTIES
  
ENDDUTY

ENDDUTIES

PRIVILEGES #Privileges
ENDPRIVILEGES

PERMISSIONSET #Permissions
  PROPERTIES
  ENDPROPERTIES
  
  TABLES #Tables
    TABLE #XAP_SalesCostBreakdownLines
      PROPERTIES
        Table               #XAP_SalesCostBreakdownLines
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDTABLE
    
ENDTABLES

FORMS #Forms
ENDFORMS

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ENDPERMISSIONSET

SUBROLES #Sub Roles
ENDSUBROLES

ENDROLE


***Element: SRO

; Microsoft Dynamics AX ROLE : GGH_Sale_Admin unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  ROLE #GGH_Sale_Admin
    PROPERTIES
      Name                #GGH_Sale_Admin
      Label               #GGH Sales Administrator
      Description         #Two distinct roles - overlap and back up for each other - 3 essentially PM, 2 Claims + Financial Forecasting, Stock Orders. Purchasing, Service System, Sales & Marketing, Product Information System, Inventory + Others
      Origin              #{C0927E48-2E44-44AC-9129-99A48735E41D}
    ENDPROPERTIES
    
    DUTIES #Duties
      DUTY #AgreementPurchaseAgreementMasterInquire
        PROPERTIES
          Name                #AgreementPurchaseAgreementMasterInquire
        ENDPROPERTIES
        
      ENDDUTY
      
    DUTY #BOMBillsOfMaterialsMasterInquire
      PROPERTIES
        Name                #BOMBillsOfMaterialsMasterInquire
      ENDPROPERTIES
      
    ENDDUTY
    
  DUTY #CustCustomerMasterInquire
    PROPERTIES
      Name                #CustCustomerMasterInquire
    ENDPROPERTIES
    
  ENDDUTY
  
DUTY #CustInvoiceCustomerInvoiceApprove
  PROPERTIES
    Name                #CustInvoiceCustomerInvoiceApprove
  ENDPROPERTIES
  
ENDDUTY

DUTY #CustInvoiceCustomerInvoiceStatusInquire
  PROPERTIES
    Name                #CustInvoiceCustomerInvoiceStatusInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_ApplyStandardJob
  PROPERTIES
    Name                #GGH_ApplyStandardJob
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_CustInvoiceTransMaintainNoInvoice
  PROPERTIES
    Name                #GGH_CustInvoiceTransMaintainNoInvoice
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_CustomerInvoiceCopyInquire
  PROPERTIES
    Name                #GGH_CustomerInvoiceCopyInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_EquipmentScoreMaintain
  PROPERTIES
    Name                #GGH_EquipmentScoreMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_Maintain_SalesOrder
  PROPERTIES
    Name                #GGH_Maintain_SalesOrder
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_MaintainEQReservation
  PROPERTIES
    Name                #GGH_MaintainEQReservation
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_PartPriceGroupView
  PROPERTIES
    Name                #GGH_PartPriceGroupView
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_ProcPurchaseProcessReview
  PROPERTIES
    Name                #GGH_ProcPurchaseProcessReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_PurchOrderMaintainNoConfirm
  PROPERTIES
    Name                #GGH_PurchOrderMaintainNoConfirm
  ENDPROPERTIES
  
ENDDUTY

DUTY #GGH_SalesOrdersProcessPerformanceReview
  PROPERTIES
    Name                #GGH_SalesOrdersProcessPerformanceReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventCorrectionsMaintain
  PROPERTIES
    Name                #InventCorrectionsMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventMovementUpdatesApprove
  PROPERTIES
    Name                #InventMovementUpdatesApprove
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventMovementUpdatesMaintain
  PROPERTIES
    Name                #InventMovementUpdatesMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventOnHandReservationMaintain
  PROPERTIES
    Name                #InventOnHandReservationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventPhysicalInventoryCountingMaintain
  PROPERTIES
    Name                #InventPhysicalInventoryCountingMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventProductTypeInquire_BR
  PROPERTIES
    Name                #InventProductTypeInquire_BR
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventStatusInquire
  PROPERTIES
    Name                #InventStatusInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #InventTransfersMaintain
  PROPERTIES
    Name                #InventTransfersMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PBAProductBuilderConfigurationMaintain
  PROPERTIES
    Name                #PBAProductBuilderConfigurationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PBAProductBuilderDefMasterMaintain
  PROPERTIES
    Name                #PBAProductBuilderDefMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PBAProductBuilderModelMasterMaintain
  PROPERTIES
    Name                #PBAProductBuilderModelMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigConfigurationMaintain
  PROPERTIES
    Name                #PCProductConfigConfigurationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigConfigurationStatInquir
  PROPERTIES
    Name                #PCProductConfigConfigurationStatInquir
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigModelMasterMaintain
  PROPERTIES
    Name                #PCProductConfigModelMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigModelVersionApprove
  PROPERTIES
    Name                #PCProductConfigModelVersionApprove
  ENDPROPERTIES
  
ENDDUTY

DUTY #PCProductConfigModelVersionMaintain
  PROPERTIES
    Name                #PCProductConfigModelVersionMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PriceDiscProdSalesPriceDiscMasterInquir
  PROPERTIES
    Name                #PriceDiscProdSalesPriceDiscMasterInquir
  ENDPROPERTIES
  
ENDDUTY

DUTY #PriceDiscProductPriceDiscMasterMaintain
  PROPERTIES
    Name                #PriceDiscProductPriceDiscMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PSAProjInvoiceProposalSubmit
  PROPERTIES
    Name                #PSAProjInvoiceProposalSubmit
  ENDPROPERTIES
  
ENDDUTY

DUTY #PurchPackingSlipCorrectionMaintain
  PROPERTIES
    Name                #PurchPackingSlipCorrectionMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PurchPackingSlipMaintain
  PROPERTIES
    Name                #PurchPackingSlipMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #PurchReqPurchaseRequisitionApprove
  PROPERTIES
    Name                #PurchReqPurchaseRequisitionApprove
  ENDPROPERTIES
  
ENDDUTY

DUTY #PurchReqPurchaseRequisitionInquire
  PROPERTIES
    Name                #PurchReqPurchaseRequisitionInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #PurchReqPurchaseRequisitionMaintain
  PROPERTIES
    Name                #PurchReqPurchaseRequisitionMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #ReturnSalesReturnOrderMaintain
  PROPERTIES
    Name                #ReturnSalesReturnOrderMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #RouteRouteMasterInquire
  PROPERTIES
    Name                #RouteRouteMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesOrderMaintain
  PROPERTIES
    Name                #SalesOrderMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesPackingSlipMaintain
  PROPERTIES
    Name                #SalesPackingSlipMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesQuotationMaintain
  PROPERTIES
    Name                #SalesQuotationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesQuotationProgressInquire
  PROPERTIES
    Name                #SalesQuotationProgressInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #SalesQuotationToSalesOrderProcessEnable
  PROPERTIES
    Name                #SalesQuotationToSalesOrderProcessEnable
  ENDPROPERTIES
  
ENDDUTY

DUTY #SMAServiceAgreementMasterInquire
  PROPERTIES
    Name                #SMAServiceAgreementMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #SMAServiceOrderProgressInquire
  PROPERTIES
    Name                #SMAServiceOrderProgressInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmActivityInquire
  PROPERTIES
    Name                #smmActivityInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmBusinessRelationMasterInquire
  PROPERTIES
    Name                #smmBusinessRelationMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmBusinessRelationMasterReview
  PROPERTIES
    Name                #smmBusinessRelationMasterReview
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmContactMasterInquire
  PROPERTIES
    Name                #smmContactMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmContactsMaintain
  PROPERTIES
    Name                #smmContactsMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #smmLeadsAndOpportunitiesInquire
  PROPERTIES
    Name                #smmLeadsAndOpportunitiesInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #SysServerAXBasicMaintain
  PROPERTIES
    Name                #SysServerAXBasicMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_CallCompailiryCheck
  PROPERTIES
    Name                #XAP_CallCompailiryCheck
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_CreateEquipment
  PROPERTIES
    Name                #XAP_CreateEquipment
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_CreditLimitInquire
  PROPERTIES
    Name                #XAP_CreditLimitInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EMR
  PROPERTIES
    Name                #XAP_EMR
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentBuilderInquire
  PROPERTIES
    Name                #XAP_EquipmentBuilderInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentBuilderMaintain
  PROPERTIES
    Name                #XAP_EquipmentBuilderMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentForOperationsMasterInquire
  PROPERTIES
    Name                #XAP_EquipmentForOperationsMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentInquiries
  PROPERTIES
    Name                #XAP_EquipmentInquiries
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentMasterInquire
  PROPERTIES
    Name                #XAP_EquipmentMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentMasterMaintain
  PROPERTIES
    Name                #XAP_EquipmentMasterMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentReferenceDataInquire
  PROPERTIES
    Name                #XAP_EquipmentReferenceDataInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_EquipmentTransactionInquire
  PROPERTIES
    Name                #XAP_EquipmentTransactionInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_GlobalAddressBook
  PROPERTIES
    Name                #XAP_GlobalAddressBook
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_OrderingConfigurationInquire
  PROPERTIES
    Name                #XAP_OrderingConfigurationInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_OrderingConfigurationMaintain
  PROPERTIES
    Name                #XAP_OrderingConfigurationMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_RenMainLineInquire
  PROPERTIES
    Name                #XAP_RenMainLineInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_RenMasterInquire
  PROPERTIES
    Name                #XAP_RenMasterInquire
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_SalesWarrantyMaintain
  PROPERTIES
    Name                #XAP_SalesWarrantyMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_SvcInquiries
  PROPERTIES
    Name                #XAP_SvcInquiries
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_SvcWorkOrderMaintain
  PROPERTIES
    Name                #XAP_SvcWorkOrderMaintain
  ENDPROPERTIES
  
ENDDUTY

DUTY #XAP_SvcWorkOrderProcesses
  PROPERTIES
    Name                #XAP_SvcWorkOrderProcesses
  ENDPROPERTIES
  
ENDDUTY

ENDDUTIES

PRIVILEGES #Privileges
ENDPRIVILEGES

PERMISSIONSET #Permissions
  PROPERTIES
  ENDPROPERTIES
  
  TABLES #Tables
    TABLE #XAP_SalesCostBreakdownLines
      PROPERTIES
        Table               #XAP_SalesCostBreakdownLines
        EffectiveAccess     #Delete
      ENDPROPERTIES
      
    ENDTABLE
    
ENDTABLES

FORMS #Forms
ENDFORMS

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ENDPERMISSIONSET

SUBROLES #Sub Roles
ENDSUBROLES

ENDROLE


***Element: DBT

; Microsoft Dynamics AX Table : XAP_SalesCostBreakdownLines unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #XAP_SalesCostBreakdownLines
    EnforceFKRelation 1
    PROPERTIES
      Name                #XAP_SalesCostBreakdownLines
      Label               #@XAP10616
      TitleField1         #Source
      TitleField2         #Name
      CreateRecIdIndex    #Yes
      TableGroup          #WorksheetLine
      PrimaryIndex        #SurrogateKey
      ClusterIndex        #SurrogateKey
      DeveloperDocumentation  #@XAP10631
      Origin              #{6A0AA438-6F70-4672-8773-04E033CADA47}
    ENDPROPERTIES
    
    FIELDS
      FIELD #ConfigHeader
        INT64
        PROPERTIES
          Name                #ConfigHeader
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{EC923FC8-E85D-4CEA-A26E-36E45ECC9FCB}
          ExtendedDataType    #XAP_EquipmentConfigHeaderRecId
        ENDPROPERTIES
        
      FIELD #Cost
        REAL
        PROPERTIES
          Name                #Cost
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{E59A3E54-BB45-4BE6-96FD-0BFB931D3BD7}
          ExtendedDataType    #XAP_CostBreakdownCost
        ENDPROPERTIES
        
      FIELD #Discount
        REAL
        PROPERTIES
          Name                #Discount
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{30E0C122-0735-4CFE-BF46-3A72DC6447EF}
          ExtendedDataType    #XAP_CostBreakdownDiscount
        ENDPROPERTIES
        
      FIELD #LineNumber
        INT
        PROPERTIES
          Name                #LineNumber
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{CD816E47-7F04-4E6B-A737-F96BF31464EB}
          ExtendedDataType    #XAP_LineNumber
        ENDPROPERTIES
        
      FIELD #LineType
        ENUM
        PROPERTIES
          Name                #LineType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{EE04C3FC-0B81-471D-8DA9-9717EF62367E}
          EnumType            #XAP_CostBreakdownLineType
        ENDPROPERTIES
        
      FIELD #Margin
        REAL
        PROPERTIES
          Name                #Margin
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{25784333-3CAA-4A7A-847A-D7B4AD8D5914}
          ExtendedDataType    #XAP_CostBreakdownMargin
        ENDPROPERTIES
        
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{C1DC16F6-849A-407E-A41F-6A8A4E70EFBD}
          ExtendedDataType    #XAP_CostBreakdownName
          StringSize          #120
        ENDPROPERTIES
        
      FIELD #OrigDiscount
        REAL
        PROPERTIES
          Name                #OrigDiscount
          Visible             #No
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{0A221C56-897E-4130-A02B-D950AA12548D}
          ExtendedDataType    #XAP_CostBreakdownOrigDiscount
        ENDPROPERTIES
        
      FIELD #PRGCode
        STRING
        PROPERTIES
          Name                #PRGCode
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{717524EC-C099-4AB1-BB32-524447AD6459}
          ExtendedDataType    #XAP_CostBreakdownPRGCode
        ENDPROPERTIES
        
      FIELD #Revenue
        REAL
        PROPERTIES
          Name                #Revenue
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{AA260EAA-BEC2-489F-8D93-2842810CFE58}
          ExtendedDataType    #XAP_CostBreakdownRevenue
        ENDPROPERTIES
        
      FIELD #Source
        ENUM
        PROPERTIES
          Name                #Source
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{142704AE-C856-4008-A6CD-ACAFF32A6B95}
          EnumType            #XAP_CostBreakdownSource
        ENDPROPERTIES
        
      FIELD #SourceReference
        INT64
        PROPERTIES
          Name                #SourceReference
          Table               #XAP_SalesCostBreakdownLines
          Origin              #{591B14F1-1FF6-4752-B2D3-B4F00BF42F39}
          ExtendedDataType    #XAP_CostBreakdownSourceReference
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #Source
          #SourceReference
          #Name
          #PRGCode
          #Cost
          #Margin
          #Revenue
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Breakdown
        PROPERTIES
          Name                #Breakdown
          Label               #@XAP10630
        ENDPROPERTIES
        
        GROUPFIELDS
          #Name
          #PRGCode
          #Cost
          #Margin
          #Revenue
          #Discount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Configuration
        PROPERTIES
          Name                #Configuration
          Label               #@XAP15228
        ENDPROPERTIES
        
        GROUPFIELDS
          #ConfigHeader
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Source
        PROPERTIES
          Name                #Source
          Label               #@XAP7073
        ENDPROPERTIES
        
        GROUPFIELDS
          #Source
          #SourceReference
          #LineNumber
          #LineType
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #SourceNameIdx
      PROPERTIES
        Name                #SourceNameIdx
        Origin              #{4D4DED51-4E7A-4653-BF1A-977F7404268A}
      ENDPROPERTIES
      
      INDEXFIELDS
        #Source
        #SourceReference
        #LineType
        #PRGCode
        #Name
      ENDINDEXFIELDS
      
      #SourceLineIdx
      PROPERTIES
        Name                #SourceLineIdx
        Origin              #{44F39058-4EBE-4121-A36C-C6D2759529BC}
      ENDPROPERTIES
      
      INDEXFIELDS
        #Source
        #SourceReference
        #LineNumber
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #EquipmentConfigurationHeader
        PROPERTIES
          Name                #EquipmentConfigurationHeader
          Table               #XAP_EquipmentConfigurationHeader
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ConfigHeader
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesQuotationTable
        PROPERTIES
          Name                #SalesQuotationTable
          Table               #SalesQuotationTable
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Aggregation
          RelatedTableRole    #SalesQuotationTable
          Role                #CostBreakdownLines
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SourceReference
            RelatedField        #RecId
          ENDPROPERTIES
          
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #XAP_SalesCostBreakdownLines
            Field               #Source
            Value               #2
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesTable
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Aggregation
          RelatedTableRole    #SalesTable
          Role                #CostBreakdownLines
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SourceReference
            RelatedField        #RecId
          ENDPROPERTIES
          
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #XAP_SalesCostBreakdownLines
            Field               #Source
            Value               #1
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #delete
        #public void delete()
        #{
        #    XAP_SalesCostBreakdownLines     origBreakdown = this.orig();
        #
        #    super();
        #
        #    switch (origBreakdown.Source)
        #    {
        #        case XAP_CostBreakdownSource::SalesQuotation :
        #            XAP_SalesCostBreakdownLinesHandler::construct(SalesQuotationLine::findRecId(origBreakdown.SourceReference)).refreshSourceLine();
        #            break;
        #
        #        case XAP_CostBreakdownSource::SalesOrder :
        #            XAP_SalesCostBreakdownLinesHandler::construct(SalesLine::findRecId(origBreakdown.SourceReference)).refreshSourceLine();
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #insert
        #/* <NAXT>
        #public void insert()
        #</NAXT> */
        #// <NAXT CU4>
        #public void insert(boolean _refreshSourceLine = true)
        #// </NAXT CU4>
        #{
        #    if (this.LineNumber == 0)
        #    {
        #        this.LineNumber = XAP_SalesCostBreakdownLines::lastLineNum(this.Source,this.SourceReference) + 1;
        #    }
        #
        #    super();
        #
        #    /* <NAXT>
        #    switch (this.Source)
        #    {
        #        case XAP_CostBreakdownSource::SalesQuotation :
        #            XAP_SalesCostBreakdownLinesHandler::construct(SalesQuotationLine::findRecId(this.SourceReference)).refreshSourceLine();
        #            break;
        #
        #        case XAP_CostBreakdownSource::SalesOrder :
        #            XAP_SalesCostBreakdownLinesHandler::construct(SalesLine::findRecId(this.SourceReference)).refreshSourceLine();
        #            break;
        #    }
        #    </NAXT> */
        #    // <NAXT CU4>
        #    if (_refreshSourceLine)
        #    {
        #        switch (this.Source)
        #        {
        #            case XAP_CostBreakdownSource::SalesQuotation :
        #                XAP_SalesCostBreakdownLinesHandler::construct(SalesQuotationLine::findRecId(this.SourceReference)).refreshSourceLine();
        #                break;
        #
        #            case XAP_CostBreakdownSource::SalesOrder :
        #                XAP_SalesCostBreakdownLinesHandler::construct(SalesLine::findRecId(this.SourceReference)).refreshSourceLine();
        #                break;
        #        }
        #    }
        #    // </NAXT CU4>
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(FieldId _fieldId)
        #{
        #    super(_fieldId);
        #
        #    switch (_fieldId)
        #    {
        #        case fieldNum(XAP_SalesCostBreakdownLines,Cost) :
        #            if (this.Revenue)
        #            {
        #                this.Margin = XAP_SalesCostBreakdownLinesHandler::calculateMargin(this.Cost, this.Revenue);
        #            }
        #            /*
        #            //BIZ_01965_T6B7Q - 31/03/2021 - FUS - Start
        #            else
        #            {
        #                if (this.Margin)
        #                {
        #                    this.Revenue = XAP_SalesCostBreakdownLinesHandler::calculateRevenue(this.Cost, this.Margin);
        #                }
        #                // <NAXT CU4>
        #                else
        #                {
        #                    if (this.LineType == XAP_CostBreakdownLineType::Manual)
        #                    {
        #                        this.Revenue = this.Cost;
        #                    }
        #                }
        #                // </NAXT CU4>
        #            }
        #            //BIZ_01965_T6B7Q - 31/03/2021 - FUS - End
        #            */
        #            break;
        #        case fieldNum(XAP_SalesCostBreakdownLines,Revenue) :
        #            this.Margin = XAP_SalesCostBreakdownLinesHandler::calculateMargin(this.Cost, this.Revenue);
        #            break;
        #
        #        case fieldNum(XAP_SalesCostBreakdownLines,Margin) :
        #            this.Revenue = XAP_SalesCostBreakdownLinesHandler::calculateRevenue(this.Cost, this.Margin);
        #            break;
        #
        #        case fieldNum(XAP_SalesCostBreakdownLines,Discount) :
        #            this.Cost = (XAP_SalesCostBreakdownLines::getPurchasePriceDiscountCost(this.Source, this.SourceReference) * this.Discount / 100) * (-1);
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #update
        #public void update(boolean _refreshSourceLine = true)
        #{
        #    XAP_SalesCostBreakdownLines     origBreakdown = this.orig();
        #
        #    super();
        #
        #    if (_refreshSourceLine && (origBreakdown.Cost != this.Cost || origBreakdown.Revenue != this.Revenue))
        #    {
        #        switch (this.Source)
        #        {
        #            case XAP_CostBreakdownSource::SalesQuotation :
        #                XAP_SalesCostBreakdownLinesHandler::construct(SalesQuotationLine::findRecId(this.SourceReference)).refreshSourceLine();
        #                break;
        #
        #            case XAP_CostBreakdownSource::SalesOrder :
        #                XAP_SalesCostBreakdownLinesHandler::construct(SalesLine::findRecId(this.SourceReference)).refreshSourceLine();
        #                break;
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #exist
        #/// <summary>
        #/// Determines if the specified record occurs in the <c>XAP_SalesCostBreakdownLines</c> table.
        #/// </summary>
        #/// <param name="_source">
        #///     Source type.
        #/// </param>
        #/// <param name="_sourceReference">
        #///     Source reference.
        #/// </param>
        #/// <returns>
        #/// True if the <c>XAP_SalesCostBreakdownLines</c> record exists; otherwise false
        #/// </returns>
        #public static boolean exist(
        #    XAP_CostBreakdownSource             _source,
        #    XAP_CostBreakdownSourceReference    _sourceReference
        #    )
        #{
        #    return (select firstOnly XAP_SalesCostBreakdownLines
        #                where XAP_SalesCostBreakdownLines.Source          == _source
        #                   && XAP_SalesCostBreakdownLines.SourceReference == _sourceReference).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #getPurchasePriceDiscountCost
        #/// <summary>
        #/// Get the cost of the purchase price discount type cost breakdown line.
        #/// </summary>
        #/// <param name="_source">
        #///     Source of the cost breakdown line.
        #/// </param>
        #/// <param name="_sourceReference">
        #///     Source reference of the cost breakdown line.
        #/// </param>
        #/// <returns>
        #/// Cost of the purchase price discount type cost breakdown line.
        #/// </returns>
        #static XAP_CostBreakdownCost getPurchasePriceDiscountCost(
        #    XAP_CostBreakdownSource             _source,
        #    XAP_CostBreakdownSourceReference    _sourceReference)
        #{
        #    XAP_SalesCostBreakdownLines costBreakdownLines;
        #
        #    select firstOnly Cost from costBreakdownLines
        #        where costBreakdownLines.Source          == _source
        #           && costBreakdownLines.SourceReference == _sourceReference
        #           && costBreakdownLines.LineType        == XAP_CostBreakdownLineType::PurchasePriceDiscount;
        #
        #    return costBreakdownLines.Cost;
        #}
      ENDSOURCE
      SOURCE #lastLineNum
        #/// <summary>
        #/// Search the last used line number of the relevant <c>XAP_SalesCostBreakdownLines</c> records.
        #/// </summary>
        #/// <param name="_source">
        #///     Source type.
        #/// </param>
        #/// <param name="_sourceReference">
        #///     Source reference.
        #/// </param>
        #/// <returns>
        #/// Last line number of the relevant <c>XAP_SalesCostBreakdownLines</c> records.
        #/// </returns>
        #static XAP_LineNumber lastLineNum(
        #    XAP_CostBreakdownSource             _source,
        #    XAP_CostBreakdownSourceReference    _sourceReference
        #    )
        #{
        #    if (_source && _sourceReference)
        #    {
        #        return (select maxOf(LineNumber) from XAP_SalesCostBreakdownLines
        #                    where XAP_SalesCostBreakdownLines.Source          == _source
        #                       && XAP_SalesCostBreakdownLines.SourceReference == _sourceReference).LineNumber;
        #    }
        #    else
        #    {
        #        return 0;
        #    }
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : SalesLine unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #SalesLine
    EnforceFKRelation 0
    PROPERTIES
      Name                #SalesLine
      Label               #@SYS508
      TitleField1         #SalesId
      TitleField2         #ItemId
      ConfigurationKey    #LogisticsBasic
      SecurityKey         #CustTables
      CacheLookup         #NotInTTS
      CreateRecIdIndex    #Yes
      TableGroup          #WorksheetLine
      PrimaryIndex        #TransIdIdx
      ClusterIndex        #SalesLineIdx
      ModifiedDateTime    #Yes
      ModifiedBy          #Yes
      CreatedDateTime     #Yes
      CreatedBy           #Yes
      DeveloperDocumentation  #@SYS124481
      Origin              #{2C090167-0000-1000-FACE-7B65734C696E}
      LegacyId            #359
    ENDPROPERTIES
    
    FIELDS
      FIELD #AbnormalCall
        ENUM
        PROPERTIES
          Name                #AbnormalCall
          Table               #SalesLine
          Origin              #{EE549C57-7948-47EF-B795-298E9FF5A994}
          ExtendedDataType    #XAP_AbnormalCall
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ACMode
        ENUM
        PROPERTIES
          Name                #ACMode
          Table               #SalesLine
          Origin              #{891E5613-6580-49FB-BACA-71E347C47F61}
          EnumType            #XAP_ACMode
        ENDPROPERTIES
        
      FIELD #ActivityNumber
        STRING
        PROPERTIES
          Name                #ActivityNumber
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{B4D26682-0145-4830-BBA9-084D09F9676B}
          LegacyId            #123
          ExtendedDataType    #ProjActivityNumber
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #AddressRefRecId
        INT64
        PROPERTIES
          Name                #AddressRefRecId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{578DBA79-E1BE-4BF6-99BE-E3F5DB35BEC1}
          LegacyId            #95
          ExtendedDataType    #AddressRefRecId
        ENDPROPERTIES
        
      FIELD #AddressRefTableId
        INT
        PROPERTIES
          Name                #AddressRefTableId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{CC8B102B-2940-4AB3-A82B-A61DA0A1745A}
          LegacyId            #96
          ExtendedDataType    #AddressRefTableId
        ENDPROPERTIES
        
      FIELD #AgreementSkipAutoLink
        ENUM
        PROPERTIES
          Name                #AgreementSkipAutoLink
          Visible             #No
          Table               #SalesLine
          Origin              #{B67DF319-1C3B-4925-B460-C31CA8F89B1C}
          ExtendedDataType    #AgreementSkipAutoLink
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AssetBookId
        STRING
        PROPERTIES
          Name                #AssetBookId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{F1955064-A665-46D6-B765-9517D85901F9}
          ExtendedDataType    #AssetBookIdPurchSalesInvent
        ENDPROPERTIES
        
      FIELD #AssetGroup
        STRING
        PROPERTIES
          Name                #AssetGroup
          Visible             #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{F55D7589-4654-4B1C-95E3-096C202024C0}
          ExtendedDataType    #AssetGroupId
        ENDPROPERTIES
        
      FIELD #AssetId
        STRING
        PROPERTIES
          Name                #AssetId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{49F96060-0AEC-444E-B0B9-6D79FF79A1CD}
          ExtendedDataType    #AssetIdOpen
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AssetId_RU
        STRING
        PROPERTIES
          Name                #AssetId_RU
          Table               #SalesLine
          Origin              #{74015B48-4D14-4D05-85DB-06A7AC9DD151}
          LegacyId            #16001
          ExtendedDataType    #RAssetIdOpen
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AssetTransTypePurch
        ENUM
        PROPERTIES
          Name                #AssetTransTypePurch
          Table               #SalesLine
          Origin              #{3115AD3B-AB1F-4970-B2C8-67697EEC79F1}
          ExtendedDataType    #AssetTransTypePurchEDT
          EnumType            #AssetTransTypePurch
        ENDPROPERTIES
        
      FIELD #AttachToLineNumber
        REAL
        PROPERTIES
          Name                #AttachToLineNumber
          Table               #SalesLine
          Origin              #{EEB7AFE3-C851-4486-8C4E-47DFA2BCB326}
          ExtendedDataType    #XAP_SalesAttachToLineNumber
        ENDPROPERTIES
        
      FIELD #BackorderTableRecId
        INT64
        PROPERTIES
          Name                #BackorderTableRecId
          Table               #SalesLine
          Origin              #{CBE15E3F-85C4-4FA7-91EA-FCCAA64DC826}
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #BarCode
        STRING
        PROPERTIES
          Name                #BarCode
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{C628D17B-7E49-4BB2-B40D-59BF12F9BAB3}
          LegacyId            #47
          ExtendedDataType    #SalesBarCode
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #BarCodeType
        STRING
        PROPERTIES
          Name                #BarCodeType
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{C43CD24F-1830-40DB-A44A-F1CA6F8C7C1B}
          LegacyId            #48
          ExtendedDataType    #BarcodeSetupId
        ENDPROPERTIES
        
      FIELD #Bay
        STRING
        PROPERTIES
          Name                #Bay
          Table               #SalesLine
          Origin              #{2EE291F9-159C-4E93-B14C-40BE6CBBE1CD}
          ExtendedDataType    #XAP_SvcBay
        ENDPROPERTIES
        
      FIELD #Blocked
        ENUM
        PROPERTIES
          Name                #Blocked
          Table               #SalesLine
          Origin              #{70B581FD-6437-4AD2-AA1F-1F77E2E51F7F}
          LegacyId            #36
          ExtendedDataType    #LineStopped
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #BOMReferenceLot
        STRING
        PROPERTIES
          Name                #BOMReferenceLot
          Table               #SalesLine
          Origin              #{4F5F05B4-2135-4FF6-9F0E-B0BDDE263954}
          ExtendedDataType    #GGH_BOMReferenceLot
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CalculatedWeight
        REAL
        PROPERTIES
          Name                #CalculatedWeight
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{DF81B99C-EE77-4559-92B0-495190B583F5}
          ExtendedDataType    #XAP_CalculatedWeight
        ENDPROPERTIES
        
      FIELD #CaseTagging
        ENUM
        PROPERTIES
          Name                #CaseTagging
          Table               #SalesLine
          Origin              #{9363CCBA-C316-457B-83A2-BF9FC6981A05}
          LegacyId            #99
          ExtendedDataType    #RFIDCaseTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CATPWC
        STRING
        PROPERTIES
          Name                #CATPWC
          Label               #@XAP7502
          Table               #SalesLine
          Origin              #{DC623D18-8A5C-46A4-AFF1-A73A0C83FAAD}
          ExtendedDataType    #XAP_CRMCATPWC
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CICCode
        STRING
        PROPERTIES
          Name                #CICCode
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{25A915E7-DBA1-4F1D-8F1F-AB157854A5A1}
          ExtendedDataType    #XAP_CRMCICCode
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CKNumber
        STRING
        PROPERTIES
          Name                #CKNumber
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{5032925B-F0ED-4E74-8677-9915B7D84F7B}
          ExtendedDataType    #XAP_CRMCKRegNum
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Complete
        ENUM
        PROPERTIES
          Name                #Complete
          Table               #SalesLine
          Origin              #{00EE9D2B-994B-48C6-AC87-711E84665426}
          LegacyId            #37
          ExtendedDataType    #LineComplete
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ComponentCode
        INT64
        PROPERTIES
          Name                #ComponentCode
          Table               #SalesLine
          Origin              #{3841967D-B9C0-4487-90DB-61E8BF3EE686}
          ExtendedDataType    #XAP_SvcComponentCodeRecId
        ENDPROPERTIES
        
      FIELD #ConfirmedDlv
        DATE
        PROPERTIES
          Name                #ConfirmedDlv
          Table               #SalesLine
          Origin              #{7D677F45-CA6D-4356-BF0D-0D1A8A4C64C6}
          LegacyId            #19
          ExtendedDataType    #SalesShippingDate
        ENDPROPERTIES
        
      FIELD #CopyOfInventDimId
        STRING
        PROPERTIES
          Name                #CopyOfInventDimId
          Label               #@XAP2455
          HelpText            #@XAP2456
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{56B2B329-D2D5-49DF-9357-FC1C53102298}
          ExtendedDataType    #InventDimId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CopyOfOriginalRecId
        INT64
        PROPERTIES
          Name                #CopyOfOriginalRecId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{D678197F-4DD3-4232-999A-C90170368A63}
          ExtendedDataType    #XAP_CopyOfOriginalRecId
        ENDPROPERTIES
        
      FIELD #CoreInventTransId
        STRING
        PROPERTIES
          Name                #CoreInventTransId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{9F4DEEB1-8EFD-4CAE-B867-AE416B0B1782}
          ExtendedDataType    #InventTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Cost
        REAL
        PROPERTIES
          Name                #Cost
          Table               #SalesLine
          Origin              #{5003DCC3-B63E-424F-B780-D1C0A99047D3}
          ExtendedDataType    #XAP_Cost
        ENDPROPERTIES
        
      FIELD #CostBreakdownCost
        REAL
        PROPERTIES
          Name                #CostBreakdownCost
          HelpText            #@XAP11144
          Table               #SalesLine
          Origin              #{A93B5267-5A8C-4EBF-B9EA-8426A6DA4E4B}
          ExtendedDataType    #XAP_CostBreakdownCost
        ENDPROPERTIES
        
      FIELD #CostBreakdownMargin
        REAL
        PROPERTIES
          Name                #CostBreakdownMargin
          HelpText            #@XAP11152
          Table               #SalesLine
          Origin              #{10C06214-19C4-4AD4-AFD1-D21551A1A0C7}
          ExtendedDataType    #XAP_CostBreakdownMargin
        ENDPROPERTIES
        
      FIELD #CostBreakdownTotalCost
        REAL
        PROPERTIES
          Name                #CostBreakdownTotalCost
          Label               #@SYS74805
          HelpText            #@XAP11146
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{836F32F1-40C8-4680-828F-D724BDB50566}
          ExtendedDataType    #XAP_CostBreakdownCost
        ENDPROPERTIES
        
      FIELD #CostBreakdownTotalMargin
        REAL
        PROPERTIES
          Name                #CostBreakdownTotalMargin
          Label               #@XAP11147
          HelpText            #@XAP11148
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{EC9BFCF4-116E-47C5-81FC-FECD4FBF6F60}
          ExtendedDataType    #XAP_CostBreakdownMargin
        ENDPROPERTIES
        
      FIELD #CostBreakdownTotalSales
        REAL
        PROPERTIES
          Name                #CostBreakdownTotalSales
          Label               #@XAP11149
          HelpText            #@XAP11150
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{07CC7BCC-AE09-4A7E-BD64-A806508B86B6}
          ExtendedDataType    #XAP_CostBreakdownRevenue
        ENDPROPERTIES
        
      FIELD #CostPrice
        REAL
        PROPERTIES
          Name                #CostPrice
          Table               #SalesLine
          Origin              #{53378B00-A7C6-4FD6-86ED-816591BE9560}
          LegacyId            #13
          ExtendedDataType    #ReturnCostPrice
        ENDPROPERTIES
        
      FIELD #CountryRegionName_RU
        STRING
        PROPERTIES
          Name                #CountryRegionName_RU
          Label               #@GLS101550
          Table               #SalesLine
          CountryRegionCodes  #RU
          Origin              #{7898213F-2418-4A28-A7CB-2A15D76EC659}
          ExtendedDataType    #AddressCountryRegionName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #CountyOrigDest
        STRING
        PROPERTIES
          Name                #CountyOrigDest
          Table               #SalesLine
          Origin              #{D58F37FA-01A8-427D-B745-BD3E6D8D8A35}
          LegacyId            #40
          ExtendedDataType    #AddressCountyOrigDest
        ENDPROPERTIES
        
      FIELD #CreateFixedAsset
        ENUM
        PROPERTIES
          Name                #CreateFixedAsset
          Visible             #No
          Table               #SalesLine
          Origin              #{99CFB2B6-BB13-439F-833F-5DFF3D0D2BA3}
          ExtendedDataType    #CreateFixedAsset
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CreditNoteInternalRef_PL
        INT64
        PROPERTIES
          Name                #CreditNoteInternalRef_PL
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{4E8FC7B6-395A-433A-A8A7-E2914B9E4FC0}
          LegacyId            #16008
          ExtendedDataType    #CreditNoteInternalRef_W
        ENDPROPERTIES
        
      FIELD #CreditNoteInvoiceDate
        DATE
        PROPERTIES
          Name                #CreditNoteInvoiceDate
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{2B00F6EC-74CF-4A49-8FEA-9DEA00159035}
          ExtendedDataType    #XAP_SalesCreditNoteInvoiceDate
        ENDPROPERTIES
        
      FIELD #CreditNoteInvoiceId
        STRING
        PROPERTIES
          Name                #CreditNoteInvoiceId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{2601C1FD-4C3C-4CD6-BCA2-1C97C3F97FF0}
          ExtendedDataType    #XAP_SalesCreditNoteInvoiceId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CreditNoteReasonCode
        INT64
        PROPERTIES
          Name                #CreditNoteReasonCode
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{6A0FF0C1-81B9-457F-B6F1-2B6BC5A7C1CC}
          ExtendedDataType    #ReasonTableRefRecId
        ENDPROPERTIES
        
      FIELD #CurrencyCode
        STRING
        PROPERTIES
          Name                #CurrencyCode
          HelpText            #@SYS6734
          Mandatory           #Yes
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{BAE98605-ADAA-4AF7-97EE-127D93E6FFB1}
          LegacyId            #15
          ExtendedDataType    #CustCurrencyCode
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #CustAccount
        STRING
        PROPERTIES
          Name                #CustAccount
          Label               #@SYS302
          HelpText            #@SYS7149
          Mandatory           #Yes
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{D873B886-3D95-4283-8DEF-48B236854470}
          LegacyId            #28
          ExtendedDataType    #CustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CustGroup
        STRING
        PROPERTIES
          Name                #CustGroup
          Label               #@SYS3815
          HelpText            #@SYS11904
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{AEEB5766-64E6-4CAA-BBA6-00DEA2A84E0D}
          LegacyId            #27
          ExtendedDataType    #CustGroupId
        ENDPROPERTIES
        
      FIELD #CustItemNoPartStore
        STRING
        PROPERTIES
          Name                #CustItemNoPartStore
          Table               #SalesLine
          Origin              #{C8986FC0-6BFB-4427-A620-D9040062969A}
          ExtendedDataType    #SalesExternalItemId
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #CustomerLineNum
        INT
        PROPERTIES
          Name                #CustomerLineNum
          Table               #SalesLine
          Origin              #{44522E20-CF7C-4AF5-9562-177CAEDDF76F}
          LegacyId            #71
          ExtendedDataType    #CustLineNum
        ENDPROPERTIES
        
      FIELD #CustomerRef
        STRING
        PROPERTIES
          Name                #CustomerRef
          Table               #SalesLine
          Origin              #{3953F7B1-7BB8-4535-A93D-D3BF3C0BEBD0}
          LegacyId            #88
          ExtendedDataType    #CustRefLine
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #CustomsDocDate_MX
        DATE
        PROPERTIES
          Name                #CustomsDocDate_MX
          Table               #SalesLine
          Origin              #{E99EA1F5-A960-4376-BEDC-7DD33CA4384E}
          LegacyId            #222
          ExtendedDataType    #CustomsDocDate_MX
        ENDPROPERTIES
        
      FIELD #CustomsDocNumber_MX
        STRING
        PROPERTIES
          Name                #CustomsDocNumber_MX
          Table               #SalesLine
          Origin              #{9FAEBF4C-12EB-42BD-8C18-A0AF0CDF3714}
          LegacyId            #221
          ExtendedDataType    #CustomsDocNumber_MX
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CustomsName_MX
        STRING
        PROPERTIES
          Name                #CustomsName_MX
          Table               #SalesLine
          Origin              #{2361B1E1-9E56-4A28-883D-6FC56269A816}
          LegacyId            #220
          ExtendedDataType    #CustomsName_MX
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #DefaultDimension
        INT64
        PROPERTIES
          Name                #DefaultDimension
          Table               #SalesLine
          Origin              #{E6619FC5-D327-42E7-A54D-A0D5E156A2E5}
          LegacyId            #184
          ExtendedDataType    #DimensionDefault
        ENDPROPERTIES
        
      FIELD #DefaultDimensionIssue
        INT64
        PROPERTIES
          Name                #DefaultDimensionIssue
          Table               #SalesLine
          Origin              #{50A47FAA-33EE-4F85-A21E-2CC78F6C1421}
          ExtendedDataType    #DimensionDefault
        ENDPROPERTIES
        
      FIELD #DEL_Address_IN
        STRING
        PROPERTIES
          Name                #DEL_Address_IN
          HelpText            #@SYS840
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{DAF34547-3916-4B02-BB29-3A04A6E8935C}
          LegacyId            #8106
          ExtendedDataType    #Addressing
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #DEL_AssessableValue_IN
        REAL
        PROPERTIES
          Name                #DEL_AssessableValue_IN
          Label               #@GLS5298
          HelpText            #@GLS5520
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{C5F5FFB3-FAAB-4E8B-B41B-16A33A2011A0}
          LegacyId            #8103
          ExtendedDataType    #AmountCur
        ENDPROPERTIES
        
      FIELD #DEL_ATPInclPlannedOrders
        ENUM
        PROPERTIES
          Name                #DEL_ATPInclPlannedOrders
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{9D5E05E1-E789-4ADC-8985-0E53B5AE3844}
          LegacyId            #121
          ExtendedDataType    #SalesATPInclPlannedOrders
          EnumType            #boolean
        ENDPROPERTIES
        
      FIELD #DEL_ATPTimeFence
        INT
        PROPERTIES
          Name                #DEL_ATPTimeFence
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{B88CF871-E8ED-4A6B-8E24-0125C3673AC1}
          LegacyId            #122
          ExtendedDataType    #SalesATPTimeFence
        ENDPROPERTIES
        
      FIELD #DEL_BlanketRefTransId
        STRING
        PROPERTIES
          Name                #DEL_BlanketRefTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{19B1C86F-FEB4-42BF-BB58-F6986392DAFA}
          LegacyId            #91
          ExtendedDataType    #SalesBlanketRefTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_CFOPTable_BR
        INT64
        PROPERTIES
          Name                #DEL_CFOPTable_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #BR
          Origin              #{B05415DF-FD4D-4C80-AEB8-4B073C455FD5}
          LegacyId            #8072
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_CompanyLocation_IN
        INT64
        PROPERTIES
          Name                #DEL_CompanyLocation_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{F38FF3F3-5A85-402D-AAC5-BE6FCCA790D5}
          LegacyId            #8045
          ExtendedDataType    #LogisticsLocationRecId
        ENDPROPERTIES
        
      FIELD #DEL_Consignment_IN
        ENUM
        PROPERTIES
          Name                #DEL_Consignment_IN
          Label               #@GLS5513
          HelpText            #@GLS5537
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{1911765B-F54B-4EAF-A949-B05600E1CF99}
          LegacyId            #8114
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DEL_ConsistOf
        INT64
        PROPERTIES
          Name                #DEL_ConsistOf
          Label               #@XAP2792
          HelpText            #@XAP2794
          Visible             #No
          ConfigurationKey    #SysDeletedObjects_NAXTRelease
          Table               #SalesLine
          Origin              #{6A18814A-37AF-4845-93B5-9347C07B6CDA}
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_ConsistOfQuotation
        INT64
        PROPERTIES
          Name                #DEL_ConsistOfQuotation
          Visible             #No
          ConfigurationKey    #SysDeletedObjects_NAXTRelease
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{A71BE597-A83B-43BA-8BD6-EAC3B572B339}
          ExtendedDataType    #SalesQuotationLineRefRecId
        ENDPROPERTIES
        
      FIELD #DEL_CorrectionDesc_PL
        STRING
        PROPERTIES
          Name                #DEL_CorrectionDesc_PL
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{0EE1B66A-E255-40EF-BA0B-275608E1B7F9}
          LegacyId            #16006
          ExtendedDataType    #PlCorrectionDesc
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #DEL_CreditNoteDate_IN
        DATE
        PROPERTIES
          Name                #DEL_CreditNoteDate_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{8591D3C8-4D32-4278-A939-0173164C6A49}
          LegacyId            #8124
          ExtendedDataType    #TransDate
        ENDPROPERTIES
        
      FIELD #DEL_CustCFOPId_BR
        STRING
        PROPERTIES
          Name                #DEL_CustCFOPId_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{AD371F24-8BDD-4C16-8A0E-887AFD5D5D6E}
          LegacyId            #8006
          ExtendedDataType    #SalesPurchCFOPId_BR
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #DEL_CustFiscalClassificationId_BR
        STRING
        PROPERTIES
          Name                #DEL_CustFiscalClassificationId_BR
          HelpText            #@GLS749
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{B5948965-6F9F-4401-A26A-DCF026C6B736}
          LegacyId            #8007
          ExtendedDataType    #TaxFiscalClassificationId_BR
        ENDPROPERTIES
        
      FIELD #DEL_CustomsMaxRetailPrice_IN
        REAL
        PROPERTIES
          Name                #DEL_CustomsMaxRetailPrice_IN
          Label               #@GLS5756
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{B2B4BB35-FCDF-46A6-BABF-6276E7B1CE78}
          LegacyId            #8120
          ExtendedDataType    #MaximumRetailPrice_IN
        ENDPROPERTIES
        
      FIELD #DEL_CustomsTariffCode_IN
        STRING
        PROPERTIES
          Name                #DEL_CustomsTariffCode_IN
          Label               #@GLS5516
          HelpText            #@GLS5517
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{80F00BD9-ED5F-4E7A-8695-07CC0F92F5F2}
          LegacyId            #8101
          ExtendedDataType    #CustomsTariffCode_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_CustomsTariffCodeTable_IN
        INT64
        PROPERTIES
          Name                #DEL_CustomsTariffCodeTable_IN
          Label               #@GLS5516
          HelpText            #@GLS5517
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{BE1F7353-FFB1-4F27-B713-14DF614401F1}
          LegacyId            #8057
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_CustReceiptIssueCode_BR
        ENUM
        PROPERTIES
          Name                #DEL_CustReceiptIssueCode_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{309A2FA7-CF69-4AF4-9E62-D8D077227C15}
          LegacyId            #8005
          EnumType            #CustVendReceiptIssueCode_BR
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryAddress
        STRING
        PROPERTIES
          Name                #DEL_DeliveryAddress
          Label               #@SYS7924
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{47B2DC55-8157-453C-8FE5-5762427A30DA}
          LegacyId            #78
          ExtendedDataType    #Addressing
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryAddressComplement
        STRING
        PROPERTIES
          Name                #DEL_DeliveryAddressComplement
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{DE106EB2-0420-4A13-9658-5C59FDCAB74C}
          LegacyId            #8137
          ExtendedDataType    #AddressComplement_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryAddressNumber
        STRING
        PROPERTIES
          Name                #DEL_DeliveryAddressNumber
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{FCF70BDB-2ABC-4F2B-9FD1-09FC5849501A}
          LegacyId            #8138
          ExtendedDataType    #AddressNumber_BR
          StringSize          #6
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryBuilding_RU
        STRING
        PROPERTIES
          Name                #DEL_DeliveryBuilding_RU
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{2DC0A3C4-3AE9-4301-844E-CB50616AD8A2}
          LegacyId            #16010
          ExtendedDataType    #AddressBuilding_RU
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCFOPId
        STRING
        PROPERTIES
          Name                #DEL_DeliveryCFOPId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{6F2237DB-F6C9-4F29-96EA-95913812B188}
          LegacyId            #8133
          ExtendedDataType    #DeliveryCFOPId_BR
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCity
        STRING
        PROPERTIES
          Name                #DEL_DeliveryCity
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{1C26C5AC-87A0-49CD-BA95-AED0A5E65449}
          LegacyId            #82
          ExtendedDataType    #AddressCity
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCountryRegionId
        STRING
        PROPERTIES
          Name                #DEL_DeliveryCountryRegionId
          HelpText            #@SYS17886
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{7B55FB08-D2D8-4DC9-B89F-B6B38C83B1CC}
          LegacyId            #85
          ExtendedDataType    #AddressCountryRegionId
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCounty
        STRING
        PROPERTIES
          Name                #DEL_DeliveryCounty
          HelpText            #@SYS17885
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{0931CDFC-46E6-4A77-B42F-0874DDFC4DBE}
          LegacyId            #83
          ExtendedDataType    #AddressCountyId
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCustCategory
        ENUM
        PROPERTIES
          Name                #DEL_DeliveryCustCategory
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{41DE791D-FBA9-49C7-8886-845669FF5840}
          LegacyId            #8127
          EnumType            #DEL_CustVendCategory_BR
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCustCNPJCPFNum
        STRING
        PROPERTIES
          Name                #DEL_DeliveryCustCNPJCPFNum
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{C653F699-1CB2-4AC5-ABE0-3A039B4474BE}
          LegacyId            #8136
          ExtendedDataType    #CNPJCPFNum_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryCustIENum
        STRING
        PROPERTIES
          Name                #DEL_DeliveryCustIENum
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{CCF4B2E0-5343-45DC-8CBC-BB0FF11338FF}
          LegacyId            #8128
          ExtendedDataType    #IENum_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryDateControl
        ENUM
        PROPERTIES
          Name                #DEL_DeliveryDateControl
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{9B67E194-FB7F-45A5-A018-B2896403B4DC}
          LegacyId            #53
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryDistrictName
        STRING
        PROPERTIES
          Name                #DEL_DeliveryDistrictName
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{BD08F084-1844-4E74-9793-8D15526E581E}
          LegacyId            #8139
          ExtendedDataType    #DistrictName_BR
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryEstate_RU
        STRING
        PROPERTIES
          Name                #DEL_DeliveryEstate_RU
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{67B11953-6005-4F85-ADA3-CB7F143E0B8B}
          LegacyId            #16011
          ExtendedDataType    #AddressEstate_RU
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryFlat_RU
        STRING
        PROPERTIES
          Name                #DEL_DeliveryFlat_RU
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{3236860A-BFFB-4AFD-B099-627D6AA3B122}
          LegacyId            #16009
          ExtendedDataType    #AddressFlat_RU
        ENDPROPERTIES
        
      FIELD #DEL_DeliverySettlementId_RU
        STRING
        PROPERTIES
          Name                #DEL_DeliverySettlementId_RU
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{312751C8-0115-4522-9D57-3C055C6E5EF0}
          LegacyId            #16013
          ExtendedDataType    #AddressSettlementId_RU
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryState
        STRING
        PROPERTIES
          Name                #DEL_DeliveryState
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{07E4804D-43AA-43EB-9E7D-B3113F6EDA91}
          LegacyId            #84
          ExtendedDataType    #AddressStateId
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryStreet
        STRING
        PROPERTIES
          Name                #DEL_DeliveryStreet
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{9346CD59-9ED0-452E-BC35-131FFFF7894B}
          LegacyId            #80
          ExtendedDataType    #AddressStreet
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryStreetId_RU
        STRING
        PROPERTIES
          Name                #DEL_DeliveryStreetId_RU
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{25D3FAA3-7B6D-4B72-A370-9A77893EA21F}
          LegacyId            #16012
          ExtendedDataType    #AddressStreetId_RU
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryTownId_RU
        STRING
        PROPERTIES
          Name                #DEL_DeliveryTownId_RU
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{41E41492-9414-4684-A97A-CD976A36FE42}
          LegacyId            #16014
          ExtendedDataType    #AddressTownId_RU
        ENDPROPERTIES
        
      FIELD #DEL_DeliveryZipCode
        STRING
        PROPERTIES
          Name                #DEL_DeliveryZipCode
          HelpText            #@SYS17884
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{8D23DEBC-3947-4CF8-B472-44CFFC035B4C}
          LegacyId            #81
          ExtendedDataType    #AddressZipCodeId
        ENDPROPERTIES
        
      FIELD #DEL_Dimension
        STRING
        PROPERTIES
          Name                #DEL_Dimension
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{6CCAC032-9512-470D-82B9-2C28B897EEAC}
          LegacyId            #23
          ExtendedDataType    #Dimension
        ENDPROPERTIES
        
      FIELD #DEL_DirectSettlement_IN
        ENUM
        PROPERTIES
          Name                #DEL_DirectSettlement_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{56DF14AB-3A1D-425D-932F-705E38B7E368}
          LegacyId            #8116
          EnumType            #DirectSettlement_IN
        ENDPROPERTIES
        
      FIELD #DEL_DomesticSalesTaxGroup_PL
        STRING
        PROPERTIES
          Name                #DEL_DomesticSalesTaxGroup_PL
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{F16FE0EA-9180-4771-97C2-3F1580C7CA32}
          LegacyId            #16007
          ExtendedDataType    #PlSalesDomesticTaxGroup
        ENDPROPERTIES
        
      FIELD #DEL_DSA_IN
        ENUM
        PROPERTIES
          Name                #DEL_DSA_IN
          Label               #@GLS5341
          HelpText            #@GLS5540
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{A7D48FDB-8D36-484C-BDB4-A58EA0BA5F01}
          LegacyId            #8115
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DEL_ECCNumber_IN
        STRING
        PROPERTIES
          Name                #DEL_ECCNumber_IN
          Label               #@GLS5102
          HelpText            #@GLS5156
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{F1FEE192-F490-4987-9E84-A1EA0C81D12B}
          LegacyId            #8107
          ExtendedDataType    #TaxRegistrationNumber_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_ExceptionCode_BR
        STRING
        PROPERTIES
          Name                #DEL_ExceptionCode_BR
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{24FB34DC-117B-4716-98FF-3B00DA0E1826}
          LegacyId            #16028
          ExtendedDataType    #ExceptionCode_BR
        ENDPROPERTIES
        
      FIELD #DEL_ExciseRecordType_IN
        ENUM
        PROPERTIES
          Name                #DEL_ExciseRecordType_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{EE738B1F-08E9-4909-887C-14C2B7C655A3}
          LegacyId            #8112
          EnumType            #ExciseRecordType_IN
        ENDPROPERTIES
        
      FIELD #DEL_ExciseTariffCode_IN
        STRING
        PROPERTIES
          Name                #DEL_ExciseTariffCode_IN
          Label               #@GLS5344
          HelpText            #@GLS5514
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{6C96866E-0D59-4B71-9DB6-622030D738EF}
          LegacyId            #8073
          ExtendedDataType    #TariffCode_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_ExciseTariffCodes_IN
        INT64
        PROPERTIES
          Name                #DEL_ExciseTariffCodes_IN
          Label               #@GLS5344
          HelpText            #@GLS5514
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{FCB42411-F378-4546-81F2-457E16297AB2}
          LegacyId            #8058
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_ExciseType_IN
        ENUM
        PROPERTIES
          Name                #DEL_ExciseType_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{0A88B115-EDE5-4573-873C-A80A1F033BF8}
          LegacyId            #8117
          EnumType            #ExciseType_IN
        ENDPROPERTIES
        
      FIELD #DEL_ExportOrder_IN
        ENUM
        PROPERTIES
          Name                #DEL_ExportOrder_IN
          Label               #@GLS5723
          HelpText            #@GLS5730
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{B4585A9D-01E8-4154-B49F-9E228E1691A8}
          LegacyId            #8142
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DEL_FuelCode_BR
        REAL
        PROPERTIES
          Name                #DEL_FuelCode_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{43F06958-600A-4800-AA89-E5DC5B4ACE05}
          LegacyId            #16029
          ExtendedDataType    #DEL_FuelCode_BR
        ENDPROPERTIES
        
      FIELD #DEL_HHTHandheldUserId
        STRING
        PROPERTIES
          Name                #DEL_HHTHandheldUserId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{E8819D93-4088-4DF5-BD87-A9D3AFC7C972}
          LegacyId            #16051
          ExtendedDataType    #RetailUserIdEx2
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #DEL_HHTTransDate
        DATE
        PROPERTIES
          Name                #DEL_HHTTransDate
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{F34682C2-9816-463F-A81D-4C3E7E7C3274}
          LegacyId            #16053
          ExtendedDataType    #RetailDateEx2
        ENDPROPERTIES
        
      FIELD #DEL_HHTTransTime
        TIME
        PROPERTIES
          Name                #DEL_HHTTransTime
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{E13BE9C3-0421-4711-B64C-F44505A668AA}
          LegacyId            #16052
          ExtendedDataType    #RetailTimeEx2
        ENDPROPERTIES
        
      FIELD #DEL_IECNumber_IN
        STRING
        PROPERTIES
          Name                #DEL_IECNumber_IN
          Label               #@GLS5100
          HelpText            #@GLS5159
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{A5C3F492-F780-4B3C-AF67-D91AEFC4D85F}
          LegacyId            #8111
          ExtendedDataType    #TaxRegistrationNumber_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_InterCompanyReturnActionId
        STRING
        PROPERTIES
          Name                #DEL_InterCompanyReturnActionId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{06190C67-F417-40F5-8368-405DA3A385D2}
          LegacyId            #29
          ExtendedDataType    #SalesReturnActionId
        ENDPROPERTIES
        
      FIELD #DEL_InterCompanyReturnActionTxt
        STRING
        PROPERTIES
          Name                #DEL_InterCompanyReturnActionTxt
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{0F3EF9E4-CBCF-4C7C-9795-4090F8AF25B0}
          LegacyId            #41
          ExtendedDataType    #Description
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #DEL_IntrastatSpecMove_CZ
        STRING
        PROPERTIES
          Name                #DEL_IntrastatSpecMove_CZ
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{5E4C93CA-077B-4F0B-805C-F226DD03A5E3}
          LegacyId            #16004
          ExtendedDataType    #IntrastatSpecMove_CZ
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #DEL_InventDeliverNowCatchWgt
        REAL
        PROPERTIES
          Name                #DEL_InventDeliverNowCatchWgt
          Label               #@PRO436
          HelpText            #@SYS5006
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{49186C98-A64D-42B8-B3F3-9B0698ABA936}
        ENDPROPERTIES
        
      FIELD #DEL_InvoiceRefRecId_BR
        INT64
        PROPERTIES
          Name                #DEL_InvoiceRefRecId_BR
          Label               #@GLS50827
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #BR
          Origin              #{EEA81F31-2ABE-4371-8E10-22C05BBE36D2}
          LegacyId            #8140
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_LedgerAccount
        STRING
        PROPERTIES
          Name                #DEL_LedgerAccount
          HelpText            #@SYS13324
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{D0B0DA1A-5454-4F07-ADB8-C4C853E1DCD1}
          LegacyId            #5
          ExtendedDataType    #SalesLedgerAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_MaximumRetailPrice_IN
        REAL
        PROPERTIES
          Name                #DEL_MaximumRetailPrice_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{0E639AB9-81F9-420D-B8A3-B63B023F6134}
          LegacyId            #8104
          ExtendedDataType    #MaximumRetailPrice_IN
        ENDPROPERTIES
        
      FIELD #DEL_Name_IN
        STRING
        PROPERTIES
          Name                #DEL_Name_IN
          HelpText            #@GLS5521
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{DD86E81F-85D1-4CBD-B080-40C5A74280D5}
          LegacyId            #8105
          ExtendedDataType    #Name
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #DEL_PackQty
        REAL
        PROPERTIES
          Name                #DEL_PackQty
          HelpText            #@PRO431
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{77CD6CEF-C761-4471-AC48-14B3B1D8D18A}
        ENDPROPERTIES
        
      FIELD #DEL_PackUnit
        STRING
        PROPERTIES
          Name                #DEL_PackUnit
          Label               #@PRO432
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{D1859124-441A-441A-A72F-FFFBDD553896}
        ENDPROPERTIES
        
      FIELD #DEL_PdsCWSalesUnit
        STRING
        PROPERTIES
          Name                #DEL_PdsCWSalesUnit
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{3C1EEF92-DD93-41BC-AC27-FF0C43292131}
          ExtendedDataType    #PdsCWUnitId
        ENDPROPERTIES
        
      FIELD #DEL_PdsMfgDemandFlag
        ENUM
        PROPERTIES
          Name                #DEL_PdsMfgDemandFlag
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{398A1840-C24B-4892-987F-FD2C6440C256}
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DEL_RemainInventPhysicalCatchWgt
        REAL
        PROPERTIES
          Name                #DEL_RemainInventPhysicalCatchWgt
          Label               #@PRO427
          HelpText            #@SYS15801
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{BCC336A1-D1D7-4B77-BBD3-FBC3EF410EE6}
        ENDPROPERTIES
        
      FIELD #DEL_RemainSalesFinancialCatchWgt
        REAL
        PROPERTIES
          Name                #DEL_RemainSalesFinancialCatchWgt
          Label               #@PRO430
          HelpText            #@SYS27453
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{4C85BE04-02BA-41D7-A8E1-20B0412059F5}
        ENDPROPERTIES
        
      FIELD #DEL_RemainSalesPhysicalCatchWgt
        REAL
        PROPERTIES
          Name                #DEL_RemainSalesPhysicalCatchWgt
          Label               #@PRO427
          HelpText            #@SYS27454
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{6180458D-F81E-49AC-BCFC-E34A99A0EB52}
        ENDPROPERTIES
        
      FIELD #DEL_ReturnActionId
        STRING
        PROPERTIES
          Name                #DEL_ReturnActionId
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{FD98DA8C-699C-460A-8502-961E170E0AB0}
          LegacyId            #58
          ExtendedDataType    #SalesReturnActionId
        ENDPROPERTIES
        
      FIELD #DEL_SalesDeliverNowCatchWgt
        REAL
        PROPERTIES
          Name                #DEL_SalesDeliverNowCatchWgt
          Label               #@PRO436
          HelpText            #@SYS69027
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{AEC73284-1111-40A1-BC3E-DD2A1629453C}
        ENDPROPERTIES
        
      FIELD #DEL_SalesPurch_BR
        ENUM
        PROPERTIES
          Name                #DEL_SalesPurch_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{D12AAF30-949C-44B9-B003-7D21FE4DDA47}
          LegacyId            #8009
          EnumType            #DEL_SalesPurch_BR
        ENDPROPERTIES
        
      FIELD #DEL_SalesQtyCatchWgt
        REAL
        PROPERTIES
          Name                #DEL_SalesQtyCatchWgt
          Label               #@PRO511
          HelpText            #@PRO431
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{8DB4983F-0841-4ED1-AD0C-BEACCFD0A399}
        ENDPROPERTIES
        
      FIELD #DEL_SalesTaxFormType_IN
        STRING
        PROPERTIES
          Name                #DEL_SalesTaxFormType_IN
          HelpText            #@GLS5519
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{4599D34D-1CE7-48AE-8780-F9170AE75C84}
          LegacyId            #8102
          ExtendedDataType    #FormType_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_SalesTaxFormTypes_IN
        INT64
        PROPERTIES
          Name                #DEL_SalesTaxFormTypes_IN
          HelpText            #@GLS5519
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{1A1A1193-3877-4A5F-852E-62C17B6169E3}
          LegacyId            #8056
          ExtendedDataType    #SalesTaxFormTypesRecId_IN
        ENDPROPERTIES
        
      FIELD #DEL_SalesTaxRegistrationNumber_IN
        STRING
        PROPERTIES
          Name                #DEL_SalesTaxRegistrationNumber_IN
          HelpText            #@GLS5162
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{603BF167-79DF-4C1C-8398-CF7B67AE0669}
          LegacyId            #8108
          ExtendedDataType    #TaxRegistrationNumber_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_ServiceCode_IN
        STRING
        PROPERTIES
          Name                #DEL_ServiceCode_IN
          HelpText            #@GLS5525
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{A3117171-E220-450C-8779-9A0C892DA516}
          LegacyId            #8113
          ExtendedDataType    #ServiceCode_IN
        ENDPROPERTIES
        
      FIELD #DEL_ServiceCodeTable_IN
        INT64
        PROPERTIES
          Name                #DEL_ServiceCodeTable_IN
          Label               #@GLS5065
          HelpText            #@GLS5525
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{051DBE8F-A07E-429A-85CC-77F7306CD088}
          LegacyId            #8060
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_ServiceTariffId_PL
        STRING
        PROPERTIES
          Name                #DEL_ServiceTariffId_PL
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #PL
          Origin              #{2A160000-0167-1000-1908-E50E7594A65F}
          ExtendedDataType    #ServiceTariffId_PL
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_State_IN
        STRING
        PROPERTIES
          Name                #DEL_State_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{68C47979-0D1E-428F-8CE0-87E185B55D2A}
          LegacyId            #8118
          ExtendedDataType    #AddressStateId
        ENDPROPERTIES
        
      FIELD #DEL_STCNumber_IN
        STRING
        PROPERTIES
          Name                #DEL_STCNumber_IN
          Label               #@GLS5098
          HelpText            #@GLS5160
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{DD1A43B3-9EDF-417D-968D-C9FBA6B6EEAD}
          LegacyId            #8110
          ExtendedDataType    #TaxRegistrationNumber_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_SuframaDiscount_BR
        REAL
        PROPERTIES
          Name                #DEL_SuframaDiscount_BR
          Label               #@GLS1333
          HelpText            #@GLS1334
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #BR
          Origin              #{C782ECCB-4C87-44A2-BAA6-8CEBF5D5F965}
          LegacyId            #8011
          ExtendedDataType    #SalesLinePercent
        ENDPROPERTIES
        
      FIELD #DEL_TAN_IN
        STRING
        PROPERTIES
          Name                #DEL_TAN_IN
          HelpText            #@GLS5370
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{6120DD67-4DAF-4F5E-B6FC-E261D4EE878C}
          LegacyId            #8123
        ENDPROPERTIES
        
      FIELD #DEL_TaxAsPerOriginalInvoice_IN
        ENUM
        PROPERTIES
          Name                #DEL_TaxAsPerOriginalInvoice_IN
          Label               #@GLS5576
          HelpText            #@GLS5575
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{38BD0F44-D7B7-4BD8-9FAB-1D7F42D8BC53}
          LegacyId            #8119
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DEL_TaxationOrigin_BR
        ENUM
        PROPERTIES
          Name                #DEL_TaxationOrigin_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{36922A72-0732-4346-8B29-05B316D6F65F}
          LegacyId            #8000
          EnumType            #FITaxationOrigin_BR
        ENDPROPERTIES
        
      FIELD #DEL_TaxInventVATCommodityCode_IN
        INT64
        PROPERTIES
          Name                #DEL_TaxInventVATCommodityCode_IN
          Label               #@GLS63105
          HelpText            #@GLS63103
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{410DA38F-F290-4740-BA18-8BA960E87D93}
          LegacyId            #8066
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #DEL_TaxInventVATCommodityCodeId_IN
        STRING
        PROPERTIES
          Name                #DEL_TaxInventVATCommodityCodeId_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{B9B714B0-C17F-4F10-A755-F283F62B2B59}
          LegacyId            #8041
          ExtendedDataType    #TaxInventVATCommodityCodeId_IN
        ENDPROPERTIES
        
      FIELD #DEL_TaxServiceCode_BR
        STRING
        PROPERTIES
          Name                #DEL_TaxServiceCode_BR
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{6F2C79CE-D281-4213-8C1D-C17F3E39DCED}
          LegacyId            #8029
          ExtendedDataType    #TaxServiceCodeId_BR
        ENDPROPERTIES
        
      FIELD #DEL_TaxWithholdItemGroup_TH
        STRING
        PROPERTIES
          Name                #DEL_TaxWithholdItemGroup_TH
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{3142F037-5C4D-467E-A483-D9CDC8C602BD}
          LegacyId            #8033
          ExtendedDataType    #TaxWithholdItemGroup_TH
        ENDPROPERTIES
        
      FIELD #DEL_TaxWithholdLineNum_IN
        REAL
        PROPERTIES
          Name                #DEL_TaxWithholdLineNum_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{3BF7EE02-2797-495A-9C27-A722AEDA27B7}
          LegacyId            #8125
          ExtendedDataType    #LineNum
        ENDPROPERTIES
        
      FIELD #DEL_TaxWithholdVoucher_IN
        STRING
        PROPERTIES
          Name                #DEL_TaxWithholdVoucher_IN
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{9A2A0932-C5E2-46A1-A67F-8A8DFAA60506}
          LegacyId            #8126
          ExtendedDataType    #Voucher
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_TCSGroup_IN
        STRING
        PROPERTIES
          Name                #DEL_TCSGroup_IN
          Label               #@GLS5363
          HelpText            #@GLS5846
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{5BF7F233-705F-48F1-9717-A33A0BEE840A}
          LegacyId            #8122
          ExtendedDataType    #TaxWithholdGroup
        ENDPROPERTIES
        
      FIELD #DEL_TDSGroup_IN
        STRING
        PROPERTIES
          Name                #DEL_TDSGroup_IN
          Label               #@GLS5362
          HelpText            #@GLS5823
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #IN
          Origin              #{86B49935-CC45-49F9-A82E-6C1AA8627A58}
          LegacyId            #8121
          ExtendedDataType    #TaxWithholdGroup
        ENDPROPERTIES
        
      FIELD #DEL_TIN_IN
        STRING
        PROPERTIES
          Name                #DEL_TIN_IN
          Label               #@GLS5096
          HelpText            #@GLS5161
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          Origin              #{76D3F95F-29B1-40AC-9C5B-E2B1999CD8EA}
          LegacyId            #8109
          ExtendedDataType    #TaxRegistrationNumber_IN
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_UnitCatchWgt
        STRING
        PROPERTIES
          Name                #DEL_UnitCatchWgt
          Label               #@PRO432
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #SalesLine
          Origin              #{92BC60E7-783F-419F-BE69-7AD8CDB48013}
        ENDPROPERTIES
        
      FIELD #DEL_WithoutInventory_BR
        ENUM
        PROPERTIES
          Name                #DEL_WithoutInventory_BR
          Label               #@GLS408
          Visible             #No
          ConfigurationKey    #SysDeletedObjects60
          Table               #SalesLine
          CountryRegionCodes  #BR
          Origin              #{7B5077F9-83B4-4F12-A838-8800DFE797E5}
          LegacyId            #8008
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DeliveryDateControlType
        ENUM
        PROPERTIES
          Name                #DeliveryDateControlType
          Table               #SalesLine
          Origin              #{E8C4C157-4FBF-4D4E-A58B-8F78AE18FEAE}
          LegacyId            #120
          EnumType            #SalesDeliveryDateControlType
        ENDPROPERTIES
        
      FIELD #DeliveryName
        STRING
        PROPERTIES
          Name                #DeliveryName
          GroupPrompt         #@SYS7399
          Table               #SalesLine
          Origin              #{87F9EAD9-4C32-40F7-A860-A9DF99B77372}
          LegacyId            #79
          ExtendedDataType    #LogisticsDeliveryName
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #DeliveryPostalAddress
        INT64
        PROPERTIES
          Name                #DeliveryPostalAddress
          ConfigurationKey    #TradeMultiShipTo
          Table               #SalesLine
          Origin              #{08B3DC3C-65CB-4085-A3BB-22B9980C0896}
          LegacyId            #178
          ExtendedDataType    #LogisticsPostalAddressRecId
        ENDPROPERTIES
        
      FIELD #DeliveryTaxGroup_BR
        STRING
        PROPERTIES
          Name                #DeliveryTaxGroup_BR
          Label               #@GLS510088
          HelpText            #@GLS510091
          Table               #SalesLine
          CountryRegionCodes  #BR
          IgnoreEDTRelation   #Yes
          Origin              #{B91A5555-C677-41AC-AC25-5646C30A4983}
          ExtendedDataType    #TaxGroup
        ENDPROPERTIES
        
      FIELD #DeliveryTaxItemGroup_BR
        STRING
        PROPERTIES
          Name                #DeliveryTaxItemGroup_BR
          Label               #@GLS510092
          HelpText            #@GLS510093
          Table               #SalesLine
          CountryRegionCodes  #BR
          IgnoreEDTRelation   #Yes
          Origin              #{EB84A3E0-CF37-4855-A581-5F84C17270F4}
          ExtendedDataType    #TaxItemGroup
        ENDPROPERTIES
        
      FIELD #DeliveryType
        ENUM
        PROPERTIES
          Name                #DeliveryType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{A53554CE-A8CF-434E-BF79-99DAC6CE6233}
          LegacyId            #86
          ExtendedDataType    #TradeLineDlvTypeId
          EnumType            #TradeLineDlvType
        ENDPROPERTIES
        
      FIELD #DepreciationStartDate
        DATE
        PROPERTIES
          Name                #DepreciationStartDate
          Table               #SalesLine
          CountryRegionCodes  #IT
          Origin              #{3D347E44-CD4C-46C5-96AD-1879849558AC}
          ExtendedDataType    #AssetDepreciationStartDate
        ENDPROPERTIES
        
      FIELD #DestinationCodeRecId
        INT64
        PROPERTIES
          Name                #DestinationCodeRecId
          Table               #SalesLine
          Origin              #{0DA5CC41-9C3D-4F5C-91BE-EB091B3E4069}
          ExtendedDataType    #XAP_DestinationCodeRecId
        ENDPROPERTIES
        
      FIELD #DisablePOCreation
        ENUM
        PROPERTIES
          Name                #DisablePOCreation
          Table               #SalesLine
          Origin              #{77EA607D-C285-450C-9A96-0BC816CF24BE}
          ExtendedDataType    #GGH_DisablePOCreation
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DlvMode
        STRING
        PROPERTIES
          Name                #DlvMode
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{AEA2474E-CD83-4A27-93A1-A39739F8F189}
          LegacyId            #59
          ExtendedDataType    #DlvModeId
        ENDPROPERTIES
        
      FIELD #DlvReasonId
        STRING
        PROPERTIES
          Name                #DlvReasonId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{6E5F6704-5363-4E25-AFA2-F2122777B24C}
          ExtendedDataType    #DlvReasonId
        ENDPROPERTIES
        
      FIELD #DPISItemNo
        INT
        PROPERTIES
          Name                #DPISItemNo
          Table               #SalesLine
          Origin              #{208E38BE-71D0-4B62-B5A5-E8595EC23BE2}
          ExtendedDataType    #XAP_DPISItemNo
        ENDPROPERTIES
        
      FIELD #DPISOrderOccur
        INT
        PROPERTIES
          Name                #DPISOrderOccur
          Table               #SalesLine
          Origin              #{44D5F05D-C43F-45EA-95EC-B8448C2737F3}
          ExtendedDataType    #XAP_DPISOrderOccur
        ENDPROPERTIES
        
      FIELD #DropBoxCodeRecId
        INT64
        PROPERTIES
          Name                #DropBoxCodeRecId
          Table               #SalesLine
          Origin              #{0C89CDA8-59F8-4198-B8F6-F103128F9FC1}
          ExtendedDataType    #XAP_DropBoxLookUpRecId
        ENDPROPERTIES
        
      FIELD #EInvoiceAccountCode
        STRING
        PROPERTIES
          Name                #EInvoiceAccountCode
          Table               #SalesLine
          Origin              #{AD7E50F7-7580-4E5E-A0C5-B3EBDAF60AA6}
          LegacyId            #105
          ExtendedDataType    #EInvoiceAccountCode
          StringSize          #35
        ENDPROPERTIES
        
      FIELD #EmergencyOrderLineRecId
        INT64
        PROPERTIES
          Name                #EmergencyOrderLineRecId
          Table               #SalesLine
          Origin              #{FF3EDA85-062B-444C-A2ED-957F8AC2EDCC}
          ExtendedDataType    #XAP_EmergencyOrderLineRecId
        ENDPROPERTIES
        
      FIELD #EnableTEPS
        ENUM
        PROPERTIES
          Name                #EnableTEPS
          Table               #SalesLine
          Origin              #{56831BCA-488F-401F-8A01-D6F3CD1EF960}
          ExtendedDataType    #XAP_EnableTEPS
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #EquipmentAttachedTo
        STRING
        PROPERTIES
          Name                #EquipmentAttachedTo
          Label               #@XAP3052
          HelpText            #@XAP3053
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{3577253A-28D5-4766-AC2C-5D9BD82350C0}
          ExtendedDataType    #InventTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #EquipmentConfigId
        STRING
        PROPERTIES
          Name                #EquipmentConfigId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{0BE7130E-3227-4754-A58F-314DDC839A26}
          ExtendedDataType    #XAP_EquipmentConfigId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #EquipmentId
        STRING
        PROPERTIES
          Name                #EquipmentId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{591016DA-52A4-4D45-A099-C76CFC4E743F}
          ExtendedDataType    #XAP_EquipmentId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #EquipmentSIS
        INT64
        PROPERTIES
          Name                #EquipmentSIS
          Table               #SalesLine
          Origin              #{959ED632-3FB0-4B86-8B56-6A8827CD1B2E}
          ExtendedDataType    #XAP_EquipmentRecId
        ENDPROPERTIES
        
      FIELD #EquipmentSMU
        REAL
        PROPERTIES
          Name                #EquipmentSMU
          Table               #SalesLine
          Origin              #{E650478D-187A-42F7-A8AD-004AE2C0AC29}
          ExtendedDataType    #XAP_EquipmentSMU
        ENDPROPERTIES
        
      FIELD #EquipmentSMUCaptureDate
        DATETIME
        PROPERTIES
          Name                #EquipmentSMUCaptureDate
          Table               #SalesLine
          Origin              #{2743930A-9375-4974-B420-1A1CFFA6930E}
          ExtendedDataType    #XAP_EquipmentSMUCaptureDate
        ENDPROPERTIES
        
      FIELD #EstQty
        REAL
        PROPERTIES
          Name                #EstQty
          Table               #SalesLine
          Origin              #{4ABF60FB-2DC3-4D01-B5E9-6D5CEFE51958}
          ExtendedDataType    #XAP_EstQty
        ENDPROPERTIES
        
      FIELD #ExchangeCoreCharge
        ENUM
        PROPERTIES
          Name                #ExchangeCoreCharge
          Table               #SalesLine
          Origin              #{C9B0F935-99BA-474F-B933-B355429F699A}
          EnumType            #XAP_ExchangeCoreCharge
        ENDPROPERTIES
        
      FIELD #ExchangeRate
        REAL
        PROPERTIES
          Name                #ExchangeRate
          Table               #SalesLine
          Origin              #{F1BE354E-4123-4FD1-96DE-556DC4423972}
          ExtendedDataType    #CurrencyExchangeRate
        ENDPROPERTIES
        
      FIELD #ExchangeRateType
        INT64
        PROPERTIES
          Name                #ExchangeRateType
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{718A20F0-3AE6-4009-BC51-4747C3E8FC06}
          ExtendedDataType    #ExchangeRateTypeRecId
        ENDPROPERTIES
        
      FIELD #ExcludeFromSvcQuote
        ENUM
        PROPERTIES
          Name                #ExcludeFromSvcQuote
          Table               #SalesLine
          Origin              #{56FBEDA8-EBF1-4C6B-9F33-5B73A7CD8A97}
          ExtendedDataType    #XAP_SvcExcludeFromSvcQuote
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ExpectedRetQty
        REAL
        PROPERTIES
          Name                #ExpectedRetQty
          Table               #SalesLine
          Origin              #{5DD8EEC8-8E5D-4D4E-A7D3-FD4DDE560E97}
          LegacyId            #171
          ExtendedDataType    #ReturnExpectedRetQty
        ENDPROPERTIES
        
      FIELD #ExternalItemId
        STRING
        PROPERTIES
          Name                #ExternalItemId
          Table               #SalesLine
          Origin              #{7739764B-CEF6-4283-8C6E-532814C070C9}
          LegacyId            #7
          ExtendedDataType    #SalesExternalItemId
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #FACRecId
        INT64
        PROPERTIES
          Name                #FACRecId
          Table               #SalesLine
          Origin              #{DFA40A92-59FD-4727-BE36-B334284DD478}
          ExtendedDataType    #GGH_FACRecId
        ENDPROPERTIES
        
      FIELD #FindBest
        ENUM
        PROPERTIES
          Name                #FindBest
          Visible             #No
          Table               #SalesLine
          Origin              #{4533BA52-2C63-494B-A39C-56694A36E6C5}
          EnumType            #UnknownNoYes
        ENDPROPERTIES
        
      FIELD #FreezePrice
        ENUM
        PROPERTIES
          Name                #FreezePrice
          HelpText            #@XAP4698
          Table               #SalesLine
          Origin              #{6A997DB7-106A-4912-9CA9-5269ED1D1B1A}
          ExtendedDataType    #XAP_FreezePrice
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #GroupCode
        STRING
        PROPERTIES
          Name                #GroupCode
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{C891CAC4-2B6E-411E-86B1-3E38E4CD34C4}
          ExtendedDataType    #XAP_SvcGroupCode
        ENDPROPERTIES
        
      FIELD #GroupName
        STRING
        PROPERTIES
          Name                #GroupName
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{AAB73F8D-8266-4C89-AB4C-10229C754920}
          ExtendedDataType    #XAP_SvcGroupName
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #HasSurplusReturnPackListGrief
        ENUM
        PROPERTIES
          Name                #HasSurplusReturnPackListGrief
          Table               #SalesLine
          Origin              #{BED5AEAE-28F0-43C8-87C1-ECC6F6C7A411}
          ExtendedDataType    #XAP_HasSurplusReturnPackListGrief
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #HoseBuildPrinted
        ENUM
        PROPERTIES
          Name                #HoseBuildPrinted
          Label               #@XAP10797
          HelpText            #@XAP10798
          Table               #SalesLine
          Origin              #{87AA717B-2D69-4DCC-BD5D-561F8B0E8BA4}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #IndustryCodeRecId
        INT64
        PROPERTIES
          Name                #IndustryCodeRecId
          Table               #SalesLine
          Origin              #{B7CE9D44-E475-4B64-BA1C-CD43337CB7A1}
          ExtendedDataType    #XAP_IndustryCodeRecId
        ENDPROPERTIES
        
      FIELD #InstalledOn
        INT64
        PROPERTIES
          Name                #InstalledOn
          Label               #@XAP8415
          Table               #SalesLine
          Origin              #{BD69CB9A-FCC1-4256-99C0-71931692D6D3}
          ExtendedDataType    #XAP_EquipmentRecId
        ENDPROPERTIES
        
      FIELD #InterCompanyInventTransId
        STRING
        PROPERTIES
          Name                #InterCompanyInventTransId
          ConfigurationKey    #TradeInterCompany
          Table               #SalesLine
          Origin              #{A7A34557-BA57-42E6-B0AE-9C5CA2FD0E62}
          LegacyId            #75
          ExtendedDataType    #InventRefTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InterCompanyOrigin
        ENUM
        PROPERTIES
          Name                #InterCompanyOrigin
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{AF0EA2E1-C2D7-4C96-8FA9-DF6E16CEB891}
          LegacyId            #52
          EnumType            #InterCompanyOrigin
        ENDPROPERTIES
        
      FIELD #IntrastatFulfillmentDate_HU
        DATE
        PROPERTIES
          Name                #IntrastatFulfillmentDate_HU
          Table               #SalesLine
          Origin              #{D3863C2A-629C-469B-926B-E9DF6FF7B3F7}
          LegacyId            #8135
          ExtendedDataType    #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
      FIELD #InventDeliverNow
        REAL
        PROPERTIES
          Name                #InventDeliverNow
          Label               #@SYS17214
          HelpText            #@SYS5006
          Table               #SalesLine
          Origin              #{5C4DCE05-09BD-4743-9886-0C242EE01479}
          LegacyId            #32
          ExtendedDataType    #InventQty
        ENDPROPERTIES
        
      FIELD #InventDimId
        STRING
        PROPERTIES
          Name                #InventDimId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{CB163E0B-0F8D-41FD-A8A6-1FE0F8037C22}
          LegacyId            #63
          ExtendedDataType    #InventDimId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventRefId
        STRING
        PROPERTIES
          Name                #InventRefId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{BEF42BE3-C8CF-430C-8512-BE464D49AA04}
          LegacyId            #51
          ExtendedDataType    #InventRefId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventRefTransId
        STRING
        PROPERTIES
          Name                #InventRefTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{4129D49F-F618-4A6F-8DD2-958253813BE7}
          LegacyId            #49
          ExtendedDataType    #InventRefTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventRefType
        ENUM
        PROPERTIES
          Name                #InventRefType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{B41D3E27-A8E5-476F-BC8F-306BB6E0C842}
          LegacyId            #50
          EnumType            #InventRefType
        ENDPROPERTIES
        
      FIELD #InventSerialId
        STRING
        PROPERTIES
          Name                #InventSerialId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{C5104F9A-2FF9-42EB-9667-AEF6939323C2}
          ExtendedDataType    #InventSerialId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventSerialIdInstalledOn
        STRING
        PROPERTIES
          Name                #InventSerialIdInstalledOn
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{9BE66E29-9900-45FA-89A1-B147AE792E5E}
          ExtendedDataType    #GGH_SvcInventSerialIdInstalledOn
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventSerialIdSIS
        STRING
        PROPERTIES
          Name                #InventSerialIdSIS
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{344667D4-82F1-4559-BC0A-6C407709F494}
          ExtendedDataType    #InventSerialId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventTransId
        STRING
        PROPERTIES
          Name                #InventTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{FC034555-1600-4B70-A168-53A536B0FAEC}
          LegacyId            #26
          ExtendedDataType    #TradeInventTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventTransIdReturn
        STRING
        PROPERTIES
          Name                #InventTransIdReturn
          Table               #SalesLine
          Origin              #{454CD763-7BF4-4282-A64E-84B9B2177E9F}
          LegacyId            #60
          ExtendedDataType    #TradeInventTransIdReturn
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InvoiceGTDId_RU
        STRING
        PROPERTIES
          Name                #InvoiceGTDId_RU
          Table               #SalesLine
          Origin              #{BFDDFA11-A746-4443-9746-1E5289C7B82B}
          ExtendedDataType    #CustFreeInvoiceGTDId_RU
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #InvoiceScheduleLineRecId
        INT64
        PROPERTIES
          Name                #InvoiceScheduleLineRecId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{1C8FC0E3-5043-4B5E-8BC8-BF0800E70823}
          ExtendedDataType    #XAP_InvoiceScheduleLineRefRecId
        ENDPROPERTIES
        
      FIELD #ItemBOMId
        STRING
        PROPERTIES
          Name                #ItemBOMId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{B200B994-B4F0-4F33-9D32-511A331FC628}
          LegacyId            #54
          ExtendedDataType    #ItemBOMId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ItemId
        STRING
        PROPERTIES
          Name                #ItemId
          HelpText            #@SYS13670
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{77C6D395-B063-431C-8CC4-5A6DD513D9E6}
          LegacyId            #3
          ExtendedDataType    #ItemIdSmall
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #ItemPBAId
        STRING
        PROPERTIES
          Name                #ItemPBAId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{66BD3438-350A-4B3B-A0A7-3F39E59FE3EF}
          LegacyId            #8001
          ExtendedDataType    #PBAId
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #ItemReplaced
        ENUM
        PROPERTIES
          Name                #ItemReplaced
          Table               #SalesLine
          Origin              #{9A51EC89-6901-4E90-9CB8-1BCA2F9F0ABA}
          LegacyId            #169
          ExtendedDataType    #ReturnItemReplaced
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ItemRouteId
        STRING
        PROPERTIES
          Name                #ItemRouteId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{46593D3D-7A12-4FEF-BB0A-76B8EAF90B99}
          LegacyId            #55
          ExtendedDataType    #ItemRouteId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ItemTagging
        ENUM
        PROPERTIES
          Name                #ItemTagging
          Table               #SalesLine
          Origin              #{8F9361D2-0EF2-403F-B2DF-4CD1B28E973F}
          LegacyId            #98
          ExtendedDataType    #RFIDItemTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #JobSiteRecId
        INT64
        PROPERTIES
          Name                #JobSiteRecId
          Table               #SalesLine
          Origin              #{47D75E41-4F4C-4539-9C24-1B50FD8BD6C3}
          ExtendedDataType    #XAP_RenJobSiteRecId
        ENDPROPERTIES
        
      FIELD #LedgerDimension
        INT64
        PROPERTIES
          Name                #LedgerDimension
          HelpText            #@SYS13324
          ConfigurationKey    #LogisticsBasic
          Table               #SalesLine
          Origin              #{B641E689-FE62-440C-B24C-C46C78D4A90F}
          LegacyId            #126
          ExtendedDataType    #LedgerDimensionDefaultAccount
        ENDPROPERTIES
        
      FIELD #Level
        INT
        PROPERTIES
          Name                #Level
          Table               #SalesLine
          Origin              #{9929BBAA-16C7-46DC-B932-BCF53ECE1625}
          ExtendedDataType    #GGH_LevelInt
        ENDPROPERTIES
        
      FIELD #LineAmount
        REAL
        PROPERTIES
          Name                #LineAmount
          Table               #SalesLine
          Origin              #{037DFB15-BB74-4862-877F-89D274250B18}
          LegacyId            #18
          ExtendedDataType    #SalesLineAmount
        ENDPROPERTIES
        
      FIELD #LineCategoryGroupId
        INT64
        PROPERTIES
          Name                #LineCategoryGroupId
          Table               #SalesLine
          Origin              #{E1218B78-48FF-42FF-9DF7-EA6ABCAB0513}
          ExtendedDataType    #XAP_SvcLineCategoryGroupRefRecId
        ENDPROPERTIES
        
      FIELD #LineDeliveryType
        ENUM
        PROPERTIES
          Name                #LineDeliveryType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{2C4086AC-AB68-4F95-A836-DA8270ED84C2}
          LegacyId            #104
          EnumType            #LineDeliveryType
        ENDPROPERTIES
        
      FIELD #LineDisc
        REAL
        PROPERTIES
          Name                #LineDisc
          Table               #SalesLine
          Origin              #{FB996F13-7EF6-4BB7-8694-1584CDFA2BFF}
          LegacyId            #17
          ExtendedDataType    #SalesLineDisc
        ENDPROPERTIES
        
      FIELD #LineHeader
        STRING
        PROPERTIES
          Name                #LineHeader
          Table               #SalesLine
          Origin              #{2DFC711E-C55C-4693-B558-20DA3D002B12}
          LegacyId            #56
          ExtendedDataType    #LineHeader
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #LineNum
        REAL
        PROPERTIES
          Name                #LineNum
          HelpText            #@SYS4691
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{97F28BFF-23A4-4324-997A-57E78979E62B}
          LegacyId            #2
          ExtendedDataType    #LineNum
        ENDPROPERTIES
        
      FIELD #LinePercent
        REAL
        PROPERTIES
          Name                #LinePercent
          Table               #SalesLine
          Origin              #{E087280D-7959-4234-9602-102B2A05C9E9}
          LegacyId            #16
          ExtendedDataType    #SalesLinePercent
        ENDPROPERTIES
        
      FIELD #LineType
        ENUM
        PROPERTIES
          Name                #LineType
          Table               #SalesLine
          Origin              #{711961D5-AD4D-486E-8C79-A137B56C9E5B}
          EnumType            #XAP_LineTypes
        ENDPROPERTIES
        
      FIELD #MachineManufacturerId
        INT64
        PROPERTIES
          Name                #MachineManufacturerId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{B4838784-071C-4525-9F56-1EF5EED2A74B}
          ExtendedDataType    #XAP_MachineManufacturerRecId
        ENDPROPERTIES
        
      FIELD #MachineTypeId
        INT64
        PROPERTIES
          Name                #MachineTypeId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{3A373AB1-A214-4E9C-B301-D3C9B59ACAC0}
          ExtendedDataType    #XAP_MachineTypeRecId
        ENDPROPERTIES
        
      FIELD #ManualEntryChangepolicy
        INT64
        PROPERTIES
          Name                #ManualEntryChangepolicy
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{3A6FAC40-3EE7-4B02-BD40-82BF6652F73B}
          LegacyId            #168
          ExtendedDataType    #PriceDiscPolicyManual
        ENDPROPERTIES
        
      FIELD #ManualMarketingProgram
        ENUM
        PROPERTIES
          Name                #ManualMarketingProgram
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{6F277B59-75A1-4526-A53A-58B2DB0324A6}
          ExtendedDataType    #XAP_ManualMarketingProgram
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ManualPurchaseOrder
        ENUM
        PROPERTIES
          Name                #ManualPurchaseOrder
          Label               #@XAP5542
          HelpText            #@XAP5544
          Table               #SalesLine
          Origin              #{D1591AC1-982D-45E6-94C9-38A153A8091F}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ManualTransferOrder
        ENUM
        PROPERTIES
          Name                #ManualTransferOrder
          Label               #@XAP5543
          HelpText            #@XAP5545
          Table               #SalesLine
          Origin              #{A56B3371-06FA-446F-BF12-FE97DAD87556}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #MarketingTableRecId
        INT64
        PROPERTIES
          Name                #MarketingTableRecId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{9290CC54-8625-4E45-A9B9-08AEA02364BA}
          ExtendedDataType    #XAP_MarketingTableRecId
        ENDPROPERTIES
        
      FIELD #MarkupPercentage
        REAL
        PROPERTIES
          Name                #MarkupPercentage
          Table               #SalesLine
          Origin              #{36C8C1E0-4115-44CC-B587-E5172B0FC7BF}
          ExtendedDataType    #XAP_MarkupPercentage
        ENDPROPERTIES
        
      FIELD #MatchingAgreementLine
        INT64
        PROPERTIES
          Name                #MatchingAgreementLine
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{BA442F97-D0D2-4B79-9F6B-E32C9195A7B5}
          LegacyId            #156
          ExtendedDataType    #AgreementLineRecId
        ENDPROPERTIES
        
      FIELD #MRPConsolidationCodeSetupRecId
        INT64
        PROPERTIES
          Name                #MRPConsolidationCodeSetupRecId
          Table               #SalesLine
          Origin              #{29224BF1-79EE-4CCF-9EA8-2E08A2C20D45}
          ExtendedDataType    #GGH_MRPConsolidationCodeSetupRecId
        ENDPROPERTIES
        
      FIELD #MultiLnDisc
        REAL
        PROPERTIES
          Name                #MultiLnDisc
          Table               #SalesLine
          Origin              #{11A34374-708F-4559-AADE-F248E96A7AB3}
          LegacyId            #33
          ExtendedDataType    #SalesMultiLnDisc
        ENDPROPERTIES
        
      FIELD #MultiLnPercent
        REAL
        PROPERTIES
          Name                #MultiLnPercent
          Table               #SalesLine
          Origin              #{2FDBB0FA-7ED0-419A-8E6D-5E99BD8516CB}
          LegacyId            #34
          ExtendedDataType    #SalesMultiLnPercent
        ENDPROPERTIES
        
      FIELD #MultipleReplaced
        ENUM
        PROPERTIES
          Name                #MultipleReplaced
          Label               #@XAP4777
          Visible             #No
          Table               #SalesLine
          Origin              #{5FEE3BFF-92C6-4B56-8901-F50313F084B2}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          HelpText            #@SYS9860
          Table               #SalesLine
          Origin              #{33C6275F-FF3F-43E3-AC79-8506216D2B8D}
          LegacyId            #6
          ExtendedDataType    #ItemFreeTxt
          StringSize          #1000
        ENDPROPERTIES
        
      FIELD #NTORecId
        INT64
        PROPERTIES
          Name                #NTORecId
          Table               #SalesLine
          Origin              #{0A512411-7928-46CB-9AD9-7247A332EE86}
          ExtendedDataType    #XAP_RenNTORecId
        ENDPROPERTIES
        
      FIELD #OriginalLineDisc
        REAL
        PROPERTIES
          Name                #OriginalLineDisc
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{7FDF6A50-24BF-4DDF-B3E0-D8D2099F46A7}
          ExtendedDataType    #GGH_OriginalLineDisc
        ENDPROPERTIES
        
      FIELD #OriginalSalesPrice
        REAL
        PROPERTIES
          Name                #OriginalSalesPrice
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{161B9F86-2DA2-4BB0-9842-8B59AB821BCE}
          ExtendedDataType    #XAP_OriginalSalesPrice
        ENDPROPERTIES
        
      FIELD #OrigReservation
        ENUM
        PROPERTIES
          Name                #OrigReservation
          Visible             #No
          Table               #SalesLine
          Origin              #{F3DE4518-1DD8-4DC0-A401-879FA9F97309}
          EnumType            #ItemReservation
        ENDPROPERTIES
        
      FIELD #OverAllowance
        REAL
        PROPERTIES
          Name                #OverAllowance
          Table               #SalesLine
          Origin              #{96084E48-D825-49C6-BCA0-57B5A5F058CC}
          ExtendedDataType    #XAP_OverAllowanceAmount
        ENDPROPERTIES
        
      FIELD #OverDeliveryPct
        REAL
        PROPERTIES
          Name                #OverDeliveryPct
          Table               #SalesLine
          Origin              #{66E2A8F5-A1BE-48A1-8CFF-E2B63D13697D}
          LegacyId            #46
          ExtendedDataType    #SalesOverDeliveryPct
        ENDPROPERTIES
        
      FIELD #Overtime
        ENUM
        PROPERTIES
          Name                #Overtime
          Label               #@SYS38404
          HelpText            #@XAP17572
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{A8352B67-9638-4337-9CEA-E19FE122FB36}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PackedExtensions
        QUEUE
        PROPERTIES
          Name                #PackedExtensions
          SaveContents        #No
          Visible             #No
          Table               #SalesLine
          Origin              #{4BD9ABCA-04DB-4EFD-BC7A-E9F09416D89D}
          ExtendedDataType    #SysExtensionSerializerPackedContainer
        ENDPROPERTIES
        
      FIELD #PackingUnit
        STRING
        PROPERTIES
          Name                #PackingUnit
          Table               #SalesLine
          Origin              #{90C99C5E-DB04-46EB-BF81-235E7935F0F8}
          LegacyId            #73
          ExtendedDataType    #InventPackingUnit
        ENDPROPERTIES
        
      FIELD #PackingUnitQty
        REAL
        PROPERTIES
          Name                #PackingUnitQty
          Table               #SalesLine
          Origin              #{AE9DE927-822A-406F-83C9-C62DED856AA4}
          LegacyId            #72
          ExtendedDataType    #InventPackingUnitQty
        ENDPROPERTIES
        
      FIELD #PalletTagging
        ENUM
        PROPERTIES
          Name                #PalletTagging
          Table               #SalesLine
          Origin              #{C3ACAFC1-91DC-4DE8-8741-373D3A5C24E5}
          LegacyId            #100
          ExtendedDataType    #RFIDPalletTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PartCausedFailure
        STRING
        PROPERTIES
          Name                #PartCausedFailure
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{8C8AC051-6736-48A8-B1F8-C2F0CCB843C5}
          ExtendedDataType    #XAP_SvcPartCausedFailure
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #PdsBatchAttribAutoRes
        ENUM
        PROPERTIES
          Name                #PdsBatchAttribAutoRes
          Table               #SalesLine
          Origin              #{93D44110-FED9-4248-B6E4-68EA909EE3D3}
          ExtendedDataType    #PdsBatchAttribAutoRes
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PdsCWExpectedRetQty
        REAL
        PROPERTIES
          Name                #PdsCWExpectedRetQty
          Table               #SalesLine
          Origin              #{05DED7E6-2104-468C-89FA-7C4A07B903D5}
          ExtendedDataType    #PdsCWExpectedRetQty
        ENDPROPERTIES
        
      FIELD #PdsCWInventDeliverNow
        REAL
        PROPERTIES
          Name                #PdsCWInventDeliverNow
          Label               #@PDS73
          HelpText            #@PDS74
          Table               #SalesLine
          Origin              #{D620F847-BCAF-40CD-9496-AC652FA52BD9}
          ExtendedDataType    #PdsCWInventQty
        ENDPROPERTIES
        
      FIELD #PdsCWQty
        REAL
        PROPERTIES
          Name                #PdsCWQty
          Table               #SalesLine
          Origin              #{BA8A9F81-1CB4-4E96-98DC-6132495DC2A3}
          ExtendedDataType    #PdsCWInventQty
        ENDPROPERTIES
        
      FIELD #PdsCWRemainInventFinancial
        REAL
        PROPERTIES
          Name                #PdsCWRemainInventFinancial
          Label               #@PDS75
          HelpText            #@PDS171
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{E5064716-14AF-4B46-897F-2EEF8732FD8F}
          ExtendedDataType    #PdsCWInventQty
        ENDPROPERTIES
        
      FIELD #PdsCWRemainInventPhysical
        REAL
        PROPERTIES
          Name                #PdsCWRemainInventPhysical
          Label               #@PDS96
          HelpText            #@PDS97
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{FC238D8A-E116-4D0E-BF9E-87ECFDF35248}
          ExtendedDataType    #PdsCWInventQty
        ENDPROPERTIES
        
      FIELD #PdsExcludeFromRebate
        ENUM
        PROPERTIES
          Name                #PdsExcludeFromRebate
          Table               #SalesLine
          Origin              #{3AB493EC-E8C7-4481-8EF5-6C4C39548EDB}
          LegacyId            #16047
          ExtendedDataType    #PdsExcludeFromRebate
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PdsItemRebateGroupId
        STRING
        PROPERTIES
          Name                #PdsItemRebateGroupId
          Table               #SalesLine
          Origin              #{2651287D-0C51-4F97-9AD2-660C6C24D6FF}
          ExtendedDataType    #PdsItemRebateGroupId
        ENDPROPERTIES
        
      FIELD #PdsSameLot
        ENUM
        PROPERTIES
          Name                #PdsSameLot
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{98591477-9C92-4677-B9B0-C8BD64A757CC}
          ExtendedDataType    #PdsSameLot
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PdsSameLotOverride
        ENUM
        PROPERTIES
          Name                #PdsSameLotOverride
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{52C17C6E-8C09-4DBE-AE00-999961A9626F}
          ExtendedDataType    #PdsSameLotOverride
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Port
        STRING
        PROPERTIES
          Name                #Port
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{F460F09B-0E1C-4A35-BDAF-E943E622E833}
          LegacyId            #68
          ExtendedDataType    #IntrastatPortId
        ENDPROPERTIES
        
      FIELD #PostingProfile_RU
        STRING
        PROPERTIES
          Name                #PostingProfile_RU
          Table               #SalesLine
          CountryRegionCodes  #RU
          Origin              #{42B04161-E4E5-4BA7-9D95-5FD6B036D21E}
          LegacyId            #8032
          ExtendedDataType    #CustPostingProfile
        ENDPROPERTIES
        
      FIELD #PowerSystemsQuotationLine
        STRING
        PROPERTIES
          Name                #PowerSystemsQuotationLine
          Visible             #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{1AB028D8-9844-47BB-BF80-A8D3367BBC87}
          ExtendedDataType    #InventTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PriceAgreementDate_RU
        DATE
        PROPERTIES
          Name                #PriceAgreementDate_RU
          Table               #SalesLine
          Origin              #{4E697C06-0EC9-4E8A-AABD-7DE6225EAAE5}
          ExtendedDataType    #PriceAgreementDate_RU
        ENDPROPERTIES
        
      FIELD #PriceUnit
        REAL
        PROPERTIES
          Name                #PriceUnit
          HelpText            #@SYS3472
          Table               #SalesLine
          Origin              #{E9C48A5B-3573-43C9-884C-440FB288DE66}
          LegacyId            #24
          ExtendedDataType    #PriceUnit
        ENDPROPERTIES
        
      FIELD #PrimeProduct
        ENUM
        PROPERTIES
          Name                #PrimeProduct
          HelpText            #@XCU922
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{B1E8FA9F-AC80-4B5A-B987-E89DF314D84D}
          ExtendedDataType    #XAP_PSPrimeProduct
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ProjCategoryId
        STRING
        PROPERTIES
          Name                #ProjCategoryId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{47BFCF69-1FC3-494C-9D0E-53C11228C3C6}
          LegacyId            #61
          ExtendedDataType    #ProjCategoryId
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #ProjId
        STRING
        PROPERTIES
          Name                #ProjId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{C63B2081-48C6-496E-B63F-63F15AB956DA}
          LegacyId            #62
          ExtendedDataType    #ProjId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ProjLinePropertyId
        STRING
        PROPERTIES
          Name                #ProjLinePropertyId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{3FF25346-0DC0-4F00-9627-FFCDA13E2376}
          LegacyId            #69
          ExtendedDataType    #ProjLinePropertyId
        ENDPROPERTIES
        
      FIELD #ProjTransId
        STRING
        PROPERTIES
          Name                #ProjTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{F476EC60-6432-422C-A7A5-C2A1D392ABF3}
          LegacyId            #25
          ExtendedDataType    #ProjItemTransId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PropertyNumber_MX
        STRING
        PROPERTIES
          Name                #PropertyNumber_MX
          Table               #SalesLine
          Origin              #{477816AA-67CA-49A4-B9FC-79DEFA306067}
          LegacyId            #223
          ExtendedDataType    #PropertyNumber_MX
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PSAContractLineNum
        STRING
        PROPERTIES
          Name                #PSAContractLineNum
          Label               #@PSA10946
          HelpText            #@PSA10947
          ConfigurationKey    #PSAContractLine
          Table               #SalesLine
          Origin              #{F2B98288-4E71-40F3-8DCA-AA989526B93A}
          ExtendedDataType    #String30
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #PSAProjProposalInventQty
        REAL
        PROPERTIES
          Name                #PSAProjProposalInventQty
          ConfigurationKey    #Project3
          Table               #SalesLine
          Origin              #{FF68FF87-129C-4EC5-9727-E9BEEB916838}
          LegacyId            #16045
          ExtendedDataType    #Qty
        ENDPROPERTIES
        
      FIELD #PSAProjProposalQty
        REAL
        PROPERTIES
          Name                #PSAProjProposalQty
          ConfigurationKey    #Project3
          Table               #SalesLine
          Origin              #{89286914-906D-4FB4-ACA7-FFE9CED75049}
          LegacyId            #16044
          ExtendedDataType    #Qty
        ENDPROPERTIES
        
      FIELD #PSUnitCost
        REAL
        PROPERTIES
          Name                #PSUnitCost
          Table               #SalesLine
          Origin              #{51DF9EC5-23EE-431A-897B-05D058EB1DFA}
          ExtendedDataType    #XAP_PSUnitCost
        ENDPROPERTIES
        
      FIELD #PurchaseCurrencyCode
        STRING
        PROPERTIES
          Name                #PurchaseCurrencyCode
          Label               #@GLS103002
          HelpText            #@GGH2157
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{F100896C-BF55-49FA-BC2D-7D77EFF18F08}
          ExtendedDataType    #CurrencyCode
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #PurchaseCurrUnitCost
        REAL
        PROPERTIES
          Name                #PurchaseCurrUnitCost
          Label               #@SYS12550
          Table               #SalesLine
          Origin              #{FEA0EF9D-E754-4D1C-8AE6-75072F7CBD30}
          ExtendedDataType    #XAP_Cost
        ENDPROPERTIES
        
      FIELD #PurchorderFormNum
        STRING
        PROPERTIES
          Name                #PurchorderFormNum
          Table               #SalesLine
          Origin              #{FB3CE4F7-483A-4523-AD2F-90A9A56F7891}
          LegacyId            #89
          ExtendedDataType    #CustPurchaseOrder
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #QtyOrdered
        REAL
        PROPERTIES
          Name                #QtyOrdered
          HelpText            #@SYS8090
          Table               #SalesLine
          Origin              #{B2D1217E-1F3F-497D-8B4A-C39ACE535713}
          LegacyId            #9
          ExtendedDataType    #InventQty
        ENDPROPERTIES
        
      FIELD #QuoteVendor
        STRING
        PROPERTIES
          Name                #QuoteVendor
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{94EDF24A-2737-4618-8978-911C2347AF38}
          ExtendedDataType    #XAP_PSQuoteVendor
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #RateContractId
        STRING
        PROPERTIES
          Name                #RateContractId
          Table               #SalesLine
          Origin              #{AE9CD00C-FF69-404C-9CFF-4690E2ED5F76}
          ExtendedDataType    #GGH_ContractId
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #ReceiptDateConfirmed
        DATE
        PROPERTIES
          Name                #ReceiptDateConfirmed
          Table               #SalesLine
          Origin              #{B4F126B0-3C20-4AA5-AD45-C336ACCF49F5}
          LegacyId            #90
          ExtendedDataType    #SalesReceiptDateConfirmed
        ENDPROPERTIES
        
      FIELD #ReceiptDateRequested
        DATE
        PROPERTIES
          Name                #ReceiptDateRequested
          Table               #SalesLine
          Origin              #{45A0CA16-6AC4-4FF5-ACEB-275E492F6F67}
          LegacyId            #70
          ExtendedDataType    #SalesReceiptDateRequested
        ENDPROPERTIES
        
      FIELD #RefReturnInvoiceTrans_W
        INT64
        PROPERTIES
          Name                #RefReturnInvoiceTrans_W
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{802C64A2-0DFB-4BB6-A4D5-DDD182234F26}
          LegacyId            #8014
          ExtendedDataType    #RefReturnInvoiceTrans_W
        ENDPROPERTIES
        
      FIELD #RemainInventFinancial
        REAL
        PROPERTIES
          Name                #RemainInventFinancial
          Label               #@SYS22380
          HelpText            #@SYS27453
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{B8D8D3B9-1DA6-4596-BDFC-BF591BE1D51A}
          LegacyId            #76
          ExtendedDataType    #InventQty
        ENDPROPERTIES
        
      FIELD #RemainInventPhysical
        REAL
        PROPERTIES
          Name                #RemainInventPhysical
          Label               #@SYS22556
          HelpText            #@SYS15801
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{E4F2B815-0043-4B3D-A3E8-23D92F26A092}
          LegacyId            #38
          ExtendedDataType    #InventQty
        ENDPROPERTIES
        
      FIELD #RemainSalesFinancial
        REAL
        PROPERTIES
          Name                #RemainSalesFinancial
          Label               #@SYS22380
          HelpText            #@SYS27453
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{AD3B82D3-BEAF-424C-AD6A-2F76B9F38AD1}
          LegacyId            #12
          ExtendedDataType    #SalesQty
        ENDPROPERTIES
        
      FIELD #RemainSalesPhysical
        REAL
        PROPERTIES
          Name                #RemainSalesPhysical
          Label               #@SYS22556
          HelpText            #@SYS27454
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{F2D1AA46-A139-42C3-A09A-00CB6EFAB320}
          LegacyId            #11
          ExtendedDataType    #SalesQty
        ENDPROPERTIES
        
      FIELD #ReplacedItemId
        STRING
        PROPERTIES
          Name                #ReplacedItemId
          Visible             #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{E457B05F-B81E-4177-BF96-DFABDD7D09D6}
          ExtendedDataType    #ItemId
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #ReqInventRefId
        STRING
        PROPERTIES
          Name                #ReqInventRefId
          Visible             #No
          Table               #SalesLine
          Origin              #{5F854F6F-6849-4EFC-A6C3-5DA897CD9142}
          ExtendedDataType    #InventRefId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #RequestedBy
        STRING
        PROPERTIES
          Name                #RequestedBy
          Label               #@PSA1220
          HelpText            #@GGH1912
          Table               #SalesLine
          Origin              #{7A0C376B-533E-4942-9AA6-A5B5B2203F2F}
          ExtendedDataType    #UserId
          StringSize          #8
        ENDPROPERTIES
        
      FIELD #RequiredQty
        REAL
        PROPERTIES
          Name                #RequiredQty
          Table               #SalesLine
          Origin              #{28931DDC-13DD-41B6-A460-B2ECC83D0E01}
          ExtendedDataType    #XAP_RequiredQuantity
        ENDPROPERTIES
        
      FIELD #RequiredQtyOrig
        REAL
        PROPERTIES
          Name                #RequiredQtyOrig
          Visible             #No
          Table               #SalesLine
          Origin              #{25B98E52-7A00-41DC-830B-FE17CB8ECB43}
          ExtendedDataType    #XAP_RequiredQuantity
        ENDPROPERTIES
        
      FIELD #Reservation
        ENUM
        PROPERTIES
          Name                #Reservation
          Table               #SalesLine
          Origin              #{88D78220-F7B4-4581-B123-4F42A48EB445}
          LegacyId            #20
          EnumType            #ItemReservation
        ENDPROPERTIES
        
      FIELD #RetailVariantId
        STRING
        PROPERTIES
          Name                #RetailVariantId
          Table               #SalesLine
          Origin              #{943C270E-565A-4ABD-B5E2-7C8BA7F899BE}
          LegacyId            #16050
          ExtendedDataType    #RetailVariantId
        ENDPROPERTIES
        
      FIELD #ReturnAllowReservation
        ENUM
        PROPERTIES
          Name                #ReturnAllowReservation
          Table               #SalesLine
          Origin              #{CB532F5E-ED25-415C-9B0F-DFCF8D4B1806}
          LegacyId            #127
          ExtendedDataType    #ReturnAllowReservation
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ReturnArrivalDate
        DATE
        PROPERTIES
          Name                #ReturnArrivalDate
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{0E4F8A5A-AB1C-418B-B9B6-3EBCFDD41D50}
          LegacyId            #173
          ExtendedDataType    #ReturnArrivalDate
        ENDPROPERTIES
        
      FIELD #ReturnClosedDate
        DATE
        PROPERTIES
          Name                #ReturnClosedDate
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{E1ECDD40-D5C4-4D98-AF6C-BE8BFBF9A577}
          LegacyId            #174
          ExtendedDataType    #ReturnClosedDate
        ENDPROPERTIES
        
      FIELD #ReturnCondition
        ENUM
        PROPERTIES
          Name                #ReturnCondition
          Table               #SalesLine
          Origin              #{EBA941E3-0168-44A9-963E-855BF5FCF0FC}
          EnumType            #XAP_PICReturnConditions
        ENDPROPERTIES
        
      FIELD #ReturnDeadline
        DATE
        PROPERTIES
          Name                #ReturnDeadline
          Label               #@SYS106124
          Table               #SalesLine
          Origin              #{4B5DE42D-5109-49CB-97E6-F4CC94B1288D}
          LegacyId            #170
          ExtendedDataType    #ReturnDeadline
        ENDPROPERTIES
        
      FIELD #ReturnDispositionCodeId
        STRING
        PROPERTIES
          Name                #ReturnDispositionCodeId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{2A6E9192-8A9F-4BAB-B6A3-C169A3966FB9}
          LegacyId            #175
          ExtendedDataType    #ReturnDispositionCodeId
        ENDPROPERTIES
        
      FIELD #ReturnedOrder
        STRING
        PROPERTIES
          Name                #ReturnedOrder
          HelpText            #@GGH1907
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{EFBD6A51-1B14-4B77-B7E6-2C62A9A7E7FE}
          ExtendedDataType    #ReturnReasonCodeId
        ENDPROPERTIES
        
      FIELD #ReturnLocation
        STRING
        PROPERTIES
          Name                #ReturnLocation
          Table               #SalesLine
          Origin              #{35DED270-6065-4633-86DE-69B766B76CBE}
          ExtendedDataType    #XAP_SvcPartsReturnLocation
        ENDPROPERTIES
        
      FIELD #ReturnStatus
        ENUM
        PROPERTIES
          Name                #ReturnStatus
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{0B6576CD-90A9-4E68-B701-FA380622B4A2}
          LegacyId            #172
          EnumType            #ReturnStatusLine
        ENDPROPERTIES
        
      FIELD #ReturnWarehouse
        STRING
        PROPERTIES
          Name                #ReturnWarehouse
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{24186D05-9103-49B4-9A09-63A50573B1A3}
          ExtendedDataType    #XAP_SvcServiceReturnWarehouse
        ENDPROPERTIES
        
      FIELD #SalesCategory
        INT64
        PROPERTIES
          Name                #SalesCategory
          Table               #SalesLine
          Origin              #{ECEA332D-B3AF-4702-B9D9-163E11704566}
          LegacyId            #111
          ExtendedDataType    #SalesCategory
        ENDPROPERTIES
        
      FIELD #SalesDeliverNow
        REAL
        PROPERTIES
          Name                #SalesDeliverNow
          Label               #@SYS17214
          HelpText            #@SYS69027
          Table               #SalesLine
          Origin              #{EAF3C83A-06EC-43D8-8AEC-546B5058AB58}
          LegacyId            #10
          ExtendedDataType    #SalesQty
        ENDPROPERTIES
        
      FIELD #SalesGroup
        STRING
        PROPERTIES
          Name                #SalesGroup
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{56D2BFA2-D978-42A8-A299-C385B7FA2F6D}
          LegacyId            #21
          ExtendedDataType    #CommissSalesGroup
        ENDPROPERTIES
        
      FIELD #SalesId
        STRING
        PROPERTIES
          Name                #SalesId
          HelpText            #@SYS3357
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{54E73B5B-0989-4F5E-AB1C-A28954AC2672}
          LegacyId            #1
          ExtendedDataType    #SalesIdBase
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #SalesMarkup
        REAL
        PROPERTIES
          Name                #SalesMarkup
          HelpText            #@SYS16916
          Table               #SalesLine
          Origin              #{18363FAE-570C-474E-824F-5BD5F73415CE}
          LegacyId            #31
          ExtendedDataType    #SalesMarkup
        ENDPROPERTIES
        
      FIELD #SalesPoolId
        STRING
        PROPERTIES
          Name                #SalesPoolId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{BED8BA13-51A0-4A69-B240-5885C2DA5032}
          ExtendedDataType    #SalesPoolId
        ENDPROPERTIES
        
      FIELD #SalesPrice
        REAL
        PROPERTIES
          Name                #SalesPrice
          Label               #@SYS11770
          HelpText            #@SYS1174
          Table               #SalesLine
          Origin              #{43BA0ECD-6DE6-4CD4-A38D-CB13B5333FF5}
          LegacyId            #14
          ExtendedDataType    #SalesPrice
        ENDPROPERTIES
        
      FIELD #SalesQty
        REAL
        PROPERTIES
          Name                #SalesQty
          Table               #SalesLine
          Origin              #{9EF08AE3-8F04-45EE-A11A-0474046DBC0E}
          LegacyId            #30
          ExtendedDataType    #SalesOrderedQty
        ENDPROPERTIES
        
      FIELD #SalesStatus
        ENUM
        PROPERTIES
          Name                #SalesStatus
          Label               #@SYS7161
          HelpText            #@SYS6391
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{4B093ED4-A32B-40AC-8EEB-D4B85996CB46}
          LegacyId            #4
          EnumType            #SalesStatus
        ENDPROPERTIES
        
      FIELD #SalesType
        ENUM
        PROPERTIES
          Name                #SalesType
          Label               #@SYS1201
          HelpText            #@SYS12223
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{25B15DEE-5502-4469-8ADF-3B08810B5DDC}
          LegacyId            #35
          EnumType            #SalesType
        ENDPROPERTIES
        
      FIELD #SalesUnit
        STRING
        PROPERTIES
          Name                #SalesUnit
          Table               #SalesLine
          Origin              #{1DBC4721-334E-4F96-9673-AEC1041491CA}
          LegacyId            #22
          ExtendedDataType    #SalesUnit
        ENDPROPERTIES
        
      FIELD #Scrap
        ENUM
        PROPERTIES
          Name                #Scrap
          Label               #@SYS24894
          HelpText            #@SYS112750
          Table               #SalesLine
          Origin              #{A7D85F15-D651-447F-9752-D333500BE8E4}
          LegacyId            #57
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ServiceOrderId
        STRING
        PROPERTIES
          Name                #ServiceOrderId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{D1343854-037D-48BC-BB8B-A827948E4AAE}
          LegacyId            #97
          ExtendedDataType    #SMAServiceOrderId
        ENDPROPERTIES
        
      FIELD #ShipCarrierAccount
        STRING
        PROPERTIES
          Name                #ShipCarrierAccount
          ConfigurationKey    #ShipCarrier
          Table               #SalesLine
          Origin              #{7D16DAEC-E906-46BA-9F4A-5A1EBCA641E4}
          LegacyId            #107
          ExtendedDataType    #ShipCarrierAccount
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ShipCarrierAccountCode
        STRING
        PROPERTIES
          Name                #ShipCarrierAccountCode
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #ShipCarrier
          Table               #SalesLine
          Origin              #{A4B5D120-82E2-42FA-8FF8-76E19EDDDEBB}
          LegacyId            #109
          ExtendedDataType    #ShipCarrierAccountCode
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ShipCarrierDlvType
        ENUM
        PROPERTIES
          Name                #ShipCarrierDlvType
          ConfigurationKey    #ShipCarrier
          Table               #SalesLine
          Origin              #{84A8A0F9-BC74-4F35-BD1D-027C3189D170}
          LegacyId            #108
          EnumType            #ShipCarrierDlvType
        ENDPROPERTIES
        
      FIELD #ShipCarrierId
        STRING
        PROPERTIES
          Name                #ShipCarrierId
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #ShipCarrier
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{4E2C3EAE-7085-493D-B776-8C2A410F6781}
          LegacyId            #106
          ExtendedDataType    #ShipCarrierId
        ENDPROPERTIES
        
      FIELD #ShipCarrierName
        STRING
        PROPERTIES
          Name                #ShipCarrierName
          Table               #SalesLine
          Origin              #{40F1FDE0-76F2-410F-9070-25D230DAE7EA}
          LegacyId            #180
          ExtendedDataType    #LogisticsShipCarrierName
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #ShipCarrierPostalAddress
        INT64
        PROPERTIES
          Name                #ShipCarrierPostalAddress
          ConfigurationKey    #ShipCarrier
          Table               #SalesLine
          Origin              #{F44D16E7-D767-40E8-A8F1-0C760A3B018E}
          LegacyId            #179
          ExtendedDataType    #LogisticsPostalAddressRecId
        ENDPROPERTIES
        
      FIELD #ShipInstructions
        ENUM
        PROPERTIES
          Name                #ShipInstructions
          Table               #SalesLine
          Origin              #{AAF62FF5-2F9A-4350-8A94-851E08BFFC5F}
          EnumType            #XAP_ShipInstructions
        ENDPROPERTIES
        
      FIELD #ShippingDateConfirmed
        DATE
        PROPERTIES
          Name                #ShippingDateConfirmed
          Table               #SalesLine
          Origin              #{F72238AB-EDEF-4B83-AF34-658EDEEA1A02}
          LegacyId            #94
          ExtendedDataType    #SalesShippingDateConfirmed
        ENDPROPERTIES
        
      FIELD #ShippingDateRequested
        DATE
        PROPERTIES
          Name                #ShippingDateRequested
          Mandatory           #Yes
          Table               #SalesLine
          Origin              #{45959A51-4268-4BD0-91E3-D7C167F0D7CB}
          LegacyId            #93
          ExtendedDataType    #SalesShippingDateRequested
        ENDPROPERTIES
        
      FIELD #SICCodeId
        STRING
        PROPERTIES
          Name                #SICCodeId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{5684F237-B9EE-4217-8423-D9D5B10A0CE5}
          ExtendedDataType    #smmBusinessSectorId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #SkipFCCalc
        ENUM
        PROPERTIES
          Name                #SkipFCCalc
          SaveContents        #No
          Visible             #No
          Table               #SalesLine
          Origin              #{E23BC910-9488-4E93-951A-C533DFA71373}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SkipUpdate
        ENUM
        PROPERTIES
          Name                #SkipUpdate
          SaveContents        #No
          Visible             #No
          Table               #SalesLine
          Origin              #{431A9DDE-65CB-4E30-B3B9-45AAEB038B8F}
          LegacyId            #74
          EnumType            #InterCompanySkipUpdate
        ENDPROPERTIES
        
      FIELD #SmartSourced
        ENUM
        PROPERTIES
          Name                #SmartSourced
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{38782C85-3CC2-49BF-B140-C12A4C0E49EB}
          ExtendedDataType    #XAP_SmartSourced
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SmartSourcingNeedByDate
        DATE
        PROPERTIES
          Name                #SmartSourcingNeedByDate
          Table               #SalesLine
          Origin              #{944F319B-C008-4890-B240-226BCF6AC0BE}
          ExtendedDataType    #XAP_SmartSourcingNeedByDate
        ENDPROPERTIES
        
      FIELD #SoldFromInventLocation
        ENUM
        PROPERTIES
          Name                #SoldFromInventLocation
          Visible             #No
          Table               #SalesLine
          Origin              #{8A31A3A5-44B1-48F9-B757-7E2DB0C0E4EF}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SOSRecId
        INT64
        PROPERTIES
          Name                #SOSRecId
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{4C8AE88E-0A2F-4201-A123-A209CBC77237}
          ExtendedDataType    #XAP_SOSRecId
        ENDPROPERTIES
        
      FIELD #SourceDocumentLine
        INT64
        PROPERTIES
          Name                #SourceDocumentLine
          Visible             #No
          Table               #SalesLine
          Origin              #{CFF93CD5-D460-466D-8D4B-F27A364A464C}
          LegacyId            #188
          ExtendedDataType    #SourceDocumentLineRecId
        ENDPROPERTIES
        
      FIELD #SPMReturnOrderNR
        STRING
        PROPERTIES
          Name                #SPMReturnOrderNR
          Table               #SalesLine
          Origin              #{9EB6D66B-3147-4772-AEAF-99F773D21FAA}
          ExtendedDataType    #XAP_SPMReturnOrderNR
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #StatisticValue_LT
        REAL
        PROPERTIES
          Name                #StatisticValue_LT
          Table               #SalesLine
          Origin              #{766BF2DA-6AA6-40F4-80AB-65531A0EEF3F}
          LegacyId            #16003
          ExtendedDataType    #LtIntrastatStatisticValue
        ENDPROPERTIES
        
      FIELD #StatProcId
        STRING
        PROPERTIES
          Name                #StatProcId
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{BBC88265-7685-4652-85A1-3557FC4E9EF1}
          LegacyId            #65
          ExtendedDataType    #IntrastatProcId
        ENDPROPERTIES
        
      FIELD #StatTriangularDeal
        ENUM
        PROPERTIES
          Name                #StatTriangularDeal
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{06C5790E-1FF0-41B0-8651-7339E803E571}
          LegacyId            #92
          ExtendedDataType    #IntrastatTriangularDeal
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #StockedProduct
        ENUM
        PROPERTIES
          Name                #StockedProduct
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{A932D220-DD0A-455C-A15F-64D8016BBEF0}
          LegacyId            #219
          ExtendedDataType    #TradeStockedProduct
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Subheading
        STRING
        PROPERTIES
          Name                #Subheading
          Table               #SalesLine
          Origin              #{7223771D-13DF-4EAF-A16F-32F877E7E909}
          ExtendedDataType    #XAP_Subheading
        ENDPROPERTIES
        
      FIELD #SubLineOf
        REAL
        PROPERTIES
          Name                #SubLineOf
          Table               #SalesLine
          Origin              #{E67294E8-F61C-41A8-BBF7-469B0FB386E3}
          ExtendedDataType    #XAP_SalesSubLineOf
        ENDPROPERTIES
        
      FIELD #SurplusCaseNumber
        STRING
        PROPERTIES
          Name                #SurplusCaseNumber
          Table               #SalesLine
          Origin              #{0DFE7A70-C621-49F6-9E0C-625412FA9340}
          ExtendedDataType    #XAP_SurplusCaseNumber
          StringSize          #4
        ENDPROPERTIES
        
      FIELD #SurplusPFO
        STRING
        PROPERTIES
          Name                #SurplusPFO
          Table               #SalesLine
          Origin              #{827F6BEB-C857-424D-94D3-D143AFAC18DC}
          ExtendedDataType    #XAP_SurplusPFO
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #SurplusReturnType
        STRING
        PROPERTIES
          Name                #SurplusReturnType
          Table               #SalesLine
          Origin              #{E399A469-B4EE-4896-B20C-9D5177EBC70B}
          ExtendedDataType    #XAP_SurplusReturnType
          StringSize          #11
        ENDPROPERTIES
        
      FIELD #SvcWarrantyClaimRecId
        INT64
        PROPERTIES
          Name                #SvcWarrantyClaimRecId
          Table               #SalesLine
          Origin              #{99DB1E7E-2B9D-4A09-839C-7DBCEF6D6B3C}
          ExtendedDataType    #XAP_SvcWarrantyClaimRecId
        ENDPROPERTIES
        
      FIELD #SystemEntryChangePolicy
        INT64
        PROPERTIES
          Name                #SystemEntryChangePolicy
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{71010B09-E2F5-4F07-9BB9-2FA0E4467E60}
          LegacyId            #167
          ExtendedDataType    #PriceDiscPolicySystem
        ENDPROPERTIES
        
      FIELD #SystemEntrySource
        ENUM
        PROPERTIES
          Name                #SystemEntrySource
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesLine
          Origin              #{2481D03A-8309-4DD2-A608-D88287414CEB}
          LegacyId            #166
          EnumType            #PriceDiscSystemSource
        ENDPROPERTIES
        
      FIELD #TaxAutogenerated
        ENUM
        PROPERTIES
          Name                #TaxAutogenerated
          Table               #SalesLine
          Origin              #{C092ED6C-9531-4E3A-9516-07C161F66044}
          LegacyId            #44
          ExtendedDataType    #TaxAutoGenerated
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #TaxGroup
        STRING
        PROPERTIES
          Name                #TaxGroup
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{713A4727-64C6-42D4-A8BF-59FB25717A59}
          LegacyId            #8
          ExtendedDataType    #TaxGroup
        ENDPROPERTIES
        
      FIELD #TaxItemGroup
        STRING
        PROPERTIES
          Name                #TaxItemGroup
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{63D72B82-CFA2-44E9-8F06-BE9D8495D8EA}
          LegacyId            #42
          ExtendedDataType    #TaxItemGroup
        ENDPROPERTIES
        
      FIELD #TaxWithholdGroup
        STRING
        PROPERTIES
          Name                #TaxWithholdGroup
          Table               #SalesLine
          CountryRegionCodes  #TH,SA,GB,IE,BR
          IgnoreEDTRelation   #Yes
          Origin              #{3456614C-4EAA-4F22-99B7-E5DA9B202C51}
          LegacyId            #8034
          ExtendedDataType    #TaxWithholdGroup
        ENDPROPERTIES
        
      FIELD #TaxWithholdItemGroupHeading_TH
        INT64
        PROPERTIES
          Name                #TaxWithholdItemGroupHeading_TH
          Table               #SalesLine
          Origin              #{2BC3ABEB-72D5-4513-A7F9-C1B04883CA89}
          LegacyId            #191
          ExtendedDataType    #TaxWithholdItemGroupId_TH
        ENDPROPERTIES
        
      FIELD #TEPSAgrNumber
        STRING
        PROPERTIES
          Name                #TEPSAgrNumber
          Table               #SalesLine
          Origin              #{C5E7EBAF-9880-462C-96EB-70C6D48BB00A}
          ExtendedDataType    #XAP_TEPSAgrNumber
        ENDPROPERTIES
        
      FIELD #TEPSAuthorizationLevel
        STRING
        PROPERTIES
          Name                #TEPSAuthorizationLevel
          Table               #SalesLine
          Origin              #{1C87D39E-77EA-4794-BCDE-A33AA926A843}
          ExtendedDataType    #XAP_TEPSAuthorizationLevel
          StringSize          #1
        ENDPROPERTIES
        
      FIELD #TradeIn
        ENUM
        PROPERTIES
          Name                #TradeIn
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesLine
          Origin              #{66BC33C8-B305-44A9-8249-FCB022A92236}
          ExtendedDataType    #XAP_TradeInItem
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #TradeInCustomer
        STRING
        PROPERTIES
          Name                #TradeInCustomer
          Label               #@XAP10758
          HelpText            #@XAP10759
          Table               #SalesLine
          Origin              #{20CD5241-48BB-4DBA-B078-AF3134D802DF}
          ExtendedDataType    #AccountNum
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TradeInEquipment
        INT64
        PROPERTIES
          Name                #TradeInEquipment
          Label               #@XAP11411
          Table               #SalesLine
          Origin              #{28BCF964-1A60-4177-B088-C6A74B051059}
          ExtendedDataType    #XAP_EquipmentRecId
        ENDPROPERTIES
        
      FIELD #TradeInHours
        STRING
        PROPERTIES
          Name                #TradeInHours
          Table               #SalesLine
          Origin              #{2AA46336-D37F-4954-A806-7A0225A02FDE}
          ExtendedDataType    #XAP_SalesTradeInHours
        ENDPROPERTIES
        
      FIELD #TradeInMake
        INT64
        PROPERTIES
          Name                #TradeInMake
          HelpText            #@XAP7396
          Table               #SalesLine
          Origin              #{60C1CE0B-329C-4FF7-A45D-9684A9108840}
          ExtendedDataType    #XAP_MachineManufacturerRecId
        ENDPROPERTIES
        
      FIELD #TradeInModel
        STRING
        PROPERTIES
          Name                #TradeInModel
          Table               #SalesLine
          Origin              #{E78B5D11-88D4-4E04-B5DE-275ADC2ED478}
          ExtendedDataType    #XAP_SalesTradeInModel
        ENDPROPERTIES
        
      FIELD #TradeInPayOff
        REAL
        PROPERTIES
          Name                #TradeInPayOff
          Table               #SalesLine
          Origin              #{2A3FBBC0-0AA2-413E-AD45-7A0E4DC0A155}
          ExtendedDataType    #XAP_SalesTradeInPayOff
        ENDPROPERTIES
        
      FIELD #TradeInRefRecId
        INT64
        PROPERTIES
          Name                #TradeInRefRecId
          Label               #@XAP4651
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{6C91F06C-C430-4C53-9E42-F4F7DC349C89}
          ExtendedDataType    #SalesLineRefRecId
        ENDPROPERTIES
        
      FIELD #TradeInSalesman
        INT64
        PROPERTIES
          Name                #TradeInSalesman
          Label               #@XAP4151
          HelpText            #@XAP10760
          Table               #SalesLine
          Origin              #{493DE77A-8AD2-4632-88EC-1E33124CF5DF}
          ExtendedDataType    #XAP_CRMSalesPersonRecId
        ENDPROPERTIES
        
      FIELD #TradeInSerialNumber
        STRING
        PROPERTIES
          Name                #TradeInSerialNumber
          Table               #SalesLine
          Origin              #{33330B4D-E9F6-48B1-AF55-D438FFE9E10D}
          ExtendedDataType    #XAP_SalesTradeInSerialNumber
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TradeInYear
        STRING
        PROPERTIES
          Name                #TradeInYear
          Table               #SalesLine
          Origin              #{41AFE168-545D-4AFD-A96F-39638800762C}
          ExtendedDataType    #XAP_SalesTradeInYear
        ENDPROPERTIES
        
      FIELD #TransactionCode
        STRING
        PROPERTIES
          Name                #TransactionCode
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{AEFBD74A-C4D3-4702-B95F-3646D61769B0}
          LegacyId            #39
          ExtendedDataType    #IntrastatTransactionCodeId
        ENDPROPERTIES
        
      FIELD #Transport
        STRING
        PROPERTIES
          Name                #Transport
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{7FBDAEA5-E4D0-4F3B-8FD6-F46F4789F9A0}
          LegacyId            #64
          ExtendedDataType    #IntrastatTransport
        ENDPROPERTIES
        
      FIELD #TypeOfDelivery
        ENUM
        PROPERTIES
          Name                #TypeOfDelivery
          Table               #SalesLine
          Origin              #{17F055A4-2CD0-460C-8DC4-8E6321737616}
          EnumType            #XAP_TypeOfDelivery
        ENDPROPERTIES
        
      FIELD #UnderDeliveryPct
        REAL
        PROPERTIES
          Name                #UnderDeliveryPct
          Table               #SalesLine
          Origin              #{A986FF33-F0DF-4D85-A4DD-71C3CA51DA57}
          LegacyId            #45
          ExtendedDataType    #SalesUnderDeliveryPct
        ENDPROPERTIES
        
      FIELD #WarrantySalesLine
        INT64
        PROPERTIES
          Name                #WarrantySalesLine
          Visible             #No
          Table               #SalesLine
          Origin              #{B5D22835-BAA7-424A-90D9-64CA9641104D}
          ExtendedDataType    #XAP_WarrantySalesLineRecId
        ENDPROPERTIES
        
      FIELD #WMSOrderTypeRecId
        INT64
        PROPERTIES
          Name                #WMSOrderTypeRecId
          Table               #SalesLine
          Origin              #{E56071A7-865F-4F4C-A56B-96C6E3F261D3}
          ExtendedDataType    #XAP_WMSOrderTypeRecId
        ENDPROPERTIES
        
      FIELD #WornCoreInventDimId
        STRING
        PROPERTIES
          Name                #WornCoreInventDimId
          Visible             #No
          Table               #SalesLine
          IgnoreEDTRelation   #Yes
          Origin              #{75ECEDA2-7AFE-40A3-83DB-8F9ADE769D27}
          ExtendedDataType    #InventDimId
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #ItemId
          #SalesQty
          #SalesPrice
          #LineAmount
          #CurrencyCode
          #SalesStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressDisplay
        PROPERTIES
          Name                #AddressDisplay
          Label               #@SYS9362
        ENDPROPERTIES
        
        GROUPFIELDS
          #DeliveryPostalAddress
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressLookup
        PROPERTIES
          Name                #AddressLookup
          Label               #@SYS88672
        ENDPROPERTIES
        
        GROUPFIELDS
          #LineNum
          #SalesId
          #CustAccount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressReference
        PROPERTIES
          Name                #AddressReference
          Label               #@SYS88679
        ENDPROPERTIES
        
        GROUPFIELDS
          #AddressRefRecId
          #AddressRefTableId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AgreementLine
        PROPERTIES
          Name                #AgreementLine
          Label               #@SYS184156
        ENDPROPERTIES
        
        GROUPFIELDS
          #MatchingAgreementLine
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #All
        PROPERTIES
          Name                #All
          Label               #@SYS80094
        ENDPROPERTIES
        
        GROUPFIELDS
          #RetailVariantId
          #ReturnWarehouse
          #ReturnLocation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AttachedTo
        PROPERTIES
          Name                #AttachedTo
          Label               #@XAP5635
        ENDPROPERTIES
        
        GROUPFIELDS
          #AttachToLineNumber
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Backorder
        PROPERTIES
          Name                #Backorder
          Label               #@SYS54557
        ENDPROPERTIES
        
        GROUPFIELDS
          #BackorderTableRecId
          #ACMode
          #ManualTransferOrder
          #ManualPurchaseOrder
          #EmergencyOrderLineRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Barcode
        PROPERTIES
          Name                #Barcode
          Label               #@SYS24296
        ENDPROPERTIES
        
        GROUPFIELDS
          #BarCode
          #BarCodeType
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Block
        PROPERTIES
          Name                #Block
          Label               #@SYS28075
        ENDPROPERTIES
        
        GROUPFIELDS
          #Complete
          #Blocked
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BOMRoute
        PROPERTIES
          Name                #BOMRoute
          Label               #@SYS22227
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemBOMId
          #ItemRouteId
          #ItemPBAId
          #BOMReferenceLot
          #Level
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CallDemand
        PROPERTIES
          Name                #CallDemand
          Label               #@XAP5732
        ENDPROPERTIES
        
        GROUPFIELDS
          #AbnormalCall
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CarrierInfo
        PROPERTIES
          Name                #CarrierInfo
          Label               #@SYS50722
        ENDPROPERTIES
        
        GROUPFIELDS
          #ShipCarrierId
          #ShipCarrierAccountCode
          #ShipCarrierAccount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Commission
        PROPERTIES
          Name                #Commission
          Label               #@SYS2489
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CoreCharge
        PROPERTIES
          Name                #CoreCharge
          Label               #@XAP4270
        ENDPROPERTIES
        
        GROUPFIELDS
          #ExchangeCoreCharge
          #CoreInventTransId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CreditNoteInvoice
        PROPERTIES
          Name                #CreditNoteInvoice
          Label               #@XAP5519
        ENDPROPERTIES
        
        GROUPFIELDS
          #CreditNoteInvoiceId
          #CreditNoteInvoiceDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CustomerRef
        PROPERTIES
          Name                #CustomerRef
          Label               #@SYS23010
        ENDPROPERTIES
        
        GROUPFIELDS
          #PurchorderFormNum
          #CustomerRef
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DealSheetInventory
        PROPERTIES
          Name                #DealSheetInventory
          Label               #@XAP62
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventTransId
          #QtyOrdered
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DealSheetQuantity
        PROPERTIES
          Name                #DealSheetQuantity
          Label               #@SYS102891
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesQty
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Delivery
        PROPERTIES
          Name                #Delivery
          Label               #@SYS4508
        ENDPROPERTIES
        
        GROUPFIELDS
          #OverDeliveryPct
          #UnderDeliveryPct
          #ReceiptDateRequested
          #ShippingDateRequested
          #ReceiptDateConfirmed
          #ShippingDateConfirmed
          #DeliveryDateControlType
          #DlvMode
          #DeliveryType
          #LineDeliveryType
          #WMSOrderTypeRecId
          #DestinationCodeRecId
          #DlvReasonId
          #TypeOfDelivery
          #DropBoxCodeRecId
          #ShipInstructions
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliveryAddress
        PROPERTIES
          Name                #DeliveryAddress
          Label               #@SYS7924
        ENDPROPERTIES
        
        GROUPFIELDS
          #DeliveryName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliverySalesTax_BR
        PROPERTIES
          Name                #DeliverySalesTax_BR
          Label               #@GLS510094
        ENDPROPERTIES
        
        GROUPFIELDS
          #DeliveryTaxItemGroup_BR
          #DeliveryTaxGroup_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Dimension
        PROPERTIES
          Name                #Dimension
          Label               #@SYS342338
        ENDPROPERTIES
        
        GROUPFIELDS
          #DefaultDimension
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DimensionIssue
        PROPERTIES
          Name                #DimensionIssue
          Label               #@GGH886
        ENDPROPERTIES
        
        GROUPFIELDS
          #DefaultDimensionIssue
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Discount
        PROPERTIES
          Name                #Discount
          Label               #@SYS11829
        ENDPROPERTIES
        
        GROUPFIELDS
          #LineDisc
          #LinePercent
          #MultiLnDisc
          #MultiLnPercent
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DPIS
        PROPERTIES
          Name                #DPIS
          Label               #@XAP10351
        ENDPROPERTIES
        
        GROUPFIELDS
          #DPISOrderOccur
          #DPISItemNo
          #Subheading
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EInvoice
        PROPERTIES
          Name                #EInvoice
          Label               #@SYS100769
        ENDPROPERTIES
        
        GROUPFIELDS
          #EInvoiceAccountCode
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EletronicInvoice_MX
        PROPERTIES
          Name                #EletronicInvoice_MX
          Label               #@SYS341961
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustomsDocNumber_MX
          #CustomsDocDate_MX
          #CustomsName_MX
          #PropertyNumber_MX
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Equipment
        PROPERTIES
          Name                #Equipment
          Label               #@XAP43
        ENDPROPERTIES
        
        GROUPFIELDS
          #LineType
          #EquipmentId
          #EquipmentConfigId
          #EquipmentAttachedTo
          #InstalledOn
          #InventSerialIdInstalledOn
          #EquipmentSMU
          #EquipmentSMUCaptureDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EquipmentAdmin
        PROPERTIES
          Name                #EquipmentAdmin
          Label               #@XAP4176
        ENDPROPERTIES
        
        GROUPFIELDS
          #ComponentCode
          #MachineManufacturerId
          #InventSerialIdSIS
          #EquipmentSIS
          #SICCodeId
          #IndustryCodeRecId
          #CATPWC
          #CICCode
          #MachineTypeId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EquipmentOrder
        PROPERTIES
          Name                #EquipmentOrder
          Label               #@XAP2451
        ENDPROPERTIES
        
        GROUPFIELDS
          #EquipmentId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ExportInformation
        PROPERTIES
          Name                #ExportInformation
          Label               #@SYS95305
        ENDPROPERTIES
        
        GROUPFIELDS
          #CKNumber
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ExternalReference
        PROPERTIES
          Name                #ExternalReference
          Label               #@SYS21697
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustomerLineNum
          #CustItemNoPartStore
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Financial
        PROPERTIES
          Name                #Financial
          Label               #@SYS21975
        ENDPROPERTIES
        
        GROUPFIELDS
          #dealerNetPrice
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Financials
        PROPERTIES
          Name                #Financials
          Label               #@XAP11151
        ENDPROPERTIES
        
        GROUPFIELDS
          #CostBreakdownCost
          #CostBreakdownMargin
          #SalesPrice
          #CostBreakdownTotalCost
          #CostBreakdownTotalMargin
          #CostBreakdownTotalSales
          #dealerNetPrice
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FixedAssets_RU
        PROPERTIES
          Name                #FixedAssets_RU
          Label               #@SYS12578
        ENDPROPERTIES
        
        GROUPFIELDS
          #AssetId_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ForeignTrade
        PROPERTIES
          Name                #ForeignTrade
          Label               #@SYS27650
        ENDPROPERTIES
        
        GROUPFIELDS
          #TransactionCode
          #Transport
          #Port
          #StatProcId
          #StatTriangularDeal
          #CountyOrigDest
          #InvoiceGTDId_RU
          #CountryRegionName_RU
          #StatisticValue_LT
          #IntrastatFulfillmentDate_HU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FreightCharge
        PROPERTIES
          Name                #FreightCharge
          Label               #@XAP11521
        ENDPROPERTIES
        
        GROUPFIELDS
          #CalculatedWeight
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #HoseBuild
        PROPERTIES
          Name                #HoseBuild
          Label               #@XAP7351
        ENDPROPERTIES
        
        GROUPFIELDS
          #HoseBuildPrinted
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #LineNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Intercompany
        PROPERTIES
          Name                #Intercompany
          Label               #@SYS74106
        ENDPROPERTIES
        
        GROUPFIELDS
          #interCompanyOriginDisplay
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InterCompanyReference
        PROPERTIES
          Name                #InterCompanyReference
          Label               #@SYS14018
        ENDPROPERTIES
        
        GROUPFIELDS
          #InterCompanyInventTransId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Inventory
        PROPERTIES
          Name                #Inventory
          Label               #@SYS981
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventTransId
          #Reservation
          #PdsBatchAttribAutoRes
          #QtyOrdered
          #RemainInventPhysical
          #InventDeliverNow
          #RemainInventFinancial
          #PdsSameLot
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InvoiceScheduleLine
        PROPERTIES
          Name                #InvoiceScheduleLine
          Label               #@XAP2993
        ENDPROPERTIES
        
        GROUPFIELDS
          #InvoiceScheduleLineRecId
          #Overtime
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemProject
        PROPERTIES
          Name                #ItemProject
          Label               #@SYS70466
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemReference
        PROPERTIES
          Name                #ItemReference
          Label               #@SYS24659
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventRefType
          #InventRefId
          #InventRefTransId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Jobsite
        PROPERTIES
          Name                #Jobsite
          Label               #@XAP2250
        ENDPROPERTIES
        
        GROUPFIELDS
          #JobSiteRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MarketingProgram
        PROPERTIES
          Name                #MarketingProgram
          Label               #@XAP5271
        ENDPROPERTIES
        
        GROUPFIELDS
          #ManualMarketingProgram
          #MarketingTableRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MRPConsolidation
        PROPERTIES
          Name                #MRPConsolidation
          Label               #@GGH147
        ENDPROPERTIES
        
        GROUPFIELDS
          #MRPConsolidationCodeSetupRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #NTO
        PROPERTIES
          Name                #NTO
          Label               #@XAP1792
        ENDPROPERTIES
        
        GROUPFIELDS
          #NTORecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #OrderLine
        PROPERTIES
          Name                #OrderLine
          Label               #@SYS22920
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesCategory
          #Name
          #ExternalItemId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #OrderLines
        PROPERTIES
          Name                #OrderLines
          Label               #@SYS508
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxAutogenerated
          #CustAccount
          #CustGroup
          #SalesType
          #Name
          #ExternalItemId
          #SalesStatus
          #LedgerDimension
          #CurrencyCode
          #LineAmount
          #Reservation
          #SalesGroup
          #InventDimId
          #LineHeader
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Other
        PROPERTIES
          Name                #Other
          Label               #@SYS1284
        ENDPROPERTIES
        
        GROUPFIELDS
          #ShipCarrierDlvType
          #ShipCarrierName
          #ShipCarrierPostalAddress
          #SOSRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PackagingMaterial
        PROPERTIES
          Name                #PackagingMaterial
          Label               #@SYS72995
        ENDPROPERTIES
        
        GROUPFIELDS
          #PackingUnit
          #PackingUnitQty
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PartsReturn
        PROPERTIES
          Name                #PartsReturn
          Label               #@XAP7518
        ENDPROPERTIES
        
        GROUPFIELDS
          #PartCausedFailure
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsCWInventory
        PROPERTIES
          Name                #PdsCWInventory
          Label               #@PDS83
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsCWInventDeliverNow
          #pdsCWInvoicedInTotal
          #PdsCWRemainInventFinancial
          #pdsCWDeliveredInTotal
          #PdsCWRemainInventPhysical
          #pdsCWPickedInTotal
          #pdsCWReservedPhysical
          #pdsCWReservedOnOrder
          #pdsCWOnOrder
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsCWMain
        PROPERTIES
          Name                #PdsCWMain
          Label               #@PDS72
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsCWQty
          #pdsCWUnitId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsCWQty
        PROPERTIES
          Name                #PdsCWQty
          Label               #@PDS1059
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsCWExpectedRetQty
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsItemRebateGroup
        PROPERTIES
          Name                #PdsItemRebateGroup
          Label               #@PRO1317
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsItemRebateGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsRebate
        PROPERTIES
          Name                #PdsRebate
          Label               #@PDS1053
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsExcludeFromRebate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsSameLot
        PROPERTIES
          Name                #PdsSameLot
          Label               #@PDS551
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsSameLot
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #POCreation
        PROPERTIES
          Name                #POCreation
          Label               #@GGH1024
        ENDPROPERTIES
        
        GROUPFIELDS
          #DisablePOCreation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Posting
        PROPERTIES
          Name                #Posting
          Label               #@SYS5943
        ENDPROPERTIES
        
        GROUPFIELDS
          #PostingProfile_RU
          #LedgerDimension
          #OverAllowance
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PowerSystem
        PROPERTIES
          Name                #PowerSystem
          Label               #@XAP9865
        ENDPROPERTIES
        
        GROUPFIELDS
          #PrimeProduct
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Price
        PROPERTIES
          Name                #Price
          Label               #@SYS11865
        ENDPROPERTIES
        
        GROUPFIELDS
          #PriceAgreementDate_RU
          #SalesPrice
          #ExchangeRateType
          #RateContractId
          #ExchangeRate
          #SalesMarkup
          #PriceUnit
          #FreezePrice
          #OriginalSalesPrice
          #OriginalLineDisc
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PriceDiscussion
        PROPERTIES
          Name                #PriceDiscussion
          Label               #@XAP15786
        ENDPROPERTIES
        
        GROUPFIELDS
          #QuoteVendor
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectAmount
        PROPERTIES
          Name                #ProjectAmount
          Label               #@SYS67870
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectCostPrice
        PROPERTIES
          Name                #ProjectCostPrice
          Label               #@SYS13134
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesQty
          #CostPrice
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectIdentification
        PROPERTIES
          Name                #ProjectIdentification
          Label               #@SYS89920
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjId
          #ActivityNumber
          #ProjCategoryId
          #ItemId
          #ProjLinePropertyId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectSalesPrice
        PROPERTIES
          Name                #ProjectSalesPrice
          Label               #@SYS5755
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrencyCode
          #ExchangeRateType
          #RateContractId
          #ExchangeRate
          #SalesUnit
          #SalesPrice
          #LineAmount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectSalesTax
        PROPERTIES
          Name                #ProjectSalesTax
          Label               #@SYS67871
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectTransaction
        PROPERTIES
          Name                #ProjectTransaction
          Label               #@SYS9408
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjTransId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PSA
        PROPERTIES
          Name                #PSA
          Label               #@PSA43
        ENDPROPERTIES
        
        GROUPFIELDS
          #PSAContractLineNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PSUnitCost
        PROPERTIES
          Name                #PSUnitCost
          Label               #@XCU179
        ENDPROPERTIES
        
        GROUPFIELDS
          #PSUnitCost
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PurchaseCost
        PROPERTIES
          Name                #PurchaseCost
          Label               #@GGH316
        ENDPROPERTIES
        
        GROUPFIELDS
          #PurchaseCurrencyCode
          #PurchaseCurrUnitCost
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Quantity
        PROPERTIES
          Name                #Quantity
          Label               #@SYS59970
        ENDPROPERTIES
        
        GROUPFIELDS
          #PSAProjProposalQty
          #PSAProjProposalInventQty
          #SalesQty
          #RequiredQty
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Retail
        PROPERTIES
          Name                #Retail
          Label               #@RET3014
        ENDPROPERTIES
        
        GROUPFIELDS
          #RetailVariantId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Return
        PROPERTIES
          Name                #Return
          Label               #@SYS16512
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemReplaced
          #ReturnDeadline
          #ExpectedRetQty
          #ReturnStatus
          #ReturnArrivalDate
          #ReturnClosedDate
          #ReturnDispositionCodeId
          #originalInvoiceId_W
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnedOrded
        PROPERTIES
          Name                #ReturnedOrded
          Label               #@SYS24700
        ENDPROPERTIES
        
        GROUPFIELDS
          #RequestedBy
          #ReturnedOrder
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnGroup
        PROPERTIES
          Name                #ReturnGroup
          Label               #@SYS101133
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventTransIdReturn
          #CostPrice
          #Scrap
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnGroupRMA
        PROPERTIES
          Name                #ReturnGroupRMA
          Label               #@SYS101133
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventTransIdReturn
          #CostPrice
          #ReturnDispositionCodeId
          #ReturnAllowReservation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #RFIDTagging
        PROPERTIES
          Name                #RFIDTagging
          Label               #@SYS90171
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemTagging
          #CaseTagging
          #PalletTagging
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesOrderProject
        PROPERTIES
          Name                #SalesOrderProject
          Label               #@SYS7806
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjId
          #ActivityNumber
          #ProjCategoryId
          #ProjTransId
          #LineCategoryGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesPool
        PROPERTIES
          Name                #SalesPool
          Label               #@SYS84547
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesPoolId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesQuantity
        PROPERTIES
          Name                #SalesQuantity
          Label               #@SYS11990
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesQty
          #SalesUnit
          #SalesDeliverNow
          #RemainSalesPhysical
          #RemainSalesFinancial
          #RequiredQty
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesTax
        PROPERTIES
          Name                #SalesTax
          Label               #@SYS5878
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxItemGroup
          #TaxGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Service
        PROPERTIES
          Name                #Service
          Label               #@XAP641
        ENDPROPERTIES
        
        GROUPFIELDS
          #EstQty
          #Cost
          #MarkupPercentage
          #ExcludeFromSvcQuote
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ServiceDelivery
        PROPERTIES
          Name                #ServiceDelivery
          Label               #@XAP4661
        ENDPROPERTIES
        
        GROUPFIELDS
          #Bay
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ServiceGroup
        PROPERTIES
          Name                #ServiceGroup
          Label               #@XAP641
        ENDPROPERTIES
        
        GROUPFIELDS
          #GroupCode
          #GroupName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ServiceOrder
        PROPERTIES
          Name                #ServiceOrder
          Label               #@SYS79077
        ENDPROPERTIES
        
        GROUPFIELDS
          #ServiceOrderId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SIS
        PROPERTIES
          Name                #SIS
          Label               #@XAP4176
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventSerialId
          #EquipmentId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SmartSourcing
        PROPERTIES
          Name                #SmartSourcing
          Label               #@XAP13031
        ENDPROPERTIES
        
        GROUPFIELDS
          #SmartSourcingNeedByDate
          #SmartSourced
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Status
        PROPERTIES
          Name                #Status
          Label               #@SYS25587
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesStatus
          #Blocked
          #Complete
          #qualityOrderStatusDisplay
          #AbnormalCall
          #FACRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SubLine
        PROPERTIES
          Name                #SubLine
          Label               #@XAP2676
        ENDPROPERTIES
        
        GROUPFIELDS
          #SubLineOf
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SurplusReturn
        PROPERTIES
          Name                #SurplusReturn
          Label               #@XAP8108
        ENDPROPERTIES
        
        GROUPFIELDS
          #SurplusReturnType
          #SurplusPFO
          #SurplusCaseNumber
          #HasSurplusReturnPackListGrief
          #ReturnCondition
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TableGroup
        PROPERTIES
          Name                #TableGroup
          Label               #@SYS21958
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
          #ConfirmedDlv
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TEPS
        PROPERTIES
          Name                #TEPS
          Label               #@XAP1943
        ENDPROPERTIES
        
        GROUPFIELDS
          #EnableTEPS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TEPSAuth
        PROPERTIES
          Name                #TEPSAuth
          Label               #@XAP4916
        ENDPROPERTIES
        
        GROUPFIELDS
          #TEPSAgrNumber
          #TEPSAuthorizationLevel
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TEPSPricing
        PROPERTIES
          Name                #TEPSPricing
          Label               #@XAP7598
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TradeIn
        PROPERTIES
          Name                #TradeIn
          Label               #@XAP4650
        ENDPROPERTIES
        
        GROUPFIELDS
          #TradeIn
          #TradeInRefRecId
          #TradeInEquipment
          #TradeInYear
          #TradeInMake
          #TradeInModel
          #TradeInSerialNumber
          #TradeInHours
          #TradeInPayOff
          #TradeInSalesman
          #TradeInCustomer
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Warranty
        PROPERTIES
          Name                #Warranty
          Label               #@XAP1277
        ENDPROPERTIES
        
        GROUPFIELDS
          #SvcWarrantyClaimRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WithholdingTax
        PROPERTIES
          Name                #WithholdingTax
          Label               #@SYS7372
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxWithholdGroup
          #TaxWithholdItemGroupHeading_TH
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #SalesLineIdx
      PROPERTIES
        Name                #SalesLineIdx
        AllowDuplicates     #No
        Origin              #{2B0C0001-0167-1000-FA81-2E5FD75E696E}
        LegacyId            #1
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesId
        #LineNum
        #RecId
      ENDINDEXFIELDS
      
      #InventRefTransIdx
      PROPERTIES
        Name                #InventRefTransIdx
        Origin              #{2B110002-0167-1000-B333-7317EB71A729}
        LegacyId            #2
      ENDPROPERTIES
      
      INDEXFIELDS
        #InventRefTransId
        #InventRefId
      ENDINDEXFIELDS
      
      #TransIdIdx
      PROPERTIES
        Name                #TransIdIdx
        AllowDuplicates     #No
        Origin              #{2B0A0003-0167-1000-E060-C58073496449}
        LegacyId            #3
      ENDPROPERTIES
      
      INDEXFIELDS
        #InventTransId
      ENDINDEXFIELDS
      
      #ItemIdx
      PROPERTIES
        Name                #ItemIdx
        AllowDuplicates     #No
        Origin              #{2B070005-0167-1000-4974-656D49647800}
        LegacyId            #5
      ENDPROPERTIES
      
      INDEXFIELDS
        #ItemId
        #RecId
      ENDINDEXFIELDS
      
      #StatusItemIdx
      PROPERTIES
        Name                #StatusItemIdx
        Origin              #{2B0D0006-0167-1000-FA60-CA376FD75B74}
        LegacyId            #6
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesStatus
        #ItemId
      ENDINDEXFIELDS
      
      #SalesTypeIdx
      PROPERTIES
        Name                #SalesTypeIdx
        Origin              #{2B0C0007-0167-1000-FA81-2E5FD7667970}
        LegacyId            #7
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesType
        #ProjId
        #InventTransIdReturn
      ENDINDEXFIELDS
      
      #InventDimIdx
      PROPERTIES
        Name                #InventDimIdx
        Origin              #{2B0C0008-0167-1000-C8C7-395FD2864469}
        LegacyId            #8
      ENDPROPERTIES
      
      INDEXFIELDS
        #InventDimId
      ENDINDEXFIELDS
      
      #AgreementLineIdx
      PROPERTIES
        Name                #AgreementLineIdx
        Origin              #{2B100016-0167-1000-7D23-3315EA9E2768}
        LegacyId            #22
      ENDPROPERTIES
      
      INDEXFIELDS
        #MatchingAgreementLine
      ENDINDEXFIELDS
      
      #SourceDocumentLineIdx
      PROPERTIES
        Name                #SourceDocumentLineIdx
        AllowDuplicates     #No
        AlternateKey        #Yes
        Origin              #{F68E3AD9-0C3D-4C4C-A1A0-360BCA814587}
        LegacyId            #32
      ENDPROPERTIES
      
      INDEXFIELDS
        #SourceDocumentLine
      ENDINDEXFIELDS
      
      #PSAContractLineItemsIdx
      PROPERTIES
        Name                #PSAContractLineItemsIdx
        Origin              #{D4B93E0D-975E-430B-9E93-8CCDF79BBBFE}
      ENDPROPERTIES
      
      INDEXFIELDS
        #PSAContractLineNum
      ENDINDEXFIELDS
      
      #XAP_SourceOfSupplyIdx
      PROPERTIES
        Name                #XAP_SourceOfSupplyIdx
        Origin              #{5CDFB754-7F9D-4262-8563-5C087B1D56F5}
      ENDPROPERTIES
      
      INDEXFIELDS
        #SOSRecId
      ENDINDEXFIELDS
      
      #TradeInIdx
      PROPERTIES
        Name                #TradeInIdx
        Origin              #{7532DAB8-CB5B-407A-81CC-8F08986D98A2}
      ENDPROPERTIES
      
      INDEXFIELDS
        #TradeIn
        #TradeInRefRecId
        #RecId
      ENDINDEXFIELDS
      
      #InventTableIdx
      PROPERTIES
        Name                #InventTableIdx
        Origin              #{2EB19B44-02E2-4E9B-B458-33D656FA6667}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ReplacedItemId
      ENDINDEXFIELDS
      
      #LineCategoryGroupIdx
      PROPERTIES
        Name                #LineCategoryGroupIdx
        Origin              #{D87AAFFF-50D9-4CB8-8097-ED1C9A2AAAFE}
      ENDPROPERTIES
      
      INDEXFIELDS
        #LineCategoryGroupId
      ENDINDEXFIELDS
      
      #MarketingTableIdx
      PROPERTIES
        Name                #MarketingTableIdx
        Origin              #{7719DC7C-FE07-493C-AF6B-BCBF7D315E8F}
      ENDPROPERTIES
      
      INDEXFIELDS
        #MarketingTableRecId
      ENDINDEXFIELDS
      
      #XAP_BackorderTableIdx
      PROPERTIES
        Name                #XAP_BackorderTableIdx
        Origin              #{AD89B019-1182-40D1-BF17-576535539256}
      ENDPROPERTIES
      
      INDEXFIELDS
        #BackorderTableRecId
      ENDINDEXFIELDS
      
      #XAP_EmergencyOrderLineIdx
      PROPERTIES
        Name                #XAP_EmergencyOrderLineIdx
        Origin              #{659FF76A-E5D1-451E-8E9E-F2D1A9372E1B}
      ENDPROPERTIES
      
      INDEXFIELDS
        #EmergencyOrderLineRecId
      ENDINDEXFIELDS
      
      #AttachLineIdx
      PROPERTIES
        Name                #AttachLineIdx
        Origin              #{704D97E6-4991-4337-A1D5-9441F021E31E}
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesId
        #AttachToLineNumber
        #RecId
      ENDINDEXFIELDS
      
      #WarrantyClaimTableIdx
      PROPERTIES
        Name                #WarrantyClaimTableIdx
        Origin              #{DD8928EF-0D00-430A-BE13-AA4E880D8FBB}
      ENDPROPERTIES
      
      INDEXFIELDS
        #SvcWarrantyClaimRecId
      ENDINDEXFIELDS
      
      #InvoiceScheduleLineIdx
      PROPERTIES
        Name                #InvoiceScheduleLineIdx
        Origin              #{B09A00B5-AF03-4273-B105-491BDDE74427}
      ENDPROPERTIES
      
      INDEXFIELDS
        #InvoiceScheduleLineRecId
      ENDINDEXFIELDS
      
      #XAP_RenNTOIdx
      PROPERTIES
        Name                #XAP_RenNTOIdx
        Origin              #{8248451A-527B-494A-A24D-FEEC5789FE32}
      ENDPROPERTIES
      
      INDEXFIELDS
        #NTORecId
      ENDINDEXFIELDS
      
      #XAP_RenJobSiteIdx
      PROPERTIES
        Name                #XAP_RenJobSiteIdx
        Origin              #{3B6E34EF-D2E8-4FE6-B26B-0E8DB7542F85}
      ENDPROPERTIES
      
      INDEXFIELDS
        #JobSiteRecId
      ENDINDEXFIELDS
      
      #EquipmentId
      PROPERTIES
        Name                #EquipmentId
        Origin              #{35531DEA-06BC-44B0-B9E8-F2BD3DCF84D7}
      ENDPROPERTIES
      
      INDEXFIELDS
        #EquipmentId
      ENDINDEXFIELDS
      
      #InventTableIdx1
      PROPERTIES
        Name                #InventTableIdx1
        Origin              #{D890A615-65F0-4597-B044-34B6F28A5D0F}
      ENDPROPERTIES
      
      INDEXFIELDS
        #PartCausedFailure
      ENDINDEXFIELDS
      
      #XAP_CRMSalesPersonIdx
      PROPERTIES
        Name                #XAP_CRMSalesPersonIdx
        Origin              #{4353EB76-CCB8-48EA-9604-1D371B0F460D}
      ENDPROPERTIES
      
      INDEXFIELDS
        #TradeInSalesman
      ENDINDEXFIELDS
      
      #CustTableIdx
      PROPERTIES
        Name                #CustTableIdx
        Origin              #{2B3481ED-BE5F-4D70-BDC8-675B6F6CEEAD}
      ENDPROPERTIES
      
      INDEXFIELDS
        #TradeInCustomer
      ENDINDEXFIELDS
      
      #AttachedIdx
      PROPERTIES
        Name                #AttachedIdx
        Origin              #{80B91010-3E89-475F-BB90-32C1C2EE9321}
      ENDPROPERTIES
      
      INDEXFIELDS
        #EquipmentAttachedTo
        #SalesId
        #RecId
      ENDINDEXFIELDS
      
      #CoreInventTransIdx
      PROPERTIES
        Name                #CoreInventTransIdx
        Origin              #{F1121FFB-950D-4439-9BC7-150AE032913C}
      ENDPROPERTIES
      
      INDEXFIELDS
        #CoreInventTransId
      ENDINDEXFIELDS
      
      #CreditNoteInvoiceIdx
      PROPERTIES
        Name                #CreditNoteInvoiceIdx
        Origin              #{AB433192-F270-4BFA-9BF8-BAF04C82C389}
      ENDPROPERTIES
      
      INDEXFIELDS
        #CreditNoteInvoiceId
      ENDINDEXFIELDS
      
      #DeliveryPostalAddressIdx
      PROPERTIES
        Name                #DeliveryPostalAddressIdx
        Origin              #{F80A8976-D365-4DF4-BD68-813CDA5CE5FC}
      ENDPROPERTIES
      
      INDEXFIELDS
        #DeliveryPostalAddress
        #Partition
        #dataAreaId
        #RecId
        #INCLUDEDCOLUMNPRESENT
      ENDINDEXFIELDS
      
      #ProjTransAttachToIdx
      PROPERTIES
        Name                #ProjTransAttachToIdx
        Origin              #{E2C1B357-766A-4058-85DE-7C8AE36E8A0C}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ProjTransId
        #AttachToLineNumber
        #LineNum
        #INCLUDEDCOLUMNPRESENT
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #AgreementLine
        PROPERTIES
          Name                #AgreementLine
          Table               #AgreementLine
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #AgreementLine
          Role                #AgreementLine_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MatchingAgreementLine
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #AssetBook
        PROPERTIES
          Name                #AssetBook
          Table               #AssetBook
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetBookId
            RelatedField        #BookId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetId
            RelatedField        #AssetId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #AssetBookTable
        PROPERTIES
          Name                #AssetBookTable
          Table               #AssetBookTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetBookId
            RelatedField        #BookId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #AssetGroup
        PROPERTIES
          Name                #AssetGroup
          Table               #AssetGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetGroup
            RelatedField        #GroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #AssetTable
        PROPERTIES
          Name                #AssetTable
          Table               #AssetTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetId
            RelatedField        #AssetId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BarcodeSetup
        PROPERTIES
          Name                #BarcodeSetup
          Table               #BarcodeSetup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BarCodeType
            RelatedField        #barcodeSetupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BOMTable
        PROPERTIES
          Name                #BOMTable
          Table               #BOMTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ItemBOMId
            RelatedField        #BOMId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CommissionSalesGroup
        PROPERTIES
          Name                #CommissionSalesGroup
          Table               #CommissionSalesGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesGroup
            RelatedField        #GroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Common
        PROPERTIES
          Name                #Common
          Table               #Common
          Validate            #No
          RelationshipType    #Link
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AddressRefRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AddressRefTableId
            RelatedField        #TableId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CountyOrigDest
        PROPERTIES
          Name                #CountyOrigDest
          Table               #LogisticsAddressCounty
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CountyOrigDest
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CountyOrigDest
            RelatedField        #CountyId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Currency
        PROPERTIES
          Name                #Currency
          Table               #Currency
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CurrencyCode
            RelatedField        #CurrencyCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustGroup
        PROPERTIES
          Name                #CustGroup
          Table               #CustGroup
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CustGroup
            RelatedField        #CustGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustInvoiceTrans
        PROPERTIES
          Name                #CustInvoiceTrans
          Table               #CustInvoiceTrans
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #RefReturnInvoiceTrans_W
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustLedger
        PROPERTIES
          Name                #CustLedger
          Table               #CustLedger
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PostingProfile_RU
            RelatedField        #PostingProfile
            SourceEDT           #CustPostingProfile
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustTable
        PROPERTIES
          Name                #CustTable
          Table               #CustTable
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CustAccount
            RelatedField        #AccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DefaultDimension
        PROPERTIES
          Name                #DefaultDimension
          Table               #DimensionAttributeValueSet
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #DefaultDimension
          Role                #DefaultDimension_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DefaultDimension
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DefaultDimensionIssue
        PROPERTIES
          Name                #DefaultDimensionIssue
          Table               #DimensionAttributeValueSet
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #DefaultDimensionIssue
          Role                #DefaultDimensionIssue_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DefaultDimensionIssue
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DeliveryPostalAddress_FK
        PROPERTIES
          Name                #DeliveryPostalAddress_FK
          Table               #LogisticsPostalAddress
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #LogisticsPostalAddress
          Role                #LogisticsPostalAddress_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DeliveryPostalAddress
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DeliveryTaxGroupHeading_BR
        PROPERTIES
          Name                #DeliveryTaxGroupHeading_BR
          Table               #TaxGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #DeliveryTaxGroupHeading_BR_1
          Role                #DeliveryTaxGroupHeading_BR_1_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DeliveryTaxGroup_BR
            RelatedField        #TaxGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DeliveryTaxItemGroupHeading_BR
        PROPERTIES
          Name                #DeliveryTaxItemGroupHeading_BR
          Table               #TaxItemGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #DeliveryTaxItemGroupHeading_BR_1
          Role                #DeliveryTaxItemGroupHeading_BR_1_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DeliveryTaxItemGroup_BR
            RelatedField        #TaxItemGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvMode
        PROPERTIES
          Name                #DlvMode
          Table               #DlvMode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvMode
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvReason
        PROPERTIES
          Name                #DlvReason
          Table               #DlvReason
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #DlvReasonRole
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvReasonId
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #EquipmentAttachedTo
        PROPERTIES
          Name                #EquipmentAttachedTo
          Table               #InventTransOrigin
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          RelatedTableRole    #EquipmentAttachedTo
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #EquipmentAttachedTo
            RelatedField        #InventTransId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #EquipmentSIS
        PROPERTIES
          Name                #EquipmentSIS
          Table               #XAP_EquipmentTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #SISEquipment
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #EquipmentSIS
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #EquipmentTable
        PROPERTIES
          Name                #EquipmentTable
          Table               #XAP_EquipmentTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #EquipmentId
            RelatedField        #EquipmentId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ExchangeRateType
        PROPERTIES
          Name                #ExchangeRateType
          Table               #ExchangeRateType
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ExchangeRateType
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #GGH_InternalFacilityCodeSetup
        PROPERTIES
          Name                #GGH_InternalFacilityCodeSetup
          Table               #GGH_InternalFacilityCodeSetup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #FACRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #GGH_MRPConsolidationCodeSetup
        PROPERTIES
          Name                #GGH_MRPConsolidationCodeSetup
          Table               #GGH_MRPConsolidationCodeSetup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MRPConsolidationCodeSetupRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IndustryCode
        PROPERTIES
          Name                #IndustryCode
          Table               #XAP_IndustryCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #IndustryCodeRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InstalledOn
        PROPERTIES
          Name                #InstalledOn
          Table               #XAP_EquipmentTable
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #InstalledOn
          Role                #InstalledOn
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InstalledOn
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatPort
        PROPERTIES
          Name                #IntrastatPort
          Table               #IntrastatPort
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Port
            RelatedField        #PortId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatStatProc
        PROPERTIES
          Name                #IntrastatStatProc
          Table               #IntrastatStatProc
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #StatProcId
            RelatedField        #StatProcId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatTransactionCode
        PROPERTIES
          Name                #IntrastatTransactionCode
          Table               #IntrastatTransactionCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TransactionCode
            RelatedField        #TransactionCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatTransportMode
        PROPERTIES
          Name                #IntrastatTransportMode
          Table               #IntrastatTransportMode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Transport
            RelatedField        #TransPortCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventDim
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InventDimId
            RelatedField        #inventDimId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventItemBarcode
        PROPERTIES
          Name                #InventItemBarcode
          Table               #InventItemBarcode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #BarCode
            RelatedField        #itemBarCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventLocation
        PROPERTIES
          Name                #InventLocation
          Table               #InventLocation
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ReturnWarehouse
            RelatedField        #InventLocationId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventSerialInstalledOn
        PROPERTIES
          Name                #InventSerialInstalledOn
          Table               #InventSerial
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventSerialIdInstalledOn
            RelatedField        #InventSerialId
            SourceEDT           #InventSerialId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventTable
        PROPERTIES
          Name                #InventTable
          Table               #InventTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ItemId
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventTablePartCausedFailure
        PROPERTIES
          Name                #InventTablePartCausedFailure
          Table               #InventTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PartCausingFailure
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PartCausedFailure
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventTransferTableRef
        PROPERTIES
          Name                #InventTransferTableRef
          Table               #InventTransferTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesLine
            Field               #InventRefType
            Value               #7
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventRefId
            RelatedField        #TransferId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventTransOrigin
        PROPERTIES
          Name                #InventTransOrigin
          Table               #InventTransOrigin
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          RelatedTableRole    #InventTransOrigin
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventTransId
            RelatedField        #InventTransId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventTransOriginReturn
        PROPERTIES
          Name                #InventTransOriginReturn
          Table               #InventTransOrigin
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #InventTransOriginReturn
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventTransIdReturn
            RelatedField        #InventTransId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InvoiceScheduleLine
        PROPERTIES
          Name                #InvoiceScheduleLine
          Table               #XAP_InvoiceScheduleLine
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InvoiceScheduleLineRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Jobsite
        PROPERTIES
          Name                #Jobsite
          Table               #XAP_RenJobSite
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #JobSiteRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LedgerDimension
        PROPERTIES
          Name                #LedgerDimension
          Table               #DimensionAttributeValueCombination
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #DimensionAttributeValueCombination
          Role                #DimensionAttributeValueCombination_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #LedgerDimension
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MachineManufacturer
        PROPERTIES
          Name                #MachineManufacturer
          Table               #XAP_MachineManufacturer
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #SIS
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MachineManufacturerId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MachineType
        PROPERTIES
          Name                #MachineType
          Table               #XAP_MachineType
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MachineTypeId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MarketingTable
        PROPERTIES
          Name                #MarketingTable
          Table               #XAP_MarketingTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MarketingTableRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #NTO
        PROPERTIES
          Name                #NTO
          Table               #XAP_RenNTO
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #NTORecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PackingUnit
        PROPERTIES
          Name                #PackingUnit
          Table               #UnitOfMeasure
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PackingUnit
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PackingUnit
            RelatedField        #Symbol
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PBATable
        PROPERTIES
          Name                #PBATable
          Table               #PBATable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ItemPBAId
            RelatedField        #PBAId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PdsItemRebateGroup
        PROPERTIES
          Name                #PdsItemRebateGroup
          Table               #PdsItemRebateGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PdsItemRebateGroupId
            RelatedField        #PdsItemRebateGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PowerSystemsQuotationLine
        PROPERTIES
          Name                #PowerSystemsQuotationLine
          Table               #SalesQuotationLine
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PowerSystemsQuotationLine
            RelatedField        #InventTransId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscChangePolicyRecId1
        PROPERTIES
          Name                #PriceDiscChangePolicyRecId1
          Table               #PriceDiscChangePolicy
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PriceDiscChangePolicy
          Role                #PriceDiscChangePolicy_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SystemEntryChangePolicy
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscChangePolicyRecId2
        PROPERTIES
          Name                #PriceDiscChangePolicyRecId2
          Table               #PriceDiscChangePolicy
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PriceDiscChangePolicy_1
          Role                #PriceDiscChangePolicy_1_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ManualEntryChangepolicy
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ProdTableRef
        PROPERTIES
          Name                #ProdTableRef
          Table               #ProdTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesLine
            Field               #InventRefType
            Value               #3
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventRefId
            RelatedField        #ProdId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ProjCategory
        PROPERTIES
          Name                #ProjCategory
          Table               #ProjCategory
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ProjCategoryId
            RelatedField        #CategoryId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ProjItemTrans
        PROPERTIES
          Name                #ProjItemTrans
          Table               #ProjItemTrans
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ProjTransId
            RelatedField        #ProjTransId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ProjLineProperty
        PROPERTIES
          Name                #ProjLineProperty
          Table               #ProjLineProperty
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ProjLinePropertyId
            RelatedField        #LinePropertyId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ProjTable
        PROPERTIES
          Name                #ProjTable
          Table               #ProjTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ProjId
            RelatedField        #ProjId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PSAContractLineItems
        PROPERTIES
          Name                #PSAContractLineItems
          Table               #PSAContractLineItems
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PSAContractLineNum
            RelatedField        #ContractLineNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PurchaseCurrency
        PROPERTIES
          Name                #PurchaseCurrency
          Table               #Currency
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #Purchase
          Role                #Purchase
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PurchaseCurrencyCode
            RelatedField        #CurrencyCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PurchTableRef
        PROPERTIES
          Name                #PurchTableRef
          Table               #PurchTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesLine
            Field               #InventRefType
            Value               #2
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventRefId
            RelatedField        #PurchId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #RAssetTable
        PROPERTIES
          Name                #RAssetTable
          Table               #RAssetTable
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #AssetId_RU
            RelatedField        #AccountNum
            SourceEDT           #RAssetIdOpen
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ReasonTableRef
        PROPERTIES
          Name                #ReasonTableRef
          Table               #ReasonTableRef
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CreditNoteReasonCode
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #RequestedBy
        PROPERTIES
          Name                #RequestedBy
          Table               #UserInfo
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #RequestedBy
            RelatedField        #id
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #RetailVariantId
        PROPERTIES
          Name                #RetailVariantId
          Table               #InventDimCombination
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #RetailVariantId
            RelatedField        #RetailVariantId
            SourceEDT           #RetailVariantId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ReturnDispositionCode
        PROPERTIES
          Name                #ReturnDispositionCode
          Table               #ReturnDispositionCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ReturnDispositionCodeId
            RelatedField        #DispositionCodeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ReturnReasonCode
        PROPERTIES
          Name                #ReturnReasonCode
          Table               #ReturnReasonCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ReturnedOrder
            RelatedField        #ReasonCodeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #RouteTable
        PROPERTIES
          Name                #RouteTable
          Table               #RouteTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ItemRouteId
            RelatedField        #RouteId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesCategory
        PROPERTIES
          Name                #SalesCategory
          Table               #EcoResCategory
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #EcoResCategory
          Role                #EcoResCategory_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesCategory
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesPool
        PROPERTIES
          Name                #SalesPool
          Table               #SalesPool
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesPoolId
            RelatedField        #SalesPoolId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesTable
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SalesTable
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SalesId
            RelatedField        #SalesId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesTableRef
        PROPERTIES
          Name                #SalesTableRef
          Table               #SalesTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SalesTableRef
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesLine
            Field               #InventRefType
            Value               #1
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventRefId
            RelatedField        #SalesId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesUnit
        PROPERTIES
          Name                #SalesUnit
          Table               #UnitOfMeasure
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SalesUnit
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SalesUnit
            RelatedField        #Symbol
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ShipCarrierPostalAddress_FK
        PROPERTIES
          Name                #ShipCarrierPostalAddress_FK
          Table               #LogisticsPostalAddress
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #LogisticsPostalAddress_1
          Role                #LogisticsPostalAddress_1_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ShipCarrierPostalAddress
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ShipCarrierTable
        PROPERTIES
          Name                #ShipCarrierTable
          Table               #ShipCarrierTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ShipCarrierId
            RelatedField        #CarrierId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SMAServiceOrderTable
        PROPERTIES
          Name                #SMAServiceOrderTable
          Table               #SMAServiceOrderTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ServiceOrderId
            RelatedField        #ServiceOrderId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmActivities
        PROPERTIES
          Name                #smmActivities
          Table               #smmActivities
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ActivityNumber
            RelatedField        #ActivityNumber
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SourceDocumentLine
        PROPERTIES
          Name                #SourceDocumentLine
          Table               #SourceDocumentLine
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          RelatedTableRole    #SourceDocumentLine
          Role                #SourceDocumentLine_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SourceDocumentLine
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SvcComponents
        PROPERTIES
          Name                #SvcComponents
          Table               #XAP_SvcComponents
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ComponentCode
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SvcLineCategoryGroup
        PROPERTIES
          Name                #SvcLineCategoryGroup
          Table               #XAP_SvcLineCategoryGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #4
            Table               #XAP_SvcLineCategoryGroup
            RelatedField        #ProjCategoryType
          ENDPROPERTIES
          
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #LineCategoryGroupId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SvcWarrantyClaimTable
        PROPERTIES
          Name                #SvcWarrantyClaimTable
          Table               #XAP_SvcWarrantyClaimTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SvcWarrantyClaimRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxGroupHeading
        PROPERTIES
          Name                #TaxGroupHeading
          Table               #TaxGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxGroup
            RelatedField        #TaxGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxItemGroupHeading
        PROPERTIES
          Name                #TaxItemGroupHeading
          Table               #TaxItemGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxItemGroup
            RelatedField        #TaxItemGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxServiceTariff
        PROPERTIES
          Name                #TaxServiceTariff
          Table               #TaxServiceTariff
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #TaxServiceTariff
          Role                #SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #RecId
            RelatedField        #ParentRecId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TableId
            RelatedField        #ParentTableId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxWithholdGroupHeading
        PROPERTIES
          Name                #TaxWithholdGroupHeading
          Table               #TaxWithholdGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxWithholdGroup
            RelatedField        #TaxWithholdGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxWithholdItemGroupHeading_TH
        PROPERTIES
          Name                #TaxWithholdItemGroupHeading_TH
          Table               #TaxWithholdItemGroupHeading_TH
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #TaxWithholdItemGroupHeading_TH
          Role                #TaxWithholdItemGroupHeading_TH_SalesLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxWithholdItemGroupHeading_TH
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TradeInCustomer
        PROPERTIES
          Name                #TradeInCustomer
          Table               #CustTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #TradeInCustomer
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TradeInCustomer
            RelatedField        #AccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TradeInEquipment
        PROPERTIES
          Name                #TradeInEquipment
          Table               #XAP_EquipmentTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #TradeInEquipment
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TradeInEquipment
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TradeInMake
        PROPERTIES
          Name                #TradeInMake
          Table               #XAP_MachineManufacturer
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TradeInMake
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TradeInSalesLine
        PROPERTIES
          Name                #TradeInSalesLine
          Table               #SalesLine
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SalesLine_TradeIn
          Role                #SalesLine_TradeIn
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TradeInRefRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TradeInSalesPerson
        PROPERTIES
          Name                #TradeInSalesPerson
          Table               #XAP_CRMSalesPerson
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TradeInSalesman
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VendInvoiceTrans_W
        PROPERTIES
          Name                #VendInvoiceTrans_W
          Table               #VendInvoiceTrans
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #RefReturnInvoiceTrans_W
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VendTable
        PROPERTIES
          Name                #VendTable
          Table               #VendTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #QuoteVendor
            RelatedField        #AccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WarrantySalesLine
        PROPERTIES
          Name                #WarrantySalesLine
          Table               #XAP_WarrantySalesLines
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #WarrantySalesLine
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #XAP_BackorderSetupTable
        PROPERTIES
          Name                #XAP_BackorderSetupTable
          Table               #XAP_BackorderSetupTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ExactlyOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BackorderTableRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #XAP_DestinationCodeTable
        PROPERTIES
          Name                #XAP_DestinationCodeTable
          Table               #XAP_DestinationCodeTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #DestinationCodeRole
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DestinationCodeRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #XAP_DropBoxes
        PROPERTIES
          Name                #XAP_DropBoxes
          Table               #XAP_DropBoxes
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DropBoxCodeRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #XAP_EmergencyOrderLine
        PROPERTIES
          Name                #XAP_EmergencyOrderLine
          Table               #XAP_EmergencyOrderLine
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ExactlyOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #EmergencyOrderLineRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #XAP_OrderTypeTable
        PROPERTIES
          Name                #XAP_OrderTypeTable
          Table               #XAP_OrderTypeTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #OrderTypeRole
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #WMSOrderTypeRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #XAP_SourceOfSupply
        PROPERTIES
          Name                #XAP_SourceOfSupply
          Table               #XAP_SourceOfSupply
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          CreateNavigationPropertyMethods           #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SOSRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #PDSSalesLinePricingCalculation(SalesLine)
      PROPERTIES
        Table               #PDSSalesLinePricingCalculation
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #XAP_PSSalesQuoteLineDiscount(SalesLine)
      PROPERTIES
        Table               #XAP_PSSalesQuoteLineDiscount
        DeleteAction        #Restricted
        Relation            #SalesLine
      ENDPROPERTIES
      
      #XAP_IntSurplusRetutnPackingList(SalesLine)
      PROPERTIES
        Table               #XAP_IntSurplusRetutnPackingList
        DeleteAction        #Restricted
        Relation            #SalesLine
      ENDPROPERTIES
      
      #XAP_DPISExceptionWorkTable(SalesLine)
      PROPERTIES
        Table               #XAP_DPISExceptionWorkTable
        DeleteAction        #Restricted
        Relation            #SalesLine
      ENDPROPERTIES
      
      #ProjItemTrans(SalesLine)
      PROPERTIES
        Table               #ProjItemTrans
        DeleteAction        #Restricted
        Relation            #SalesLine
      ENDPROPERTIES
      
      #AgreementLineReleasedLine(SalesLine)
      PROPERTIES
        Table               #AgreementLineReleasedLine
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #CustomsExportAssessableValue_IN
      PROPERTIES
        Table               #CustomsExportAssessableValue_IN
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #CustomsExportOrderTable_IN
      PROPERTIES
        Table               #CustomsExportOrderTable_IN
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #CustVendCreditInvoicingLine
      PROPERTIES
        Table               #CustVendCreditInvoicingLine
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #DocuRef
      PROPERTIES
        Table               #DocuRef
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #EximSalesLine_IN
      PROPERTIES
        Table               #EximSalesLine_IN
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventQualityOrderTable
      PROPERTIES
        Table               #InventQualityOrderTable
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #MarkupTrans
      PROPERTIES
        Table               #MarkupTrans
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #PlInventPackageParm(SalesLine)
      PROPERTIES
        Table               #PlInventPackageParm
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #RetailSalesLine(SalesLine)
      PROPERTIES
        Table               #RetailSalesLine
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #SalesLine_BR(SalesLine)
      PROPERTIES
        Table               #SalesLine_BR
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #SalesLine_IN(SalesLine)
      PROPERTIES
        Table               #SalesLine_IN
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #SalesLine_Intrastat(SalesLine)
      PROPERTIES
        Table               #SalesLine_Intrastat
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #SalesLineForeignTradeCategory
      PROPERTIES
        Table               #SalesLineForeignTradeCategory
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #SourceDocumentLine
      PROPERTIES
        Table               #SourceDocumentLine
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #TaxServiceTariff(SalesLine)
      PROPERTIES
        Table               #TaxServiceTariff
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #TaxWorkRegulation(SalesLine)
      PROPERTIES
        Table               #TaxWorkRegulation
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
      #XAP_CoreChargeTrans(SalesLine)
      PROPERTIES
        Table               #XAP_CoreChargeTrans
        DeleteAction        #Cascade
        Relation            #SalesLine
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #accountClearingLedgerDimension
        #public display LedgerDimensionDefaultAccount accountClearingLedgerDimension(SalesTable _salesTable = this.salesTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountClearingLedgerDimension(_salesTable);
        #}
      ENDSOURCE
      SOURCE #accountConsumptionLedgerDimension
        #public display LedgerDimensionDefaultAccount accountConsumptionLedgerDimension(InventTable _inventTable = this.inventTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountConsumptionLedgerDimension(_inventTable);
        #}
      ENDSOURCE
      SOURCE #accountCustLedgerDimension
        #public display LedgerDimensionDefaultAccount accountCustLedgerDimension(SalesTable _salesTable = this.salesTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountCustLedgerDimension(_salesTable);
        #}
      ENDSOURCE
      SOURCE #accountDiscLedgerDimension
        #public display LedgerDimensionDefaultAccount accountDiscLedgerDimension(InventTable _inventTable = this.inventTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountDiscLedgerDimension(_inventTable);
        #}
      ENDSOURCE
      SOURCE #accountGoodsInRouteOffset_RU
        #//BP Deviation Documented
        #display LedgerDimensionDefaultAccount accountGoodsInRouteOffset_RU(InventTable _inventTable = this.inventTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountGoodsInRouteOffset_RU(_inventTable);
        #}
        #
      ENDSOURCE
      SOURCE #accountIssueLedgerDimension
        #public display LedgerDimensionDefaultAccount accountIssueLedgerDimension(InventTable _inventTable = this.inventTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountIssueLedgerDimension(_inventTable);
        #}
      ENDSOURCE
      SOURCE #accountSalesLedgerDimension
        #public display LedgerDimensionDefaultAccount accountSalesLedgerDimension(InventTable _inventTable = this.inventTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.accountSalesLedgerDimension(_inventTable);
        #}
      ENDSOURCE
      SOURCE #agreementSkipAutoLink
        #/// <summary>
        #/// Check whether this line should skip automatic <c>AgreementLine</c> matching.
        #/// </summary>
        #/// <returns>
        #/// True if no automatic matching should be done for this line.
        #/// </returns>
        #public boolean agreementSkipAutoLink()
        #{
        #    return this.AgreementSkipAutoLink;
        #}
      ENDSOURCE
      SOURCE #aiExistsOnOriginalInvoice
        #/// <summary>
        #/// Verifies if an advance invoice exists for the original invoice being corrected.
        #/// </summary>
        #/// <returns>
        #/// Retruns true if an advance invoice exists for the original invoice being corrected.
        #/// </returns>
        #// <GEEU>
        #public server boolean aiExistsOnOriginalInvoice()
        #{
        #    SalesLine           reverseLine;
        #    CustInvoiceTrans    origInvoiceTrans;
        #
        #    reverseLine           = SalesLine::findRecId(this.CreditNoteInternalRef_PL);
        #    origInvoiceTrans      = CustInvoiceTrans::findRecId(reverseLine.RefReturnInvoiceTrans_W);
        #    return (CustAdvanceInvoiceSettlement_W::existsCustInvoiceJour(origInvoiceTrans.custInvoiceJour()));
        #}
        #// </GEEU>
      ENDSOURCE
      SOURCE #allowUpdateWithQualityOrder
        #/// <summary>
        #/// Determines whether the update of the sales line is enabled.
        #/// </summary>
        #/// <returns>
        #/// true if the update is enabled; otherwise, false.
        #/// </returns>
        #public boolean allowUpdateWithQualityOrder()
        #{
        #    SalesLine   salesLine_orig;
        #
        #    if (!InventParameters::find().UseQualityManagement)
        #    {
        #        // Not using quality management for this company
        #        return true;
        #    }
        #
        #    if (this.qualityOrderStatusDisplay() != InventTestOrderStatusDisplay::Open)
        #    {
        #        // No open quality order exists
        #        return true;
        #    }
        #    salesLine_orig = this.orig().data();
        #
        #    // Changing the following fields is allowed so make those equal before comparing
        #    salesLine_orig.SalesDeliverNow    = this.SalesDeliverNow;
        #    salesLine_orig.InventDeliverNow   = this.InventDeliverNow;
        #
        #    return this.equal(salesLine_orig);
        #}
      ENDSOURCE
      SOURCE #amountCur
        #public AmountCur amountCur(AmountMST               _amountMST,
        #                           TransDate               _exchRateDate            = systemDateGet(),
        #                           ExchRate                _exchRate                = this.salesTable().fixedExchRate(),
        #                           ExchrateSecondary       _exchrateSecondary       = this.salesTable().fixedExchRateSecondary(),
        #                           ExchRatesTriangulation  _exchRatesTriangulation  = this.salesTable().fixedEuroTriangulation())
        #{
        #    return this.SalesPurchLine::amountCur(_amountMST, _exchRateDate, _exchRate, _exchrateSecondary, _exchRatesTriangulation);
        #}
      ENDSOURCE
      SOURCE #amountExclTax
        #public AmountCur amountExclTax(AmountCur _amountCur, Qty  _qty, TransDate _transDate, Tax _tax = null)
        #{
        #    return this.SalesPurchLine::amountExclTax(_amountCur, _qty, _transDate, _tax);
        #}
      ENDSOURCE
      SOURCE #amountMST
        #public AmountMST amountMST(AmountCur               _amountCur,
        #                           TransDate               _exchRateDate            = systemDateGet(),
        #                           ExchRate                _exchRate                = this.salesTable().fixedExchRate(),
        #                           ExchrateSecondary       _exchrateSecondary       = this.salesTable().fixedExchRateSecondary(),
        #                           ExchRatesTriangulation  _exchRatesTriangulation  = this.salesTable().fixedEuroTriangulation())
        #{
        #    return this.SalesPurchLine::amountMST(_amountCur, _exchRateDate, _exchRate, _exchrateSecondary, _exchRatesTriangulation);
        #}
      ENDSOURCE
      SOURCE #aosValidateUpdate
        #// <GGH>
        #public boolean aosValidateUpdate()
        #{
        #    SalesLine   origSalesLine = this.orig();
        #    boolean     ret;
        #
        #    ret = super();
        #
        #    if(origSalesLine.SalesQty != this.SalesQty)
        #    {
        #        GGH_SalesLineLog::insertHistory(this, true);
        #    }
        #
        #    return ret;
        #}
        #// </GGH>
      ENDSOURCE
      SOURCE #associateWithAgreementLine
        #/// <summary>
        #/// Associates the sales line with the agreement line.
        #/// </summary>
        #[SysObsoleteAttribute('There is no longer a need to create agreement link manually. Agreement link is created or deleted whenever sales order line is created, updated or deleted based on MatchingAgreementLine value on SalesLine.', true)]
        #server public void  associateWithAgreementLine()
        #{
        #    throw error(Error::wrongUseOfFunction(funcName()));
        #}
      ENDSOURCE
      SOURCE #calcCostAmount
        #server public CostAmount calcCostAmount(InventQty    _inventQty = this.QtyOrdered)
        #{
        #    CostAmount  costAmount = 0;
        #    InventQty   costInventQty;
        #    AmountCur   costInventValue;
        #
        #    if (_inventQty > 0)
        #    {
        #        [costInventQty, costInventValue] = InventTrans::calcCostValue(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #        if (costInventQty)
        #        {
        #            costAmount = Currency::amount(_inventQty * (costInventValue/costInventQty));
        #        }
        #    }
        #    else
        #    {
        #        costAmount = this.calcReturnCostAmount(_inventQty);
        #    }
        #
        #    return costAmount;
        #}
      ENDSOURCE
      SOURCE #calcGrossAmount
        #public AmountCur calcGrossAmount(Qty    _qty   = this.SalesQty)
        #{
        #    return this.SalesPurchLine::calcGrossAmount(_qty);
        #}
      ENDSOURCE
      SOURCE #calcGrossAmountExclTax
        #public AmountCur  calcGrossAmountExclTax(Qty       _qty = this.SalesQty,
        #                                         TransDate _transDate = systemDateGet(),
        #                                         Tax       _tax = null)
        #{
        #    return this.SalesPurchLine::calcGrossAmountExclTax(_qty, this.taxDate(_transDate), _tax);
        #}
      ENDSOURCE
      SOURCE #calcLineAmount
        #public AmountCur calcLineAmount(Qty  _qty = this.SalesQty)
        #{
        #    AmountCur ret;
        #
        #    if (this.LineDeliveryType != LineDeliveryType::OrderLineWithMultipleDeliveries)
        #    {
        #        ret = this.SalesPurchLine::calcLineAmount(_qty);
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #calcLineAmountExclTax
        #public AmountCur  calcLineAmountExclTax(Qty  _qty = this.SalesQty, TransDate _transDate = systemDateGet(), Tax _tax = null)
        #{
        #    return this.SalesPurchLine::calcLineAmountExclTax(_qty,  this.taxDate(_transDate), _tax);
        #}
      ENDSOURCE
      SOURCE #calcLineAmountForced
        #public AmountCur calcLineAmountForced(
        #    Qty _qty = this.SalesType == SalesType::ReturnItem ? this.ExpectedRetQty : this.SalesQty,
        #    PriceDiscPolicyCheckPolicy  _checkPolicy = null)
        #{
        #    AmountCur ret;
        #
        #    if (this.LineDeliveryType != LineDeliveryType::OrderLineWithMultipleDeliveries)
        #    {
        #        ret = this.SalesPurchLine::calcLineAmountForced(_qty, _checkPolicy );
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #calcLineAmountForcedInteraction
        #/// <summary>
        #/// Calculates of line amount forced with user interaction if associated link to agreement order line becomes invalid.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID of the field which changes require recalculation of line amount.
        #/// </param>
        #/// <param name="_qty">
        #/// The sales quantity used for calculating the line amount.
        #/// </param>
        #/// <param name="_recalcValidLink">
        #/// A Boolean value that indicates whether to calculate line amount if the agreement link is valid; optional.
        #/// </param>
        #/// <returns>
        #/// The line amount.
        #/// </returns>
        #/// <remarks>
        #/// Used when there is a need for the option to dissociate agreement order line via prompt if changes will make the existing association to a agreement order line invalid.
        #/// </remarks>
        #public AmountCur calcLineAmountForcedInteraction(
        #    FieldId _fieldId,
        #    Qty     _qty             = this.SalesQty,
        #    boolean _recalcValidLink = true)
        #{
        #    anytype     FieldValue;
        #    boolean     calledFromWeb;
        #    boolean     isAgreementLinkRefreshed = true;
        #    AmountCur   localOrigLineAmount  = this.LineAmount; //This variable is needed for the uncommitted scenario as <>.orig.LineAmont returns the db value.
        #
        #    if (_recalcValidLink && this.salesTable().MatchingAgreement)
        #    {
        #        //The impact on line amount should be included in the agreement link validation.
        #        this.LineAmount      = this.calcLineAmountForced(this.SalesQty);
        #        isAgreementLinkRefreshed = this.refreshAgreementLink();
        #        this.LineAmount      = localOrigLineAmount;
        #    }
        #
        #    if (!isAgreementLinkRefreshed)
        #    {
        #        calledFromWeb = webSession() ? true : false;
        #        if (calledFromWeb)
        #        {
        #            warning("@SYS135751");
        #            return this.calcLineAmountForced(_qty);
        #        }
        #        else
        #        {
        #            if(this.unLinkAgreementLinePrompt(_fieldId))
        #            {
        #                if (_fieldId)
        #                {
        #                    this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                }
        #
        #                if (this.ManualEntryChangepolicy
        #                    && this.SystemEntryChangePolicy)
        #                {
        #                    this.PriceDiscResultFields::mergerPriceDiscPolicies(ModuleSalesPurch::Sales);
        #                }
        #
        #                if (this.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries
        #                    || (this.LineDeliveryType == LineDeliveryType::OrderLine
        #                        && this.doReCalcPricesFromBasePrompt()))
        #                {
        #                    FieldValue = this.(_fieldId);
        #                    SalesLine::modifySalesQty(this,this.inventDim());
        #                    this.(_fieldId) = FieldValue;
        #                }
        #                return this.calcLineAmountForced(_qty);
        #            }
        #        }
        #        return this.LineAmount;
        #    }
        #    else
        #    {
        #        return _recalcValidLink ? this.calcLineAmountForced(_qty) : this.LineAmount;
        #    }
        #}
      ENDSOURCE
      SOURCE #calcLineAmountInclTax_RU
        #public AmountCur calcLineAmountInclTax_RU(Qty _qty = this.SalesQty, TransDate _transDate = systemDateGet())
        #{
        #    return this.SalesPurchLine::calcLineAmountInclTax_RU(_qty, _transDate);
        #}
        #
      ENDSOURCE
      SOURCE #calcLineAmountInteraction
        #/// <summary>
        #/// Calculates the line amount from a user interaction when the associated link to an agreement order.
        #/// line is invalid.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID of the changed field that requires a recalculation of the line amount.
        #/// </param>
        #/// <param name="_qty">
        #/// The sales quantity for which to calculate the line amount.
        #/// </param>
        #/// <returns>
        #/// The calculated line amount.
        #/// </returns>
        #/// <remarks>
        #/// This method is used when you need the option to dissociate an agreement order line from a prompt.
        #/// This behavior may occur if a change will make the existing association with an agreement order line
        #/// invalid.
        #/// </remarks>
        #public AmountCur calcLineAmountInteraction(FieldId _fieldId, Qty _qty = this.SalesQty)
        #{
        #    anytype     FieldValue;
        #    boolean     calledFromWeb;
        #
        #    if (this.RecId && this.salesTable().MatchingAgreement && !this.refreshAgreementLink())
        #    {
        #        calledFromWeb = webSession() ? true : false;
        #
        #        if (calledFromWeb)
        #        {
        #            warning("@SYS135751");
        #            return this.calcLineAmount(_qty);
        #        }
        #        else
        #        {
        #            if(this.unLinkAgreementLinePrompt(_fieldId))
        #            {
        #                if (this.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries
        #                    || (this.LineDeliveryType == LineDeliveryType::OrderLine
        #                        && this.doReCalcPricesFromBasePrompt()))
        #                {
        #                    FieldValue = this.(_fieldId);
        #                    SalesLine::modifySalesQty(this,this.inventDim());
        #                    this.(_fieldId) = FieldValue;
        #                }
        #                return this.calcLineAmount(_qty);
        #            }
        #        }
        #        return this.LineAmount;
        #    }
        #    else
        #    {
        #        return this.calcLineAmount(_qty);
        #    }
        #}
      ENDSOURCE
      SOURCE #calcLineDisc
        #public DiscAmount  calcLineDisc(Qty    _qty   = this.SalesQty)
        #{
        #    return this.SalesPurchLine::calcLineDisc(_qty);
        #}
      ENDSOURCE
      SOURCE #calcLineDiscExclTax
        #public DiscAmount  calcLineDiscExclTax(Qty _qty = this.SalesQty, TransDate _transDate = systemDateGet(), Tax _tax = null)
        #{
        #    return this.SalesPurchLine::calcLineDiscExclTax(_qty, this.taxDate(_transDate), _tax);
        #}
      ENDSOURCE
      SOURCE #calcPackingUnit
        #public void calcPackingUnit(InventDim _inventDim = this.inventDim())
        #{
        #    this.PackingUnit = InventPackagingUnit::findSalesPackingUnit(this.ItemId,
        #                                                                 _inventDim);
        #}
      ENDSOURCE
      SOURCE #calcPackingUnitQty
        #public void calcPackingUnitQty(InventDim _inventDim = this.inventDim())
        #{
        #    this.PackingUnitQty = InventPackagingUnit::calcPackingUnitQty(this.PackingUnit,
        #                                                                  this.QtyOrdered,
        #                                                                  this.ItemId,
        #                                                                  _inventDim);
        #}
      ENDSOURCE
      SOURCE #calcPrice2LineAmount
        #public AmountCur  calcPrice2LineAmount(Qty _qty, boolean _forceLineAmountCalculation)
        #{
        #    return this.SalesPurchLine::calcPrice2LineAmount(_qty, _forceLineAmountCalculation);
        #}
      ENDSOURCE
      SOURCE #calcPriceForOWM
        #/// <summary>
        #/// Calulates the sales price and line amount for OWM items.
        #/// </summary>
        #//PCs_XAP_312_CreatePOForOWM
        #public void calcPriceForOWM()
        #{
        #    /*<GGH>
        #    this.SalesPrice = this.Cost * (100 + this.MarkupPercentage) / 100;
        #    <GGH>*/
        #    //<GGH>
        #    this.SalesPrice = decRound(this.Cost * (100 + this.MarkupPercentage) / 100, 2);
        #    //</GGH>
        #    //this.LineAmount = this.calcLineAmount();
        #    this.LineAmount = this.calcLineAmount();
        #}
      ENDSOURCE
      SOURCE #calcQtyOrdered
        #public InventQty   calcQtyOrdered(Qty    _salesQty  = this.SalesQty)
        #{
        #    return this.isStocked() ? this.SalesPurchLine::calcQtyOrdered(_salesQty) : 0;
        #}
      ENDSOURCE
      SOURCE #calcReturnCostAmount
        #public CostAmount calcReturnCostAmount(InventQty    _qty)
        #{
        #    return Currency::amount(_qty * this.CostPrice);
        #}
      ENDSOURCE
      SOURCE #calculateCostPrice
        #/// <summary>
        #/// Calculates cost price using given <c>InventDim</c> record.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// An <c>InventDim</c> record.
        #/// </param>
        #private void calculateCostPrice(InventDim _inventDim)
        #{
        #    this.CostPrice = this.inventTable().costPcsPrice(this.InventDimId, _inventDim);
        #}
      ENDSOURCE
      SOURCE #canAgreementBeLinked
        #/// <summary>
        #/// Determines whether the sales line can be linked to an agreement line.
        #/// </summary>
        #/// <returns>
        #/// true if sales order line can be linked to an agreement line; otherwise, false.
        #/// </returns>
        #public boolean canAgreementBeLinked()
        #{
        #    return this.type().canAgreementBeLinked();
        #}
      ENDSOURCE
      SOURCE #canBeInvoiced
        #public boolean canBeInvoiced()
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.canBeInvoiced();
        #}
      ENDSOURCE
      SOURCE #canEditDisc
        #// This method is called when setting disc fields
        #public boolean canEditDisc()
        #{
        #    return this.salesTable().type().editDisc();
        #}
      ENDSOURCE
      SOURCE #changeEquipmentReservationStatus
        #// NAXT EQ0048 Default financial dimension (KB17622)
        #void changeEquipmentReservationStatus(SalesLine _salesOrderLine, InventDim _inventDim)
        #{
        #    XAP_EquipmentTable          equipmentTable;
        #    XAP_EquipmentTradeInfo      equipmentTradeInfo;
        #    XAP_RenEqOnMainLine         equipmentOnMainLine;
        #
        #    XAP_RenContractType         contractType;
        #
        #    // First: Change the previous equipment status to default.
        #    ttsbegin;
        #
        #    if (_inventDim.orig().InventEquipmentId)
        #    {
        #        equipmentTable = XAP_EquipmentTable::find(_inventDim.orig().InventEquipmentId, true);
        #
        #        if (equipmentTable)
        #        {
        #            // find active contract line to the equipment
        #            select firstonly equipmentOnMainLine
        #                order by CreatedDateTime desc
        #                where equipmentOnMainLine.Equipment == equipmentTable.RecId
        #                   && equipmentOnMainLine.Status    == XAP_RenEqOnRentalStatus::Active;
        #
        #            if (equipmentOnMainLine)
        #            {
        #                contractType = XAP_RenTemplate::findByRecId(XAP_RenMainTable::findByRecId(equipmentOnMainLine.MainTable).RentalTemplate).ContractType;
        #
        #                switch (contractType)
        #                {
        #                    case XAP_RenContractType::Rental :
        #                        equipmentTable.AgreementStatus = XAP_AgreementStatus::Rental;
        #                        break;
        #                    case XAP_RenContractType::Lease :
        #                        equipmentTable.AgreementStatus = XAP_AgreementStatus::Lease;
        #                        break;
        #                    case XAP_RenContractType::NoCharge :
        #                        equipmentTable.AgreementStatus = XAP_AgreementStatus::NoCharge;
        #                        break;
        #                    default :
        #                        equipmentTable.AgreementStatus = XAP_AgreementStatus::Rental;
        #                        break;
        #                }
        #            }
        #            else
        #            {
        #                equipmentTable.AgreementStatus = XAP_AgreementStatus::Available;
        #            }
        #            //<NAXT_Lifecycle>
        #            if (equipmentTable.validateWrite())
        #            {
        #                equipmentTable.update();
        #            }
        #            else
        #            {
        #                throw Exception::Error;
        #            }
        #            //</NAXT_Lifecycle>
        #
        #            equipmentTradeInfo = XAP_EquipmentTradeInfo::findOrCreateTradeInfo(equipmentTable.RecId, true);
        #
        #            equipmentTradeInfo.CustAccount             = '';
        #            equipmentTradeInfo.BusinessRelationAccount = '';
        #
        #        }
        #    }
        #
        #    // Second: Add the new status.
        #    equipmentTable = XAP_EquipmentTable::find(_inventDim.InventEquipmentId, true);
        #
        #    if (equipmentTable)
        #    {
        #        if (_salesOrderLine.reservedOnOrder() || _salesOrderLine.reservedPhysical())
        #        {
        #            equipmentTable.AgreementStatus = XAP_AgreementStatus::Sale;
        #            //<NAXT_Lifecycle>
        #            if (equipmentTable.validateWrite())
        #            {
        #                equipmentTable.update();
        #            }
        #            else
        #            {
        #                throw Exception::Error;
        #            }
        #            //</NAXT_Lifecycle>
        #
        #            equipmentTradeInfo = XAP_EquipmentTradeInfo::findOrCreateTradeInfo(equipmentTable.RecId, true);
        #
        #            equipmentTradeInfo.CustAccount             = _salesOrderLine.CustAccount;
        #            equipmentTradeInfo.BusinessRelationAccount = smmBusRelTable::findCust(_salesOrderLine.CustAccount).BusRelAccount;
        #
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #checkActivity
        #public boolean checkActivity()
        #{
        #    RecId projRecId;
        #
        #    if (this.ActivityNumber)
        #    {
        #        if (!ProjActivity::find(this.ActivityNumber))
        #        {
        #            return checkFailed(strFmt("@SYS50966",this.ActivityNumber));
        #        }
        #
        #        //validate activity is associated to Project
        #        projRecId = ProjTable::find(this.ProjId).RecId;
        #
        #        if (smmActivityParentLinkTable::find(this.ActivityNumber, smmActivityParentType::Project, projRecId).RecId == 0)
        #        {
        #            return checkFailed(strFmt("@SYS105858",this.ActivityNumber, this.ProjId));
        #        }
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkAndPromptFixedLineAmount
        #public boolean checkAndPromptFixedLineAmount()
        #{
        #    return this.PriceDiscLine::checkAndPromptFixedLineAmount();
        #}
      ENDSOURCE
      SOURCE #checkCurrencyCode
        #public boolean  checkCurrencyCode()
        #{
        #    boolean ok = true;
        #
        #    if (this.CurrencyCode && ! Currency::exist(this.CurrencyCode))
        #    {
        #        ok = checkFailed(strFmt("@SYS1458", this.CurrencyCode));
        #    }
        #    /* <SYS>
        #    if (this.salesTable().CurrencyCode != this.CurrencyCode)
        #    </SYS> */
        #    // <GGH>
        #    if (this.salesTable().CurrencyCode != this.CurrencyCode && !ProjTable::isPowerSystem(this.ProjId))
        #    // </GGH>
        #    {
        #        ok = checkFailed("@SYS20794");
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkCustomsTariffCode_IN
        #/// <summary>
        #/// Checks customs tariff code.
        #/// </summary>
        #/// <param name="_customsTariffCodeTableRecId">
        #/// The customs tariff code table RecId.
        #/// </param>
        #/// <returns>
        #/// Returns true if the customs tariff code is valid.
        #/// </returns>
        #// <GIN>
        #public boolean  checkCustomsTariffCode_IN(RefRecId  _customsTariffCodeTableRecId = this.salesLine_IN().CustomsTariffCodeTable_IN)
        #{
        #    return this.salesLineView_IN().SalesPurchJournalLine_IN::checkCustomsTariffCode(_customsTariffCodeTableRecId, Direction_IN::Export);
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #checkDelete
        #public boolean checkDelete(boolean _useWarning = true)
        #{
        #    return this.type().checkDelete(_useWarning);
        #}
      ENDSOURCE
      SOURCE #checkIfMarked
        #public display ImageRes checkIfMarked()
        #{
        #    #resAppl
        #    InventQtyMarked qtyMarked;
        #
        #    qtyMarked = this.qtyMarked();
        #
        #    if(qtyMarked)
        #    {
        #        return #ImageWarning;
        #    }
        #    return 0;
        #}
      ENDSOURCE
      SOURCE #checkIfUpdate
        #server container checkIfUpdate()
        #{
        #    return this.type().checkIfUpdate();
        #}
      ENDSOURCE
      SOURCE #checkInitFromInventTable
        #public boolean  checkInitFromInventTable(InventTable _inventTable)
        #{
        #    return this.SalesPurchLine::checkInitFromInventTable(_inventTable);
        #}
      ENDSOURCE
      SOURCE #checkIntrastat
        #/// <summary>
        #/// Validates the <c>intrastat</c> setting on the item associated to the order line.
        #/// </summary>
        #/// <returns>
        #/// true if the validation passes; Otherwise, false.
        #/// </returns>
        #public boolean checkIntrastat()
        #{
        #    CustTable            custTable;
        #    IntrastatParameters  intrastatParameters;
        #    InventTable          inventTable;
        #    boolean              ret = true;
        #    boolean              checkIntrastatLT;
        #    SalesLineForeignTradeCategory   salesLineForeignTradeCategory;
        #    #ISOCountryRegionCodes
        #
        #
        #    custTable           = CustTable::find(this.salesTable().InvoiceAccount);
        #    intrastatParameters = IntrastatParameters::find();
        #    inventTable         = this.inventTable();
        #
        #    if (! inventTable.IntrastatExclude   &&
        #            //only perform check when customer is from an EU country
        #            IntrastatCountryRegionParameters::isInEU(custTable.countryRegionId()))
        #    {
        #
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoHU]))
        #        {
        #            if (intrastatParameters.IntrastatFulfillmentDateEmptyWarning_HU && ! this.IntrastatFulfillmentDate_HU)
        #            {
        #                ret = checkFailed(strFmt("@SYS4080013", fieldPName(SalesLine, IntrastatFulfillmentDate_HU)));
        #            }
        #        }
        #
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT]))
        #        {
        #            if (this.ItemId)
        #            {
        #                checkIntrastatLT = Intrastat::isIntrastatLine(InventTable::find(this.ItemId));
        #            }
        #            else if (this.isCategoryBased())
        #            {
        #                salesLineForeignTradeCategory = SalesLineForeignTradeCategory::findSalesLine(this);
        #
        #                if (salesLineForeignTradeCategory.ItemCodeId)
        #                {
        #                    checkIntrastatLT = Intrastat::isIntrastatLine(salesLineForeignTradeCategory);
        #                }
        #            }
        #
        #            if (checkIntrastatLT)
        #            {
        #                if (intrastatParameters.State             && ! this.deliveryAddress().State)
        #                {
        #                    ret = checkFailed("@SYS57801");
        #                }
        #
        #                if (intrastatParameters.TransactionCode   && ! this.TransactionCode)
        #                {
        #                    ret = checkFailed(strFmt("@SYS27175"));
        #                }
        #
        #                if (intrastatParameters.TransportMode     && ! this.Transport)
        #                {
        #                    ret = checkFailed(strFmt("@GLS107639"));
        #                }
        #
        #                if (intrastatParameters.Port              && ! this.Port)
        #                {
        #                    ret = checkFailed(strFmt("@GLS107640"));
        #                }
        #
        #                if (this.ItemId)
        #                {
        #
        #                    if (intrastatParameters.Weight            && ! inventTable.NetWeight)
        #                    {
        #                        ret = checkFailed(strFmt("@GLS107646", inventTable.ItemId));
        #                    }
        #
        #                    if (intrastatParameters.IntrastatItemcode && ! inventTable.Intracode)
        #                    {
        #                        ret = checkFailed(strFmt("@GLS107643", inventTable.ItemId));
        #
        #                    if (intrastatParameters.AdditionalUnit    && ! inventTable.IntraUnit)
        #                        ret = checkFailed(strFmt("@GLS107644", inventTable.ItemId));
        #                    }
        #
        #                    if (intrastatParameters.OrigCountryRegion && ! inventTable.OrigCountryRegionId)
        #                    {
        #                        ret = checkFailed(strFmt("@GLS107645", inventTable.ItemId));
        #                    }
        #                }
        #                else
        #                {
        #                    if (intrastatParameters.Weight            && ! salesLineForeignTradeCategory.UnitWeight)
        #                    {
        #                        ret = checkFailed(strFmt("@SYS4082090", this.SalesCategory));
        #                    }
        #
        #                    if (intrastatParameters.OrigCountryRegion && ! salesLineForeignTradeCategory.OrigCountryRegionId)
        #                    {
        #                        ret = checkFailed(strFmt("@SYS4082091", this.SalesCategory));
        #                    }
        #                }
        #            }
        #
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkItemId
        #public boolean checkItemId()
        #{
        #    boolean  ok = true;
        #    EcoResProductValidator productValidator;
        #    InventTable inventTable = this.inventTable();
        #
        #    if (this.orig().ItemId
        #        && this.orig().ItemId != this.ItemId
        #        /* <SYS>
        #        && this.InventTransId)
        #        </SYS> */
        #        // <GGH>
        #        && this.InventTransId
        #        && this.RecId
        #        )
        #        // </GGH>
        #    {
        #        ok = checkFailed("@SYS19376");
        #    }
        #
        #    if (this.ItemId
        #        && this.SalesStatus != SalesStatus::Invoiced)
        #    {
        #        if (this.returnItem())
        #        {
        #            if (!this.RecId)
        #            {
        #                inventTable.inventItemSalesSetup(this.InventDimId).checkNotStopped(true);
        #                inventTable.inventItemInventSetup(this.InventDimId).checkNotStopped(true);
        #            }
        #        }
        #        else
        #        if (this.ItemId
        #            && this.InventDimId != InventDim::inventDimIdBlank()
        #            && !inventTable.inventItemSalesSetup(this.InventDimId).checkNotStopped(false))
        #        {
        #            ok = false;
        #        }
        #    }
        #
        #    if (this.salesTable().isInterCompanyOrder()
        #        && (!this.ItemId
        #        || inventTable.interCompanyBlockedSales()))
        #    {
        #        ok = checkFailed(strFmt("@SYS74812", this.ItemId));
        #    }
        #
        #    if (this.ItemId)
        #    {
        #        productValidator = EcoResProductValidator::construct(inventTable);
        #        if (!productValidator.isEssentialFieldValuesSet())
        #        {
        #            ok = checkFailed(strFmt("@SYS4000187", productValidator.getErrorFieldList(), this.ItemId));
        #        }
        #    }
        #
        #    // PCs_XAP_2916_IssuesAboutToolHandlingOnSegmen
        #    ok = this.validateToolItemId() && ok;
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkItemPBAId
        #public boolean  checkItemPBAId()
        #{
        #    boolean  ok = true;
        #
        #    if ( new DictConfigurationKey( configurationKeyNum( PBA_ProductBuilder ) ).enabled() )
        #    {
        #        if ( InventTable::find( this.ItemId ).pbaItemConfigurable == NoYes::Yes )
        #        {
        #            if ( ! PBAVersion::existsVersion(this.ItemId,this.ItemPBAId) )
        #            {
        #                ok = checkFailed(strFmt("@SYS41402",this.ItemPBAId, this.ItemId));
        #            }
        #        }
        #    }
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkMaximumRetailPrice_IN
        #/// <summary>
        #/// This method is used to check the Maximum retail price.
        #/// </summary>
        #/// <param name="_maximumRetailPrice">
        #/// A maximum retail price.
        #/// </param>
        #/// <returns>
        #/// Returns true if maximum return price is greater than zero.
        #/// </returns>
        #// <GIN>
        #public boolean  checkMaximumRetailPrice_IN(MaximumRetailPrice_IN  _maximumRetailPrice = this.salesLine_IN().MaximumRetailPrice_IN)
        #{
        #    return this.salesLineView_IN().SalesPurchJournalLine_IN::checkMaximumRetailPrice(_maximumRetailPrice);
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #checkOverDelivery
        #public boolean  checkOverDelivery()
        #{
        #    boolean  ok = true;
        #
        #    if (this.OverDeliveryPct < 0)
        #    {
        #        ok = checkFailed("@SYS26776");
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkOWMPricing
        #//PCs_XAP_312_CreatePOForOWM
        #public boolean checkOWMPricing()
        #{
        #    boolean ret;
        #
        #    ret = (!this.FreezePrice && this.priceBasedOnActPurch());
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkPostingProfile_RU
        #boolean checkPostingProfile_RU()
        #{
        #    boolean                         ok = true;
        #    InventProfileCustVendLedger_RU  inventProfileCustVendLedger;
        #    Set                             inventProfileTypeSet = new Set(Types::Enum);
        #
        #    if (this.PostingProfile_RU                                  &&
        #        this.PostingProfile_RU != this.orig().PostingProfile_RU &&
        #        this.inventDim().InventProfileId_RU)
        #    {
        #        //BP deviation documented
        #        while select inventProfileCustVendLedger
        #            order by InventProfileTypeAll asc
        #            where inventProfileCustVendLedger.CustPostingProfile == this.PostingProfile_RU
        #        {
        #            switch(inventProfileCustVendLedger.InventProfileTypeAll)
        #            {
        #                case InventProfileTypeAll_RU::Profile:
        #                    inventProfileTypeSet.add(InventProfile_RU::find(inventProfileCustVendLedger.InventProfileId).InventProfileType);
        #                    break;
        #
        #                case InventProfileTypeAll_RU::Type:
        #                    inventProfileTypeSet.add(inventProfileCustVendLedger.InventProfileType);
        #                    break;
        #            }
        #        }
        #
        #        if (! inventProfileTypeSet.in(this.inventDim().inventProfile_RU().InventProfileType))
        #        {
        #            ok = checkFailed("@GLS113766");
        #        }
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkPriceDate
        #/// <summary>
        #/// Triggers a price recalculation after a date change according to the price date type setting.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID of the <c>SalesLine</c> table field that changed.
        #/// </param>
        #/// <remarks>
        #/// The price date type can be set to today, requested shipping date, or requested receipt date.
        #/// </remarks>
        #public void checkPriceDate(FieldId _fieldId)
        #{
        #    SalesParameters salesParameters = SalesParameters::find();
        #    boolean         resetPrice = false;
        #
        #    switch (salesParameters.PriceDateType)
        #    {
        #        case SalesPriceDateType::ReceiptDateRequested   :
        #        case SalesPriceDateType::ShippingDateRequested  :
        #             resetPrice = (_fieldId == fieldNum(SalesLine, ReceiptDateRequested))
        #                          || (((_fieldId == fieldNum(SalesLine, ShippingDateRequested)) && !this.isLinkedToAgreement()));
        #            break;
        #    }
        #
        #    if (resetPrice)
        #    {
        #        SalesLine::modifySalesQty(this, this.inventDim());
        #    }
        #}
      ENDSOURCE
      SOURCE #checkProjCategory
        #public boolean checkProjCategory()
        #{
        #    ProjCategory    projCategory;
        #    boolean         ok = true;
        #
        #    if (this.ProjCategoryId)
        #    {
        #        projCategory = ProjCategory::find(this.ProjCategoryId);
        #
        #        if (projCategory.CategoryType != ProjCategoryType::Item)
        #        {
        #            ok  = checkFailed(strFmt("@SYS56468",ProjCategoryType::Item));
        #        }
        #
        #        ok = ok && projCategory.validateIfInactiveAllowed();
        #    }
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkPSPrecondition
        #/// <summary>
        #/// Checks whether the PS prime product item requirement has an invoiced purchase order
        #/// </summary>
        #/// <returns>
        #/// If has, returns true, else false
        #/// </returns>
        #// <NAXT>
        #public boolean checkPSPrecondition()
        #{
        #    boolean             ret;
        #    /* <NAXT>
        #    InventTrans         inventTrans;
        #    InventTransOrigin   inventTransOriginSales;
        #    </NAXT> */
        #
        #    if ((this.SalesType == SalesType::ItemReq) && (ProjTable::isPowerSystem(this.ProjId))
        #     &&  (InventTable::getPowerSystemModel(this.ItemId)))
        #    {
        #        if (!this.InventTransIdReturn)
        #        {
        #            /* <NAXT>
        #            select firstonly RecId from inventTrans
        #                where inventTrans.StatusReceipt                         == StatusReceipt::Purchased
        #                exists join inventTransOriginSales
        #                    where inventTransOriginSales.RecId                  == inventTrans.MarkingRefInventTransOrigin
        #                      &&  inventTransOriginSales.InventTransId          == this.InventTransId;
        #            </NAXT> */
        #            // <NAXT CU3>
        #            return InventSum::find(this.ItemId, this.inventDimId).PostedQty ? true : false;
        #            // <NAXT CU3>
        #
        #            /* <NAXT>
        #            if (inventTrans.RecId)
        #            {
        #                ret = true;
        #            }
        #            else
        #            {
        #                ret = false;
        #            }
        #            </NAXT> */
        #        }
        #        else
        #        {
        #            ret =  true;
        #        }
        #    }
        #    else
        #    {
        #        ret =  true;
        #    }
        #
        #    return ret;
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #checkRateContractId
        #// <GGH>
        #public boolean checkRateContractId()
        #{
        #    if (ExchangeRateType::find(this.orig().ExchangeRateType).RateFillLogic == GGH_RateFillLogic::Contract
        #    && this.orig().ExchangeRateType != this.ExchangeRateType
        #    && this.RateContractId)
        #    {
        #        return checkFailed("@GGH1175");
        #    }
        #    return true;
        #}
        #// </GGH>
      ENDSOURCE
      SOURCE #checkReqActivity
        #public boolean checkReqActivity()
        #{
        #    RequireActivity             requireActivity;
        #    boolean                     ret = true;
        #
        #     requireActivity = ProjTable::checkRequireActivity(this.ProjId,tableNum(ProjItemTrans));
        #    if (requireActivity && (!this.ActivityNumber))
        #    {
        #        ret = false;
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkReservation
        #public boolean checkReservation()
        #{
        #    InventMovement  movement;
        #    InventQty       reserveNow;
        #    InventOnHandQty inventOnHandQty;
        #    SalesLine       salesLine;
        #    InventMovement  orig_movement;
        #    PdsCWInventQty  cwReserveNow;
        #
        #    movement = InventMovement::construct(this);
        #    if (movement.mustBeAutoReserved() || movement.transIdSum().onOrder())
        #    {
        #        orig_movement = InventMovement::construct(salesLine);
        #
        #        if (movement.pdsCWItem())
        #        {
        #            cwReserveNow = movement.pdsCWAutoReserveQty(orig_movement);
        #        }
        #        reserveNow = movement.autoReserveQty(orig_movement);  // NULl
        #
        #        if (reserveNow > 0)
        #        {
        #            infolog.emptyTmpInfolog();
        #            infolog.viewUpdate();
        #
        #            setPrefix(strFmt("@SYS24300",this.ItemId));
        #            inventOnHandQty = InventOnHandQty::newEstimatedUpdate(movement,movement.inventdim());
        #            return inventOnHandQty.checkReservation(-reserveNow,NoYes::No,InventParameters::find().ReserveOnOrdered,0,-cwReserveNow);
        #        }
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkReservationField
        #public boolean checkReservationField()
        #{
        #    boolean  ok = true;
        #
        #    if (this.InventRefTransId
        #    &&  this.Reservation == ItemReservation::Explosion)
        #    {
        #        ok = checkFailed("@SYS105404");
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkSalesCategory
        #/// <summary>
        #/// Check that the sales category field is filled correctly.
        #/// </summary>
        #/// <returns>
        #/// true if the sales category field is filled correctly; otherwise, false.
        #/// </returns>
        #public boolean checkSalesCategory()
        #{
        #    // Check that the hierarchy matches the module
        #    return !this.SalesCategory
        #        || EcoResCategory::checkCategoryRole(this.SalesCategory, EcoResCategoryNamedHierarchyRole::Sales);
        #}
      ENDSOURCE
      SOURCE #checkSalesType
        #public boolean  checkSalesType()
        #{
        #    if (this.salesTable().SalesType != this.SalesType)
        #    {
        #        return checkFailed("@SYS17570");
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkSalesUnit
        #public boolean checkSalesUnit()
        #{
        #    boolean  ok = true;
        #
        #    if (!UnitOfMeasureConverter::canBeConverted(
        #            UnitOfMeasure::unitOfMeasureIdBySymbol(InventTable::find(this.ItemId).inventUnitId()),
        #            UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #            InventTable::itemProduct(this.ItemId)))
        #    {
        #        ok = checkFailed(strFmt("@SYS28690", InventTable::find(this.ItemId).inventUnitId(), this.SalesUnit));
        #    }
        #    if (this.RecId
        #        && this.SalesUnit != this.orig().SalesUnit
        #        && this.orig().SalesQty  != this.RemainSalesPhysical)
        #    {
        #        ok = checkFailed(strFmt("@SYS81897", this.ItemId));
        #    }
        #
        #    if (this.RecId &&
        #        this.SalesUnit != this.orig().SalesUnit &&
        #        (this.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries ||
        #         this.LineDeliveryType == LineDeliveryType::DeliveryLine))
        #    {
        #        // Unit cannot be changed on a Delivery Schedule.
        #        ok = checkFailed("@SYS131415");
        #    }
        #
        #    if (ok)
        #    {
        #        ok = this.type().checkSalesUnit();
        #    }
        #
        #    if (ok
        #        &&  this.SalesUnit != this.orig().SalesUnit)
        #    {
        #        ok = !this.interCompanyIsBeingUpdated();
        #    }
        #
        #    if (ok)
        #    {
        #        ok = this.runPriceDiscPolicyDialog();
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkStatusChange
        #/// <summary>
        #/// Determines whether the status of an order line can be changed.
        #/// </summary>
        #/// <param name="origSalesLine">
        #/// A buffer of the <c>SalesLine</c> table, optional.
        #/// </param>
        #/// <returns>
        #/// true if the status of an order line can be changed; otherwise, false.
        #/// </returns>
        #public boolean checkStatusChange(
        #SalesLine origSalesLine = SalesLine::findRecId(this.RecId)
        #)
        #{
        #    boolean ok = true;
        #
        #    if (origSalesLine.RecId
        #        && this.SalesStatus              == SalesStatus::Backorder
        #        && (origSalesLine.SalesStatus    == SalesStatus::Invoiced
        #        ||  origSalesLine.SalesStatus    == SalesStatus::Canceled)
        #        && origSalesLine.isStocked() != this.inventTable().isStocked())
        #    {
        #        ok = checkFailed(strFmt("@SYS324424", fieldPName(InventModelGroup, StockedProduct)));
        #    }
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkStockedProduct
        #/// <summary>
        #/// Checks that the <c>StockedProduct</c> field is not set for category based lines.
        #/// </summary>
        #/// <returns>
        #/// true if the <c>StockedProduct</c> field is set to a valid value; otherwise, false.
        #/// </returns>
        #public boolean  checkStockedProduct()
        #{
        #    boolean  ok = true;
        #
        #    if (this.isStocked() && this.isCategoryBased())
        #    {
        #        ok = checkFailed("@SYS134348");
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkTaxItemGroup
        #public boolean  checkTaxItemGroup()
        #{
        #    if (this.TaxItemGroup   && ! TaxItemGroupHeading::exist(this.TaxItemGroup))
        #    {
        #        return checkFailed(strFmt("@SYS21973", this.TaxItemGroup));
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkUnderDelivery
        #public boolean  checkUnderDelivery()
        #{
        #    boolean  ok = true;
        #
        #    if (this.UnderDeliveryPct > 100)
        #    {
        #        ok = checkFailed("@SYS26778");
        #    }
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkUpdatePhysical
        #public boolean checkUpdatePhysical()
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkUpdatePicked
        #public boolean checkUpdatePicked()
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #clearAddressReference
        #public void clearAddressReference()
        #{
        #    this.AddressRefRecId    = 0;
        #    this.AddressRefTableId  = 0;
        #}
      ENDSOURCE
      SOURCE #clearAllPriceDiscChangePolicies
        #/// <summary>
        #/// Removes the price discount change policies for a sales line that have been previously set.
        #/// </summary>
        #/// <remarks>
        #/// This method removes policies from both the manual and system groups.
        #/// </remarks>
        #public void clearAllPriceDiscChangePolicies()
        #{
        #    SalesLineType salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.clearAllPriceDiscChangePolicies();
        #}
      ENDSOURCE
      SOURCE #clearInventReference
        #/// <summary>
        #/// Clears the inventory reference fields on the <c>SalesLine</c> record.
        #/// </summary>
        #public void clearInventReference()
        #{
        #    this.InventRefTransId  = '';
        #    this.InventRefId       = '';
        #    this.InventRefType     = InventRefType::None;
        #}
      ENDSOURCE
      SOURCE #companyInfo
        #/// <summary>
        #/// Retrieves the <c>CompanyInfo</c> record associated with the current record.
        #/// </summary>
        #/// <returns>
        #/// The <c>CompanyInfo</c> record.
        #/// </returns>
        #public CompanyInfo companyInfo()
        #{
        #    return CompanyInfo::findDataArea(this.company());
        #}
      ENDSOURCE
      SOURCE #configId
        #// PBa
        #public display EcoResItemConfigurationName configId()
        #{
        #    return this.inventDim().ConfigId;
        #}
      ENDSOURCE
      SOURCE #configIdChanged
        #server void  configIdChanged()
        #{
        #    this.initFromInventTable(this.inventTable());
        #}
      ENDSOURCE
      SOURCE #convertCurrencyCode
        #// <GEERU>
        #server void convertCurrencyCode(CurrencyCode           _currencyCode,
        #                                TradeCurencyConversion _tradeCurencyConversion = TradeCurencyConversion::ExchRate,
        #                                TransDate              _exchRateDate          = systemDateGet(),
        #                                boolean                _useFixedExchRate      = false,
        #                                CustExchRate           _fixedExchRate         = 0)
        #// </GEERU>
        #{
        #    MarkupTrans     markupTrans;
        #    AgreementLine   linkedAgreementLine;
        #
        #    // <GIN>
        #    SalesLine_IN    salesLine_IN;
        #    // </GIN>
        #
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #    // </GEERU>
        #
        #
        #    ttsbegin;
        #
        #    while select forupdate markupTrans
        #          index hint TableRecIdIdx
        #          where markupTrans.TransTableId  == this.TableId
        #          &&    markupTrans.TransRecId    == this.RecId
        #          &&    !markupTrans.IsDeleted
        #    {
        #        // <GEERU>
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #        {
        #            markupTrans.convertCurrencyCode(_currencyCode, _exchRateDate, _useFixedExchRate, _fixedExchRate);
        #        }
        #        else
        #        {
        #        // </GEERU>
        #            markupTrans.convertCurrencyCode(_currencyCode);
        #        // <GEERU>
        #        }
        #        // </GEERU>
        #        markupTrans.doUpdate();
        #    }
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        if (_useFixedExchRate)
        #        {
        #            this.SalesPrice   = Currency::amountCur2MST(this.SalesPrice,  this.CurrencyCode, _fixedExchRate, _exchRateDate);
        #            this.LineDisc     = Currency::amountCur2MST(this.LineDisc,    this.CurrencyCode, _fixedExchRate, _exchRateDate);
        #            this.MultiLnDisc  = Currency::amountCur2MST(this.MultiLnDisc, this.CurrencyCode, _fixedExchRate, _exchRateDate);
        #            this.SalesMarkup  = Currency::amountCur2MST(this.SalesMarkup, this.CurrencyCode, _fixedExchRate, _exchRateDate);
        #        }
        #        else
        #        {
        #            this.SalesPrice   = Currency::curAmount2CurAmount(this.SalesPrice,   this.CurrencyCode, _currencyCode, _exchRateDate);
        #            this.LineDisc     = Currency::curAmount2CurAmount(this.LineDisc,     this.CurrencyCode, _currencyCode, _exchRateDate);
        #            this.MultiLnDisc  = Currency::curAmount2CurAmount(this.MultiLnDisc,  this.CurrencyCode, _currencyCode, _exchRateDate);
        #            this.SalesMarkup  = Currency::curAmount2CurAmount(this.SalesMarkup,  this.CurrencyCode, _currencyCode, _exchRateDate);
        #        }
        #    }
        #    else
        #    {
        #    // </GEERU>
        #        this.SalesPrice   = Currency::curPrice2CurPrice(this.SalesPrice, this.CurrencyCode, _currencyCode);
        #        this.LineDisc     = Currency::curPrice2CurPrice(this.LineDisc, this.CurrencyCode, _currencyCode);
        #        this.MultiLnDisc  = Currency::curPrice2CurPrice(this.MultiLnDisc, this.CurrencyCode, _currencyCode);
        #        this.SalesMarkup  = Currency::curPrice2CurPrice(this.SalesMarkup, this.CurrencyCode, _currencyCode);
        #    // <GEERU>
        #    }
        #    // </GEERU>
        #
        #    if (this.LineDeliveryType != LineDeliveryType::OrderLineWithMultipleDeliveries)
        #    {
        #        // <GEERU>
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #        {
        #            if (_useFixedExchRate)
        #            {
        #                this.LineAmount = Currency::amountCur2MST(this.LineAmount, this.CurrencyCode, _fixedExchRate, _exchRateDate);
        #            }
        #            else
        #            {
        #                this.LineAmount = Currency::curAmount2CurAmount(this.LineAmount, this.CurrencyCode, _currencyCode, _exchRateDate);
        #            }
        #        }
        #        else
        #        {
        #        // </GEERU>
        #            this.LineAmount = Currency::curAmount2CurAmount(this.LineAmount, this.CurrencyCode, _currencyCode);
        #        // <GEERU>
        #        }
        #        // </GEERU>
        #    }
        #    // <GIN>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN])
        #        && TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_IN = this.salesLine_IN();
        #        salesLine_IN.convertCurrencyCode(_currencyCode, this);
        #        this.packSalesLine_IN(salesLine_IN);
        #    }
        #    // </GIN>
        #    this.CurrencyCode = _currencyCode;
        #    //<GGH>
        #    if (this.CurrencyCode != this.orig().CurrencyCode||
        #        this.ExchangeRateType != this.orig().ExchangeRateType ||
        #        this.RateContractId != this.orig().RateContractId)
        #    {
        #        this.setRate();
        #    }
        #    //<GGH>
        #
        #    switch(_tradeCurencyConversion)
        #    {
        #        case TradeCurencyConversion::ExchRate:
        #            break;
        #        case TradeCurencyConversion::TradeAgreements:
        #
        #            if (this.LineDeliveryType == LineDeliveryType::DeliveryLine)
        #            {
        #                this.LineAmount = this.calcLineAmountForced();
        #            }
        #            else
        #            {
        #                this.SalesPurchLine::resetPriceAgreement();
        #                this.setPriceDisc(this.inventDim());
        #            }
        #            break;
        #    }
        #    this.LineAmount = this.calcLineAmount();
        #
        #    if (   this.LineDeliveryType != LineDeliveryType::DeliveryLine
        #        && this.MatchingAgreementLine)
        #    {
        #        // Agreement line should NOT be un-linked if it is Quantity-based AND has IsPriceInformationMandatory set to false!
        #        linkedAgreementLine = AgreementLine::find(this.MatchingAgreementLine, false);
        #
        #        if (   linkedAgreementLine.RecId
        #            && ( (linkedAgreementLine.isQuantityBased() == false) || linkedAgreementLine.IsPriceInformationMandatory))
        #        {
        #            this.unLinkAgreementLine();
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #convertToDeliverySchedule
        #/// <summary>
        #/// Converts an order line into a delivery schedule with a single delivery line.
        #/// </summary>
        #/// <returns>
        #/// The order line of the newly created delivery schedule.
        #/// </returns>
        #/// <remarks>
        #/// The order line on which the conversion is called becomes the first delivery line. Markup is
        #/// duplicated to the order line of the delivery schedule.
        #/// </remarks>
        #/// <exception cref="M:Exception::Error">
        #/// Only order lines without delivery lines can be converted to a delivery schedule.
        #/// </exception>
        #public SalesLine convertToDeliverySchedule()
        #{
        #    #OCCRetryCount
        #    SalesLine               localSalesLine;
        #    SalesDeliverySchedule   salesDeliverySchedule;
        #    LineNum                 lastLineNumBeforeSchedule;
        #
        #    // <GEEPL>
        #    #ISOCountryRegionCodes
        #    // </GEEPL>
        #
        #    if (this.LineDeliveryType != LineDeliveryType::OrderLine)
        #    {
        #        // Only order lines without delivery lines can be converted to a delivery schedule.
        #        throw error("@SYS131414");
        #    }
        #
        #    try
        #    {
        #        ttsbegin;
        #
        #        localSalesLine.initFromSalesTable(this.salesTable());
        #        localSalesLine.initFromSalesLine(this, true, true, true);
        #
        #        localSalesLine.LineDeliveryType         = LineDeliveryType::OrderLineWithMultipleDeliveries;
        #        localSalesLine.LineAmount               = 0;
        #        localSalesLine.RemainSalesPhysical      = 0;
        #        localSalesLine.RemainSalesFinancial     = 0;
        #        localSalesLine.RemainInventPhysical     = 0;
        #        localSalesLine.RemainInventFinancial    = 0;
        #
        #        localSalesLine.PdsCWRemainInventFinancial = 0;
        #        localSalesLine.PdsCWRemainInventPhysical  = 0;
        #
        #        localSalesLine.DeliveryDateControlType  = this.DeliveryDateControlType;
        #        localSalesLine.ReceiptDateRequested     = this.ReceiptDateRequested;
        #        localSalesLine.ShippingDateRequested    = this.ShippingDateRequested;
        #        localSalesLine.ShippingDateConfirmed    = this.ShippingDateConfirmed;
        #        localSalesLine.ReceiptDateConfirmed     = this.ReceiptDateConfirmed;
        #        localSalesLine.ConfirmedDlv             = this.ConfirmedDlv;
        #
        #        lastLineNumBeforeSchedule               = (select maxof(LineNum) from salesLine
        #                                                    where salesLine.SalesId == this.SalesId
        #                                                       && salesLine.LineNum <  this.LineNum).LineNum;
        #
        #        localSalesLine.LineNum                  = lastLineNumBeforeSchedule ? (this.LineNum + lastLineNumBeforeSchedule) / 2 : this.LineNum - 1;
        #
        #        localSalesLine.ManualEntryChangepolicy = this.ManualEntryChangepolicy;
        #        localSalesLine.SystemEntryChangePolicy = this.SystemEntryChangePolicy;
        #
        #        // copying Agreement reference to the order line with multiple deliveries
        #        localSalesLine.MatchingAgreementLine =  this.MatchingAgreementLine;
        #
        #        localSalesLine.insert(true, false, null, true);
        #
        #        // <GEEPL>
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #        {
        #            TaxServiceTariff::insertTaxServiceTariffForNewParent(this.TableId, this.RecId, localSalesLine.TableId, localSalesLine.RecId);
        #        }
        #        // </GEEPL>
        #
        #        Markup::copy(NoYes::No, this, localSalesLine);
        #
        #
        #        // create the DeliverySchedule relation
        #        salesDeliverySchedule.OrderLine = localSalesLine.InventTransId;
        #        salesDeliverySchedule.DeliveryLine = this.InventTransId;
        #        salesDeliverySchedule.insert();
        #
        #        this.LineDeliveryType = LineDeliveryType::DeliveryLine;
        #        this.ManualEntryChangepolicy = 0;
        #        this.SystemEntryChangePolicy = 0;
        #        this.update(false, null, false);
        #
        #        ttscommit;
        #    }
        #    catch (Exception::Deadlock)
        #    {
        #        retry;
        #    }
        #    catch (Exception::UpdateConflict)
        #    {
        #        if (appl.ttsLevel() == 0)
        #        {
        #            if (xSession::currentRetryCount() >= #RetryNum)
        #            {
        #                throw Exception::UpdateConflictNotRecovered;
        #            }
        #            else
        #            {
        #                retry;
        #            }
        #        }
        #        else
        #        {
        #            throw Exception::UpdateConflict;
        #        }
        #    }
        #    catch (Exception::Error)
        #    {
        #        ttsabort;
        #        throw error("@SYS93835");
        #    }
        #
        #    return localSalesLine;
        #}
      ENDSOURCE
      SOURCE #copyDimension
        #/// <summary>
        #/// Copies a dimension set that can be applied to the <c>defaultDimension</c> field on this table.
        #/// </summary>
        #/// <param name="_defaultDimension">
        #/// A dimension set that can be applied to the <c>defaultDimension</c> field on this table.
        #/// </param>
        #/// <param name="_dimensionCopy">
        #/// A <c>dimensionCopy</c> object that was created by using the current buffer; optional.
        #/// </param>
        #/// <returns>
        #/// A dimension set that can be applied to the <c>defaultDimension</c> field on the <c>SalesLine</c>
        #/// table.
        #/// </returns>
        #/// <remarks>
        #/// This method makes sure that potential linked dimensions are not overwritten.
        #/// </remarks>
        #
        #public DimensionDefault copyDimension(
        #    DimensionDefault _defaultDimension,
        #    DimensionCopy    _dimensionCopy = DimensionCopy::newFromTable(this,
        #                                                                  this.companyInfo().RecId
        #                                                                  )
        #    )
        #{
        #    return _dimensionCopy.copy(_defaultDimension);
        #}
      ENDSOURCE
      SOURCE #copyDocuRefFromTable
        #//BIZ_01965_T6B7Q - 13/03/2020 - FUS
        #public void copyDocuRefFromTable(Common _fromRecord)
        #{
        #    DocuRef     docuRef,docuRefNew;
        #    ;
        #
        #    while select forUpdate * from docuRef where //(docuRef.Restriction == DocuRestriction::External) &&
        #                                                (docuRef.RefTableId == _fromRecord.TableId) &&
        #                                                (docuRef.RefRecId == _fromRecord.RecId)
        #    {
        #
        #        docuRefNew = docuRef;
        #        docuRefNew.RefCompanyId = this.dataAreaId;
        #        docuRefNew.RefTableId = this.TableId;
        #        docuRefNew.RefRecId = this.RecId;
        #        docuRefNew.insert();
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #copyShipCarrierInformation
        #public void copyShipCarrierInformation(SalesLine _salesLine)
        #{
        #    DlvMode     dlvMode = DlvMode::find(_salesLine.DlvMode);
        #
        #    this.ShipCarrierId          = dlvMode.ShipCarrierId;
        #    this.ShipCarrierAccountCode = dlvMode.ShipCarrierAccountCode;
        #    this.ShipCarrierDlvType     = dlvMode.ShipCarrierDlvType;
        #    this.ShipCarrierAccount     = _salesLine.ShipCarrierAccount;
        #}
      ENDSOURCE
      SOURCE #createAlternativeItem
        #/// <summary>
        #/// Replaces the current item with an alternative item if an alternative item has been set up.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// A buffer of the <c>InventDim</c> table.
        #/// </param>
        #/// <param name="_newlyCreatedSalesLine">
        #/// A buffer of the <c>SalesLine</c> table.
        #/// </param>
        #/// <returns>
        #/// false if the current item has a alternative item setup; otherwise, true.
        #/// </returns>
        #/// <remarks>
        #/// The user will be prompted for permission to use the alternative item.
        #/// </remarks>
        #public boolean createAlternativeItem(InventDim _inventDim, SalesLine _newlyCreatedSalesLine)
        #{
        #    SalesAlternativeItem    salesAlternativeItem;
        #    boolean                 ret;
        #    SalesQty                salesQty;
        #    ReturnExpectedRetQty    returnExpectedRetQty;
        #
        #    salesAlternativeItem = SalesAlternativeItem::newAlternativeItem(this);
        #    salesAlternativeItem.parmInventDim(_inventDim);
        #
        #    if (salesAlternativeItem.existAlternativeItem())
        #    {
        #        ret = true;
        #
        #        if (Box::okCancel(strFmt("@SYS63055", salesAlternativeItem.alternativeItemId(),
        #                                              salesAlternativeItem.alternativeProductDimensionPrefix()), DialogButton::Ok) == DialogButton::Ok)
        #        {
        #            salesQty                    = this.SalesQty;
        #            returnExpectedRetQty        = this.ExpectedRetQty;
        #
        #            this.data(_newlyCreatedSalesLine);
        #            this.setAlternativeItem(salesAlternativeItem);
        #
        #            this.SalesQty         = salesQty;
        #            this.ExpectedRetQty   = returnExpectedRetQty;
        #
        #            SalesLine::modifySalesQty(this,_inventDim);
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #createFromSalesQuotationLine
        #server public void createFromSalesQuotationLine(SalesQuotationLine _salesQuotationLine, smmActivityNumber _activityNumber = '')
        #{
        #    SalesTable              salesTable;
        #    ProjTable               projTable;
        #    InventTableModule       inventTableModule = InventTableModule::find(_salesQuotationLine.ItemId, ModuleInventPurchSales::Sales);
        #    InventDim               inventDim = InventDim::find(_salesQuotationLine.InventDimId);
        #    // <GIN>
        #    #ISOCountryRegionCodes
        #    SalesLine_IN                salesLine_IN;
        #    TaxModelDocLineExtensionIN  taxModelDocLineExtensionIN;
        #    // </GIN>
        #
        #    projTable = ProjTable::find(_salesQuotationLine.projId());
        #
        #    if (projTable && !ProjStatusType::construct(projTable).validateWriteItemRequirement())
        #    {
        #        throw error("@SYS18447");
        #    }
        #
        #    salesTable = _salesQuotationLine.salesQuotationTable().salesTable_ItemReq();
        #    if (!salesTable)
        #    {
        #        salesTable = projTable.createSalesTable_ItemReqFromSQ(_salesQuotationLine);
        #    }
        #
        #    this.clear();
        #
        #    this.initValue();
        #
        #    this.SalesId = salesTable.SalesId;
        #    this.SalesType = salesTable.SalesType;
        #    this.Reservation = salesTable.Reservation;
        #    this.CurrencyCode = _salesQuotationLine.CurrencyCode;
        #
        #    this.ProjId = salesTable.ProjId;
        #    this.ItemId = _salesQuotationLine.ItemId;
        #    if (this.ItemId)
        #    {
        #        this.SalesCategory = EcoResProductCategory::findByItemIdCategoryHierarchyRole(
        #                                            this.ItemId,
        #                                            EcoResCategoryNamedHierarchyRole::Sales).Category;
        #    }
        #    else
        #    {
        #        this.SalesCategory = _salesQuotationLine.SalesCategory;
        #    }
        #    this.setStockedProduct();
        #
        #    this.ProjCategoryId = _salesQuotationLine.ProjCategoryId;
        #    this.ProjLinePropertyId = _salesQuotationLine.LinePropertyId;
        #
        #    //Sales Group
        #    this.SalesGroup        = _salesQuotationLine.SalesGroup;
        #
        #    this.CustomerRef = salesTable.CustomerRef;
        #    this.PurchorderFormNum = salesTable.PurchOrderFormNum;
        #    this.CustAccount = salesTable.CustAccount;
        #    this.CustGroup = salesTable.CustGroup;
        #
        #//General
        #
        #    //Sales tax
        #    this.TaxItemGroup = _salesQuotationLine.TaxItemGroup;
        #    this.TaxGroup = _salesQuotationLine.TaxGroup;
        #
        #//Setup
        #
        #    //Delivery
        #    this.SalesUnit = inventTableModule.UnitId;
        #    this.OverDeliveryPct = _salesQuotationLine.OverDeliveryPct;
        #    this.UnderDeliveryPct = _salesQuotationLine.UnderDeliveryPct;
        #    this.ReceiptDateRequested = _salesQuotationLine.ReceiptDateRequested;
        #    this.ShippingDateRequested = _salesQuotationLine.ShippingDateRequested;
        #    this.ShippingDateConfirmed = salesTable.ShippingDateConfirmed;
        #    this.ReceiptDateConfirmed  = salesTable.ReceiptDateConfirmed;
        #    this.DeliveryDateControlType = _salesQuotationLine.DeliveryDateControlType;
        #    this.DlvMode = _salesQuotationLine.DlvMode;
        #
        #    //RFID tagging
        #    this.ItemTagging = _salesQuotationLine.ItemTagging;
        #    this.CaseTagging = _salesQuotationLine.CaseTagging;
        #    this.PalletTagging = _salesQuotationLine.PalletTagging;
        #
        #//Address
        #
        #    //Delivery address
        #    this.DeliveryName = _salesQuotationLine.DeliveryName;
        #    this.DeliveryPostalAddress = _salesQuotationLine.DeliveryPostalAddress;
        #
        #    this.AddressRefRecId = _salesQuotationLine.AddressRefRecId;
        #    this.AddressRefTableId = _salesQuotationLine.AddressRefTableId;
        #
        #//Price/Discount
        #
        #    //Discount
        #
        #    //Project - quantity
        #    this.SalesQty = _salesQuotationLine.SalesQty;
        #    this.QtyOrdered = this.calcQtyOrdered();
        #    this.PriceUnit = _salesQuotationLine.PriceUnit;
        #
        #    //Project - sales amount
        #    this.SalesPrice  = _salesQuotationLine.SalesPrice;
        #    this.SalesMarkup = _salesQuotationLine.SalesMarkup;
        #    this.LineAmount  = _salesQuotationLine.LineAmount;
        #
        #//Other
        #
        #    //Item
        #    this.Name = _salesQuotationLine.Name;
        #    this.ExternalItemId = _salesQuotationLine.ExternalItemId;
        #
        #    //Project dates
        #    this.ConfirmedDlv = _salesQuotationLine.ConfirmedDlv;
        #
        #    //Bar code
        #    this.BarCode     = _salesQuotationLine.BarCode;
        #    this.BarCodeType = _salesQuotationLine.BarCodeType;
        #
        #    //BOM/route
        #    this.ItemBOMId = _salesQuotationLine.ItemBOMId;
        #    this.ItemRouteId = _salesQuotationLine.ItemRouteId;
        #    this.ItemPBAId = _salesQuotationLine.ItemPBAId;
        #
        #    //Foreign trade
        #    this.TransactionCode = _salesQuotationLine.TransactionCode;
        #    this.Transport = _salesQuotationLine.Transport;
        #    this.Port = _salesQuotationLine.Port;
        #    this.StatProcId = _salesQuotationLine.StatProcId;
        #    this.CountyOrigDest         = _salesQuotationLine.CountyOrigDest;
        #    this.StatTriangularDeal     = _salesQuotationLine.StatTriangularDeal;
        #
        #
        #//Dimension
        #
        #    //Inventory dimensions
        #    this.setInventDimId(_salesQuotationLine.InventDimId, inventDim);
        #
        #    //Project - cost amount
        #    this.calculateCostPrice(inventDim);
        #
        #    this.calcPackingUnit(inventDim);
        #    this.calcPackingUnitQty(inventDim);
        #
        #    //Dimensions
        #    this.DefaultDimension = this.copyDimension(_salesQuotationLine.DefaultDimension);
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(Project3)))
        #    {
        #        this.ActivityNumber = _activityNumber;
        #    }
        #
        #    // <GIN>
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_IN = this.salesLine_IN();
        #        salesLine_IN.AssessableValue_IN             = _salesQuotationLine.AssessableValue_IN;
        #        salesLine_IN.CompanyLocation_IN             = _salesQuotationLine.CompanyLocation_IN;
        #        salesLine_IN.Consignment_IN                 = _salesQuotationLine.Consignment_IN;
        #        salesLine_IN.DirectSettlement_IN            = _salesQuotationLine.DirectSettlement_IN;
        #        salesLine_IN.dsa_in                         = _salesQuotationLine.dsa_in;
        #        salesLine_IN.MaximumRetailPrice_IN          = _salesQuotationLine.MaximumRetailPrice_IN;
        #        salesLine_IN.ExciseTariffCodes_IN           = _salesQuotationLine.ExciseTariffCodes_IN;
        #        salesLine_IN.CustomsTariffCodeTable_IN      = _salesQuotationLine.CustomsTariffCodeTable_IN;
        #        salesLine_IN.ServiceCodeTable_IN            = _salesQuotationLine.ServiceCodeTable_IN;
        #        salesLine_IN.ExciseRecordType_IN            = _salesQuotationLine.ExciseRecordType_IN;
        #        salesLine_IN.ExciseType_IN                  = _salesQuotationLine.ExciseType_IN;
        #        salesLine_IN.SalesTaxFormTypes_IN           = _salesQuotationLine.SalesTaxFormTypes_IN;
        #        salesLine_IN.MaximumRetailPrice_IN          = _salesQuotationLine.MaximumRetailPrice_IN;
        #        salesLine_IN.ExportOrder_IN                 = _salesQuotationLine.ExportOrder_IN;
        #        taxModelDocLineExtensionIN                  = TaxModelDocLineExtensionIN::findByBaseTable(_salesQuotationLine.TableId, _salesQuotationLine.RecId);
        #        salesLine_IN.TaxInformation                 = taxModelDocLineExtensionIN.TaxInformation;
        #        this.packSalesLine_IN(salesLine_IN);
        #    }
        #    // </GIN>
        #
        #//Create line
        #
        #    this.createLine(     false,  //  validation
        #                         false,  //  initFromSalesTable
        #                         false,  //  initFromInventTableModule
        #                         true,   //  calcInventQty
        #                         false,  //  searchMarkup
        #                         false,  //  searchPrice
        #                         salesTable.Reservation==ItemReservation::Automatic, //  checkReservation
        #                         true, //  skipCreditLimitCheck
        #                         this.ItemPBAId ? _salesQuotationLine.InventTransId : ''); // used to forward the config info from the "old" inventTransId to the new sales line
        #
        #}
      ENDSOURCE
      SOURCE #createFromTmpFrmVirtual
        #// <GEERU>
        #public void createFromTmpFrmVirtual(
        #    SalesTable           _salesTable,
        #    TmpFrmVirtual        _tmpFrmVirtual,
        #    SMAServiceOrderTable _smaServiceOrderTable = null,
        #    /* <SYS>
        #    InventDimParm        _inventDimParm        = null)
        #    </SYS> */
        #    // <NAXT>
        #    InventDimParm        _inventDimParm        = null,
        #    boolean              _ignoreSalesTableInventDim = true)
        #    // </NAXT>
        #// </GEERU>
        #{
        #    List list = new List(Types::Record);
        #    SalesLineCreateFromTmpFrmVirtualContract contract = SalesLineCreateFromTmpFrmVirtualContract::construct();
        #
        #    contract.parmSalesTable(_salesTable);
        #    contract.parmSMAServiceOrderTable(_smaServiceOrderTable);
        #    contract.parmInventDimParm(_inventDimParm);
        #
        #    // <NAXT>
        #    contract.parmIgnoreSalesTableInventDim(_ignoreSalesTableInventDim);
        #    // </NAXT>
        #
        #    while select _tmpFrmVirtual
        #            where _tmpFrmVirtual.Qty
        #    {
        #        list.addEnd(_tmpFrmVirtual);
        #    }
        #    contract.parmTmpFrmVirtualPacked(list.pack());
        #
        #    SalesLine::createFromTmpFrmVirtualServer(contract.pack());
        #
        #    delete_from _tmpFrmVirtual
        #        where _tmpFrmVirtual.Qty;
        #}
        #
        #
        #
        #
        #
      ENDSOURCE
      SOURCE #createLine
        #server void  createLine(boolean              _validation                  = false,
        #                        boolean              _initFromSalesOrderTable     = false,
        #                        boolean              _initFromItemOrCategory      = false,
        #                        boolean              _calcInventQty               = false,
        #                        boolean              _searchMarkup                = true,
        #                        boolean              _searchPrice                 = false,
        #                        boolean              _checkReservation            = false,
        #                        boolean              _skipCreditLimitCheck        = false,
        #                        InventTransId        _oldInventTransId            = '',
        #                        boolean              _ignoreSalesTableInventDim   = false,
        #                        boolean              _setLineNum                  = true,
        #                        boolean              _searchAgreementLine         = false,
        #                        SMAServiceOrderTable _smaServiceOrderTable        = null
        #                        , AgreementLineRecId   _oldAgreementLineRecId       = 0
        #                        //<NAXT_CU5>
        #                        ,
        #                        boolean                _doReplacement             = true
        #                        //</NAXT_CU5>
        #                        // <GGH>
        #                        ,
        #                        boolean              _ignoreEstQty                = false
        #                        // </GGH>
        #                        )
        #
        #{
        #    SalesTable      salesTable;
        #    InventTable     inventTable;
        #    boolean         dropInvent;
        #    AgreementLine   agreementLine;
        #
        #    // <GEEPL>
        #    #ISOCountryRegionCodes
        #    // </GEEPL>
        #
        #    if (_initFromSalesOrderTable)
        #    {
        #        salesTable = this.salesTable();
        #        this.initFromSalesTable(salesTable, _ignoreSalesTableInventDim);
        #    }
        #
        #    if (_initFromItemOrCategory)
        #    {
        #        if (this.ItemId)
        #        {
        #            inventTable = this.inventTable();
        #
        #            if (!this.checkInitFromInventTable(inventTable))
        #            {
        #                throw error("@SYS18447");
        #            }
        #        }
        #
        #        this.initFromItemOrCategory(this.ItemId, this.SalesCategory, this.Name);
        #    }
        #
        #    if (_calcInventQty)
        #    {
        #        this.QtyOrdered = this.calcQtyOrdered();
        #    }
        #
        #    this.RemainSalesPhysical    = this.SalesQty;
        #    this.RemainSalesFinancial   = 0;
        #    this.RemainInventPhysical   = this.QtyOrdered;
        #
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        this.PdsCWRemainInventFinancial = 0;
        #        this.PdsCWRemainInventPhysical  = this.PdsCWQty;
        #    }
        #
        #    //  If price and discounts weren't set by calling initFromInventTable they're set now.
        #    //  If logic changing the calculation of price and discount after calling initFromInventTable is introduces,
        #    //  this call to setPriceDisc(....) might be needed.
        #    if (_searchPrice && !(_initFromItemOrCategory && this.ItemId))
        #    {
        #        this.setPriceDisc(this.inventDim());
        #    }
        #
        #    if (_checkReservation)
        #    {
        #        this.checkReservation(); // Message to infolog
        #    }
        #
        #    if (_oldAgreementLineRecId)
        #    {
        #        this.MatchingAgreementLine = _oldAgreementLineRecId;
        #    }
        #    else
        #        if (_searchAgreementLine && this.canAgreementBeLinked())
        #    {
        #        if (!salesTable.RecId)
        #        {
        #            salesTable= this.salesTable();
        #        }
        #
        #        if (salesTable.MatchingAgreement)
        #        {
        #            agreementLine = AgreementLine::findLineForAutoMatch(this, salesTable.MatchingAgreement, true);
        #            if (agreementLine)
        #            {
        #                this.initFromAgreementLine(agreementLine);
        #            }
        #        }
        #    }
        #
        #    if (_validation)
        #        if (!this.validateWrite(_skipCreditLimitCheck))
        #        {
        #            throw error("@SYS18447");
        #        }
        #    if (_setLineNum)
        #    {
        #        if (!this.LineNum)
        #        {
        #            this.LineNum = SalesLine::lastLineNum(this.SalesId) + 1.0;
        #        }
        #    }
        #
        #    if (_smaServiceOrderTable)
        #    {
        #        this.initFromSMAServiceOrderTable(_smaServiceOrderTable);
        #    }
        #
        #    //<GGH>
        #    this.OriginalSalesPrice = this.SalesPrice;
        #    this.OriginalLineDisc   = this.LineDisc;
        #    //</GGH>
        #
        #
        #    /*<NAXT>
        #    this.insert(dropInvent, _searchMarkup, null, _skipCreditLimitCheck);
        #    <NAXT>*/
        #
        #    //<NAXT_CU5>
        #    this.insert(dropInvent, _searchMarkup, null, _skipCreditLimitCheck, _doReplacement, false, _ignoreEstQty); //GGH
        #    //</NAXT_CU5>
        #
        #    // <GEEPL>
        #    if (_initFromSalesOrderTable && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #    {
        #        TaxServiceTariff::insertTaxServiceTariffForNewParent(salesTable.TableId, salesTable.RecId, this.TableId, this.RecId);
        #    }
        #    // </GEEPL>
        #
        #
        #    if (_oldInventTransId)
        #    {
        #        PBATableInstance::copyInstance(this.InventTransId,_oldInventTransId);
        #        PBABOMRouteOccurrence::copyOccurrence(this.InventTransId,_oldInventTransId);
        #    }
        #}
      ENDSOURCE
      SOURCE #createMarkupTrans
        #server public void createMarkupTrans(
        #    SalesTable  _salesTable,
        #    boolean _deleteExistingMarkupTrans = true)
        #{
        #    InventTable inventTable;
        #    if (this.markupAllowed(_salesTable))
        #    {
        #        // disable auto-charges for POS orders
        #        if (RetailParameters::isRetailEnabledAndInUse()
        #            && this.salesTable().isRetailSale())
        #        {
        #            return;
        #        }
        #
        #        ttsbegin;
        #        inventTable = this.inventTable();
        #        Markup::insertMarkupTrans(HeadingLine::Linie,
        #                                  MarkupModuleType::Cust,
        #                                  this,
        #                                  _salesTable.CustAccount,
        #                                  _salesTable.MarkupGroup,
        #                                  _salesTable.CurrencyCode,
        #                                  _salesTable.LanguageId,
        #                                  this.ItemId,
        #                                  inventTable.salesMarkupGroup(),
        #                                  (this.LineAmount < 0), // invert sign on creditnotes
        #                                  _deleteExistingMarkupTrans,
        #                                  this.DlvMode,
        #                                  DlvMode::find(this.DlvMode).MarkupGroup
        #                                 );
        #
        #        // Handle delivery charges
        #        Markup::insertMarkupTrans(HeadingLine::Linie,
        #                                    MarkupModuleType::Delivery,
        #                                    this,
        #                                    _salesTable.CustAccount,
        #                                    _salesTable.MarkupGroup,
        #                                    _salesTable.CurrencyCode,
        #                                    _salesTable.LanguageId,
        #                                    this.ItemId,
        #                                    inventTable.salesMarkupGroup(),
        #                                    (this.LineAmount < 0), // invert sign on creditnotes
        #                                    false, //do not delete existing markuptrans since they were already deleted (if needed) in prev. call
        #                                    this.DlvMode,
        #                                    DlvMode::find(this.DlvMode).MarkupGroup
        #                                );
        #
        #        if (this.isInterCompanyOrder())
        #        {
        #            Markup::setMarkupKeepForIntercompany(this);
        #        }
        #
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #createReplacement
        #/// <summary>
        #/// Creates the replacement lines for each entry in the return replacement table that exist for a sales
        #/// or return order line.
        #/// </summary>
        #/// <remarks>
        #/// This method creates a new sales order if a replacement sales order is not specified.
        #/// </remarks>
        #public void createReplacement()
        #{
        #    ReturnReplaceItemRef    replaceItemRef;
        #    SalesTable              replacementOrder;
        #    SalesTable              salesTable, salesTableUpdate;
        #    SalesLine               replacementLine;
        #    SalesAlternativeItem    salesAlternativeItem;
        #
        #    // <GEEPL>
        #    #ISOCountryRegionCodes
        #    // </GEEPL>
        #
        #    salesTable = this.salesTable();
        #    replacementOrder = SalesTable::find(salesTable.ReturnReplacementId);
        #
        #    ttsbegin;
        #    while select forupdate replaceItemRef
        #        where replaceItemRef.OrigSalesId        == this.SalesId
        #            && replaceItemRef.OrigSalesLineNum  == this.LineNum
        #            && replaceItemRef.ReplaceSalesId    == ''
        #    {
        #
        #        if (!replacementOrder)
        #        {
        #            // create a new sales order
        #            replacementOrder = SalesTable::createSalesTable_Replacement(salesTable);
        #            // update original sales order with replacement order Id
        #            salesTableUpdate = SalesTable::find(salesTable.SalesId,true);
        #            salesTableUpdate.ReturnReplacementId = replacementOrder.SalesId;
        #            salesTableUpdate.update();
        #        }
        #
        #        // create replacement lines
        #        replacementLine.clear();
        #        replacementLine.initFromSalesTable(replacementOrder);
        #        replacementLine.ItemId      = replaceItemRef.ItemId;
        #        replacementLine.SalesQty    = replaceItemRef.ReturnReplaceQty;
        #
        #        replacementLine.PdsCWQty    = replaceItemRef.PdsCWReplaceQty;
        #        // <GIN>
        #        if (TaxParameters::find().Excise_IN
        #            || TaxParameters::find().vat_in
        #            || TaxWithholdParameters_IN::checkTaxParameters())
        #        {
        #            replacementLine.populateReplaceLineTaxInfo_IN(replaceItemRef);
        #        }
        #        // </GIN>
        #
        #        replacementLine.setInventDimId(replaceItemRef.InventDimId);
        #
        #        //Check if alternative item setup exist.
        #        salesAlternativeItem = SalesAlternativeItem::newAlternativeItem(replacementLine);
        #        if (salesAlternativeItem.existAlternativeItem())
        #        {
        #            replacementLine.setAlternativeItem(salesAlternativeItem, true);
        #        }
        #
        #        replacementLine.createLine(true,//  validation
        #                         false,         //  initFromSalesTable
        #                         true,          //  initFromInventTableModule
        #                         false,         //  calcInventQty
        #                         true,          //  searchMarkup
        #                         true,          //  searchPrice
        #                         salesTable.Reservation==ItemReservation::Automatic, //  checkReservation
        #                         true           //  skipCreditLimitCheck
        #                         , ''           // _oldInventTransId
        #                         , false        // _ignoreSalesTableInventDim
        #                         , true         // _setLineNum
        #                         , true         // _searchAgreementLine
        #        );
        #
        #        // <GEEPL>
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #        {
        #            TaxServiceTariff::insertTaxServiceTariffForNewParent(replacementOrder.TableId, replacementOrder.RecId, replacementLine.TableId, replacementLine.RecId);
        #        }
        #        // </GEEPL>
        #
        #        replaceItemRef.ReplaceSalesId       = replacementOrder.SalesId;
        #        replaceItemRef.ReplaceSalesLineNum  = replacementLine.LineNum;
        #        replaceItemRef.update();
        #    }
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #createReturnMarkupTrans
        #server public void createReturnMarkupTrans(SalesTable  _salesTable)
        #{
        #    if (this.markupAllowed(_salesTable))
        #    {
        #       Markup::insertReturnMarkupTrans(HeadingLine::Linie,
        #                                       MarkupModuleType::Cust,
        #                                       this,
        #                                       _salesTable.CustAccount,
        #                                       _salesTable.MarkupGroup,
        #                                       _salesTable.LanguageId);   // invert sign on creditnotes
        #    }
        #}
      ENDSOURCE
      SOURCE #createReturnReservationLine
        #public server void createReturnReservationLine()
        #{
        #    SalesLine                   resReturnLine;
        #    InventTransOrigin           inventTransOrigin;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    InventTransOrigin           inventTransOriginReserved;
        #    InventTransOrigin           inventTransOriginQuarantine;
        #    InventTrans                 inventTrans, inventTransReserved;
        #    InventTrans                 inventTransQuarantine, inventTransQuarantineRes;
        #    InventUpd_Reservation       reservation;
        #    InventMovement              movement;
        #
        #    // <GIN>
        #    DispositionAction           dispositionAction;
        #    SalesLine_IN                salesLine_IN;
        #    SalesLine_IN                salesLineINLoc;
        #    TaxParameters               taxParameters;
        #    boolean                     isIndiaEnabled;
        #    boolean                     isIndianTaxEnabled;
        #    boolean                     isWithholdParameterEnabled;
        #    #ISOCountryRegionCodes
        #
        #    isIndiaEnabled = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
        #    if(isIndiaEnabled)
        #    {
        #        taxParameters = TaxParameters::find();
        #        isIndianTaxEnabled = TaxParameters::checkTaxParameters_IN();
        #        isWithholdParameterEnabled = TaxWithholdParameters_IN::checkTaxParameters();
        #    }
        #    // </GIN>
        #
        #    if(this.isStocked())
        #    {
        #        // check that reservation line has not been created for sales line
        #        select firstonly TableId from inventTransOriginSalesLine
        #            where inventTransOriginSalesLine.SalesLineDataAreaId            == this.DataAreaId
        #               && inventTransOriginSalesLine.SalesLineInventTransId         == this.InventTransId
        #             join ReferenceCategory, ReferenceId, InventTransId from inventTransOrigin
        #                where inventTransOrigin.RecId                               == inventTransOriginSalesLine.InventTransOrigin
        #                join Qty, RecId from inventTrans
        #                    where inventTrans.InventTransOrigin                     == inventTransOrigin.RecId
        #                    join ReferenceCategory, ReferenceId, RecId from inventTransOriginReserved
        #                        where inventTransOriginReserved.RecId               == inventTrans.MarkingRefInventTransOrigin
        #                           && inventTransOriginReserved.ReferenceCategory   != InventTransType::QuarantineOrder
        #                        exists join inventTransReserved
        #                            where inventTransReserved.InventTransOrigin     == inventTransOriginReserved.RecId
        #                               && inventTransReserved.StatusIssue           != StatusIssue::None;
        #
        #        if (inventTrans.RecId)
        #        {
        #            if (inventTransOriginReserved.ReferenceId != inventTransOrigin.ReferenceId)
        #            {
        #                // Inventory lot '%1' has been reserved by %2 '%3'.
        #                throw error(strFmt("@SYS117212",this.InventTransId, inventTransOriginReserved.ReferenceCategory, inventTransOriginReserved.ReferenceId));
        #            }
        #            else
        #            {
        #                if (ReturnDispositionCode::find(this.ReturnDispositionCodeId).DispositionAction == DispositionAction::ReturnToCust)
        #                {
        #                    ttsbegin;
        #                    resReturnLine = InventTransOriginSalesLine::salesLine(inventTransOriginReserved.RecId, true);
        #                    if (resReturnLine.RecId && resReturnLine.ReturnStatus != this.ReturnStatus)
        #                    {
        #                        resReturnLine.ReturnStatus = this.ReturnStatus;
        #                        resReturnLine.update();
        #                        this.InventRefTransId = resReturnLine.InventTransId;
        #                        this.InventRefId      = resReturnLine.SalesId;
        #                        this.update();
        #                    }
        #                    ttscommit;
        #                }
        #            }
        #        }
        #        else
        #        {
        #            // Create a sales line to make a reservation
        #            ttsbegin;
        #
        #            if (this.qtyMarked())
        #            {
        #                while select forupdate inventTransQuarantine
        #                    where inventTransQuarantine.MarkingRefInventTransOrigin == InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId)
        #                    exists join inventTransOriginQuarantine
        #                        where inventTransOriginQuarantine.RecId             == inventTransQuarantine.InventTransOrigin
        #                           && inventTransOriginQuarantine.ReferenceCategory == InventTransType::QuarantineOrder
        #                {
        #                    InventTransOrigin::deleteMarking(inventTransQuarantine.MarkingRefInventTransOrigin, inventTransQuarantine.InventTransOrigin, -inventTransQuarantine.Qty
        #                        , false
        #                        , null
        #                        , null
        #                        , false
        #                        , false
        #                        , -inventTransQuarantine.PdsCWQty
        #                    );
        #                    inventTransQuarantine.clearMarking();
        #
        #                    if (inventTransQuarantine.RecId && !inventTransQuarantineRes.InventDimId)
        #                    {
        #                        select firstonly InventDimId from inventTransQuarantineRes
        #                            where inventTransQuarantineRes.InventTransOrigin            == inventTransQuarantine.InventTransOrigin
        #                               && inventTransQuarantineRes.MarkingRefInventTransOrigin  == 0
        #                               && inventTransQuarantineRes.Qty                           >  0; //Receipt
        #                    }
        #
        #                    inventTransQuarantine.update();
        #                }
        #            }
        #
        #            resReturnLine.clear();
        #            resReturnLine.data(this.data()) ;
        #            resReturnLine.LineNum                   = 0;
        #            resReturnLine.InventRefTransId          = this.InventTransId;
        #            resReturnLine.InventRefType             = InventRefType::Sales;
        #            // <GIN>
        #            if(isIndiaEnabled)
        #            {
        #                salesLine_IN = this.salesLine_IN();
        #            }
        #            if ((!isIndianTaxEnabled
        #                 && !isWithholdParameterEnabled)
        #                || ((taxParameters.Excise_IN
        #                     || taxParameters.vat_in
        #                     || isWithholdParameterEnabled)
        #                    && !salesLine_IN.TaxAsPerOriginalInvoice_IN))
        #            {
        #            // </GIN>
        #                resReturnLine.InventRefId               = this.SalesId;
        #            // <GIN>
        #            }
        #            // </GIN>
        #            resReturnLine.InterCompanyInventTransId = '';
        #            resReturnLine.ExpectedRetQty            = this.ExpectedRetQty * -1;
        #            resReturnLine.SalesQty                  = this.SalesQty * -1;
        #            resReturnLine.QtyOrdered                = this.QtyOrdered * -1;
        #            resReturnLine.LineAmount                = resReturnLine.LineAmount * -1;
        #            resReturnLine.InventDimId               = inventTransQuarantineRes.InventDimId ? inventTransQuarantineRes.InventDimId : InventTrans::findTransId(this.InventTransId).InventDimId;
        #            resReturnLine.PdsCWExpectedRetQty       = this.PdsCWExpectedRetQty * -1;
        #            resReturnLine.PdsCWQty                  = this.PdsCWQty * -1;
        #
        #            if (ReturnDispositionCode::find(resReturnLine.ReturnDispositionCodeId).createScrap())
        #            {
        #                resReturnLine.ReturnStatus = ReturnStatusLine::Awaiting;
        #                resReturnLine.SalesPrice   = 0;
        #                resReturnLine.LineAmount   = 0;
        #                resReturnLine.MatchingAgreementLine = 0;
        #            }
        #
        #            //<GIN>
        #            if (isIndiaEnabled)
        #            {
        #                salesLineINLoc.data(salesLine_IN.data());
        #                if(ReturnDispositionCode::find(resReturnLine.ReturnDispositionCodeId).DispositionAction == DispositionAction::ReturnToCust)
        #                {
        #                    salesLineINLoc.AssessableValue_IN = salesLine_IN.AssessableValue_IN * -1;
        #                }
        #                resReturnLine.packSalesLine_IN(salesLineINLoc);
        #            }
        #            // </GIN>
        #             resReturnLine.createLine(NoYes::No,         // Validate
        #                                 NoYes::No,             // initFromSalesTable
        #                                 NoYes::No,             // initFromInventTable
        #                                 NoYes::No,             // calcInventQty
        #                                 NoYes::Yes,            // searchMarkup
        #                                 NoYes::No              // searchPrice
        #                                , false                  //_checkReservation
        #                                , false                  // _skipCreditLimitCheck
        #                                , ''                     // _oldInventTransId
        #                                , false                  // _ignoreSalesTableInventDim
        #                                , true                   // _setLineNum
        #                                , false                  // _searchAgreementLine
        #                                , null                   // _smaServiceOrderTable
        #                                , resReturnLine.MatchingAgreementLine  // note that MatchingAgreementLine is set to 0 for a Scraped lines.
        #                                 );
        #
        #            movement    = InventMovement::construct(resReturnLine);
        #            reservation = InventUpd_Reservation::newMovement(movement,-resReturnLine.SalesQty,true
        #                , false
        #                , false
        #                , resReturnLine.PdsCWQty
        #            );
        #            reservation.updateNow();
        #
        #            this.InventRefTransId          = resReturnLine.InventTransId;
        #            this.InventRefType             = InventRefType::Sales;
        #            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
        #            {
        #                dispositionAction = ReturnDispositionCode::find(this.ReturnDispositionCodeId).DispositionAction;
        #            }
        #
        #            // Checking DispositionAction for Replace and scrap for which
        #            // the inventRefId of SalesLine should store original SalesId of Sales Order (Of type return type) instead of the latest SalesId.
        #            // <GIN>
        #            if ((!isIndianTaxEnabled
        #                 && !isWithholdParameterEnabled)
        #                || ((taxParameters.Excise_IN
        #                    || taxParameters.vat_in)
        #                && dispositionAction != DispositionAction::ReplaceScrap
        #                && !salesLine_IN.TaxAsPerOriginalInvoice_IN))
        #            {
        #            // </GIN>
        #                this.InventRefId               = resReturnLine.SalesId;
        #            // <GIN>
        #            }
        #            // </GIN>
        #            this.update();
        #
        #            ttscommit;
        #        }
        #    }
        #    else
        #    {
        #        this.createReturnReservationLineNonStocked();
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #createReturnReservationLineNonStocked
        #public server void createReturnReservationLineNonStocked()
        #{
        #    SalesLine                           resReturnLine, salesLineOrig, salesLineReserved;
        #
        #    // Check that a reservation line has not been created for sales line
        #    select firstonly InventTransId from salesLineOrig
        #        where salesLineOrig.DataAreaId              == this.DataAreaId
        #           && salesLineOrig.InventTransId           == this.InventTransId
        #     join InventTransId from salesLineReserved
        #        where salesLineReserved.InventRefId         == salesLineOrig.InventRefId
        #            && salesLineReserved.InventRefTransId   == salesLineOrig.InventTransId
        #            && salesLineOrig.InventRefTransId       == salesLineReserved.InventTransId;
        #
        #    if (!salesLineReserved.InventTransId)
        #    {
        #        // Create a sales line to make a reservation
        #        ttsbegin;
        #
        #        resReturnLine.clear();
        #        resReturnLine.data(this.data()) ;
        #        resReturnLine.LineNum                   = 0;
        #        resReturnLine.SourceDocumentLine        = 0;
        #        resReturnLine.InventRefTransId          = this.InventTransId;
        #        resReturnLine.InventRefType             = InventRefType::Sales;
        #        resReturnLine.InventRefId               = this.SalesId;
        #        resReturnLine.InterCompanyInventTransId = '';
        #        resReturnLine.ExpectedRetQty            = this.ExpectedRetQty * -1;
        #        resReturnLine.SalesQty                  = this.SalesQty * -1;
        #        resReturnLine.LineAmount                = resReturnLine.LineAmount * -1;
        #        resReturnLine.InventDimId               = this.InventDimId;
        #
        #        resReturnLine.createLine(NoYes::No,         // Validate
        #                                NoYes::No,             // initFromSalesTable
        #                                NoYes::No,             // initFromInventTable
        #                                NoYes::No,             // calcInventQty
        #                                NoYes::Yes,            // searchMarkup
        #                                NoYes::No              // searchPrice
        #                                );
        #
        #        //Delete pending registration records for the line
        #        resReturnLine.type().deletePendingRegistrationsNonStocked();
        #
        #        this.selectForUpdate(true);
        #        this.InventRefTransId          = resReturnLine.InventTransId;
        #        this.InventRefType             = InventRefType::Sales;
        #        this.InventRefId               = resReturnLine.SalesId;
        #        this.update();
        #
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #createSourceDocumentLine
        #/// <summary>
        #///   Creates the <c>SourceDocumentLine</c> record if one does not exist.
        #/// </summary>
        #/// <param name="_salesTableRecId">
        #///   A <c>RecId</c> for the matching <c>SalesTable</c> record; optional.
        #/// </param>
        #void createSourceDocumentLine(RefRecId _salesTableRecId = this.salesTable().RecId)
        #{
        #    ttsbegin;
        #    this.SourceDocumentLine = SourceDocumentLine::createSourceDocumentLine(tableNum(SalesLine),
        #                                                                           _salesTableRecId,
        #                                                                           tableNum(SalesTable));
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #createWarningIfNotReserved
        #/// <summary>
        #/// Creates a warning if the currrent sales line is not reserved completely and it should have been.
        #/// </summary>
        #public void createWarningIfNotReserved()
        #{
        #    InventMovement      movement;
        #
        #    movement = InventMovement::constructNoThrow(this);
        #
        #    if (   movement
        #        && movement.canBeReserved()
        #        && movement.mustBeAutoReserved()
        #        && ( (!pdsIsCWItem(this.ItemId) && movement.transIdSum().onOrder())
        #            || movement.transIdSum().pdsCWOnOrder()))
        #    {
        #        warning(strFmt("@PDS1469",this.ItemId));
        #    }
        #}
      ENDSOURCE
      SOURCE #creditNoteLine
        #public boolean  creditNoteLine(
        #SalesTable _salesTable = this.salesTable()
        #)
        #{
        #    return this.type(
        #    _salesTable
        #    ).creditNoteLine();
        #}
      ENDSOURCE
      SOURCE #custClassification
        #public display CustClassificationId custClassification()
        #{
        #    return CustTable::find(this.CustAccount).CustClassificationId;
        #}
      ENDSOURCE
      SOURCE #dealerNetPrice
        #//XAP - PTI - 20121204
        #public display XAP_DNPrice dealerNetPrice()
        #{
        #    XAP_NPRPrice        nprPrice;
        #    // <NAXT CU1>
        #    XAP_CoreChargeTrans coreChargeTrans;
        #    // </NAXT CU1>
        #
        #    //<NAXT CU5> TFS27831
        #    if (!this.ItemId)
        #    {
        #        return 0;
        #    }
        #    //</NAXT CU5> TFS27831
        #
        #    select firstonly Price, DamagedCorePrice from  nprPrice where
        #        nprPrice.nprItemId      == this.inventTable().nprItemId &&
        #        nprPrice.ModuleType     == ModuleInventPurchSales::Purch;
        #
        #    // <NAXT CU1>
        #    if (this.inventTable().ExchangeType == XAP_ExchangeTypes::WornCore)
        #    {
        #        select firstOnly CoreCreditType from coreChargeTrans where
        #            ((coreChargeTrans.ReferenceTransId == this.InventTransId &&
        #             coreChargeTrans.Type == XAP_CoreChargeTransType::CoreChargeReturned) ||
        #            (coreChargeTrans.ReferenceTransId == '' &&
        #             coreChargeTrans.Type == XAP_CoreChargeTransType::CoreChargeReturned &&
        #             coreChargeTrans.TransRefId == this.SalesId &&
        #             coreChargeTrans.ItemId == this.inventTable().ExchangeItemId &&
        #             coreChargeTrans.CustVendAc == this.CustAccount));
        #
        #        if (coreChargeTrans.CoreCreditType == XAP_CoreCreditType::Damaged)
        #        {
        #            return nprPrice.DamagedCorePrice;
        #        }
        #        if (coreChargeTrans.CoreCreditType == XAP_CoreCreditType::NoCredit)
        #        {
        #            return 0;
        #        }
        #    }
        #    // </NAXT CU1>
        #    return nprPrice.Price;
        #}
      ENDSOURCE
      SOURCE #defaultDeliveryName
        #/// <summary>
        #/// Retrieves the default delivery name for the sales order line.
        #/// </summary>
        #/// <returns>
        #/// The default delivery name for the sales order line.
        #/// </returns>
        #public Name defaultDeliveryName()
        #{
        #    return this.DeliveryName ? this.DeliveryName : this.salesTable().DeliveryName;
        #}
      ENDSOURCE
      SOURCE #delete
        #void  delete(Common childBuffer = null, boolean deletePBA = true, boolean updateOrderLineOfDeliverySchedule = true)
        #{
        #    SalesLineType  salesLineType;
        #
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #    boolean countryRegion_RU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
        #    // </GEERU>
        #    if (this.isTmp())
        #    {
        #        this.doDelete();
        #        return;
        #    }
        #
        #    // <GEERU>
        #    if (countryRegion_RU)
        #    {
        #        ttsbegin;
        #
        #        if (this.AssetId_RU && this.SalesStatus != SalesStatus::Invoiced && ! this.creditNoteLine() &&
        #            RAssetTable::find(this.AssetId_RU).Status == RAssetStatus::SoldInvoice)
        #        {
        #            RAssetTable::updateStatus(this.AssetId_RU, RAssetStatus::Open);
        #            RAssetTable::updateCustInfo(this.AssetId_RU, '', '');
        #        }
        #    }
        #    // </GEERU>
        #    salesLineType = this.type();
        #    salesLineType.delete(childBuffer,deletePBA,updateOrderLineOfDeliverySchedule);
        #
        #    // <GEERU>
        #    if (countryRegion_RU)
        #    {
        #        ttscommit;
        #    }
        #    // </GEERU>
        #}
      ENDSOURCE
      SOURCE #deleteInventTrans_BR
        #/// <summary>
        #/// Delete the <c>inventTrans</c> related to the current <c>salesLine</c> if order operation is configured to do not create inventory transactions.
        #/// </summary>
        #// <GBR>
        #public void deleteInventTrans_BR()
        #{
        #    if (!this.salesTable().createInventTrans_BR())
        #    {
        #        InventUpd_DeleteMovement::newMovement(InventMovement::construct(this, InventMovSubType::None, this)).updateNow();
        #    }
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #deliveredInTotal
        #public display SalesQty  deliveredInTotal()
        #{
        #    if (!this.InventTransId)
        #    {
        #        return 0;
        #    }
        #
        #    return this.deliveredInTotalServer();
        #}
      ENDSOURCE
      SOURCE #deliveredInTotalServer
        #server SalesQty deliveredInTotalServer(
        #SalesTable _salesTable = this.salesTable()
        #)
        #{
        #    return this.type(
        #    _salesTable
        #    ).deliveredInTotal();
        #}
      ENDSOURCE
      SOURCE #deliveredInventInTotal
        #public display InventQty    deliveredInventInTotal()
        #{
        #    InventTransIdSum    inventTransIdSum;
        #    InventQty           inventQty;
        #
        #    if (!this.InventTransId || !this.isStocked())
        #    {
        #        return 0;
        #    }
        #    inventTransIdSum = InventTransIdSum::newTransOriginId(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #    inventQty = -(inventTransIdSum.physical() + inventTransIdSum.financial());
        #    return inventQty;
        #}
      ENDSOURCE
      SOURCE #deliveryAddress
        #public LogisticsPostalAddress deliveryAddress()
        #{
        #//LogisticsPostalAddress deliveryAddress(TransDateTime _transDateTime = this.deliveryTransDateTime())
        #    return LogisticsPostalAddress::findRecId(this.DeliveryPostalAddress);
        #}
      ENDSOURCE
      SOURCE #deliveryCNPJCPFNUM_BR
        #/// <summary>
        #/// Returns the delivery CNPJ or CPF for the current record.
        #/// </summary>
        #/// <returns>
        #/// Returns the CNPJ or CPF of the customer if the adddress is a primary address.
        #/// Returns the CNPJ or CPF related to delivery <c>logisticsPostalAddress</c> if the adddress is not a primary address.
        #/// </returns>
        #public display CNPJCPFNum_BR deliveryCNPJCPFNUM_BR()
        #{
        #    DirPartyLocation dirPartyLocation;
        #
        #    if (!BrazilParameters::isEnabled())
        #        return '';
        #
        #    dirPartyLocation = DirPartyLocation::findByPartyLocation(CustTable::find(this.CustAccount).Party, this.deliveryLocation());
        #
        #    if (!dirPartyLocation.RecId ||  dirPartyLocation.IsPrimary)
        #    {
        #        return CustTable::find(this.CustAccount).cnpjcpfNum_BR;
        #    }
        #    else
        #    {
        #        return (select cnpjcpfNum_BR from logisticsLocationExt
        #            where logisticsLocationExt.Location == this.deliveryLocation()).cnpjcpfNum_BR;
        #    }
        #}
      ENDSOURCE
      SOURCE #deliveryDate
        #public display SalesShippingDate deliveryDate(SalesShippingDate _blankDate = InventOrderEntryDeadlineTable::effectiveOrderDate('',''))
        #{
        #    SalesTable  salesTable;
        #
        #    if (this.ShippingDateConfirmed)
        #    {
        #        return this.ShippingDateConfirmed;
        #    }
        #
        #    salesTable = this.salesTable();
        #    if (salesTable.ShippingDateConfirmed)
        #    {
        #        return salesTable.ShippingDateConfirmed;
        #    }
        #    if (this.ShippingDateRequested)
        #    {
        #        return this.ShippingDateRequested;
        #    }
        #    if (salesTable.ShippingDateRequested)
        #    {
        #        return salesTable.ShippingDateRequested;
        #    }
        #    return _blankDate;
        #}
      ENDSOURCE
      SOURCE #deliveryIENum_BR
        #/// <summary>
        #/// Returns the delivery IE for the current record.
        #/// </summary>
        #/// <returns>
        #/// Returns the IE of the customer if the adddress is a primary address.
        #/// Returns the IE related to delivery <c>logisticsPostalAddress</c> if the adddress is not a primary address.
        #/// </returns>
        #public display IENum_BR deliveryIENum_BR()
        #{
        #    DirPartyLocation dirPartyLocation;
        #
        #    if (!BrazilParameters::isEnabled())
        #        return '';
        #
        #    dirPartyLocation = DirPartyLocation::findByPartyLocation(CustTable::find(this.CustAccount).Party, this.deliveryLocation());
        #
        #    if (!dirPartyLocation.RecId || dirPartyLocation.IsPrimary)
        #    {
        #        return CustTable::find(this.CustAccount).ieNum_BR;
        #    }
        #    else
        #    {
        #        return (select ieNum_BR from logisticsLocationExt
        #            where logisticsLocationExt.Location == this.deliveryLocation()).ieNum_BR;
        #    }
        #}
      ENDSOURCE
      SOURCE #deliveryLocation
        #public LogisticsLocationRecId deliveryLocation()
        #{
        #    return LogisticsPostalAddress::getLocation(this.DeliveryPostalAddress);
        #}
      ENDSOURCE
      SOURCE #deliveryTerm
        #public DlvTermId  deliveryTerm()
        #{
        #    return this.salesTable().DlvTerm;
        #}
      ENDSOURCE
      SOURCE #deliveryTransDateTime
        #public TransDateTime deliveryTransDateTime()
        #{
        #    return DateTimeUtil::newDateTime(this.deliveryDate(),0,DateTimeUtil::getCompanyTimeZone());
        #}
      ENDSOURCE
      SOURCE #discAmount
        #public DiscAmount discAmount()
        #{
        #    return PriceDisc::discAmount(SalesParameters::find().Disc, this.LineDisc, this.MultiLnDisc);
        #}
      ENDSOURCE
      SOURCE #discPct_BR
        #/// <summary>
        #/// Checks if the actual discount percentage should be changed by <c>SuframaDiscount_BR</c> field value
        #/// </summary>
        #/// <param name="_discPct">
        #/// The discount to be checked
        #/// </param>
        #/// <returns>
        #/// The discount in percentage.
        #/// </returns>
        #public DiscPct discPct_BR(DiscPct _discPct)
        #{
        #    return PriceDisc::discPercent(LineMultiLn::LineTimesMultiLn, _discPct, this.salesLine_BR().SuframaDiscount_BR);
        #}
      ENDSOURCE
      SOURCE #discPercent
        #public DiscPct   discPercent()
        #{
        #    DiscPct discPct = PriceDisc::discPercent(SalesParameters::find().Disc, this.LinePercent, this.MultiLnPercent);
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        return this.discPct_BR(discPct);
        #    }
        #    // </GBR>
        #
        #    return discPct;
        #}
      ENDSOURCE
      SOURCE #dispBackOrderedQty
        #//<GGH>
        #display qty dispBackOrderedQty()
        #{
        #    XAP_BackorderTrans  backorderTrans;
        #    XAP_EmergencyOrder  emergencyOrder = XAP_EmergencyOrder::find(XAP_EmergencyOrderReferenceType::Sales, this.SalesId);
        #    SalesLine           salesLine;
        #    InventTransOrigin   inventTransOrigin;
        #    InventTrans         inventTrans;
        #    Qty                 backOrderedQty;
        #    SalesTable          salesTable = SalesTable::find(this.SalesId);
        #    boolean             backOrderApproveReq = salesTable.xap_OrderClass().BackorderReviewApproval == NoYes::Yes;
        #
        #    while select RecId from salesLine
        #        where salesLine.RecId == this.RecId
        #    join RecId from inventTransOrigin where
        #        inventTransOrigin.InventTransId == salesLine.InventTransId
        #    join RecId, Qty from backorderTrans
        #        where   backorderTrans.InventTransId == inventTransOrigin.InventTransId
        #    join RecId, StatusIssue from inventTrans where
        #        inventTrans.InventTransOrigin == inventTransOrigin.RecId &&
        #        inventTrans.StatusIssue > StatusIssue::ReservPhysical
        #    {
        #        if (salesLine.RecId && (inventTrans.StatusIssue == StatusIssue::ReservOrdered || !backOrderApproveReq || backorderTrans.Completed || emergencyOrder.BackorderApproved == NoYes::Yes))
        #        {
        #            backOrderedQty += backorderTrans.Qty;
        #        }
        #    }
        #
        #    return backOrderedQty;
        #}
        #//</GGH>
      ENDSOURCE
      SOURCE #displayAttachIndicator
        #public display ResourceId displayAttachIndicator()
        #{
        #    // DocuRef docuRef;
        #    #ResAppl
        #    // docuRef = Docurefsearch::newCommon(this).docuRef();
        #
        #    SalesTable salesTable = SalesTable::find(this.SalesId);
        #
        #    if ((select docuRef
        #           where docuRef.RefCompanyId == salesTable.DataAreaId &&
        #                 docuRef.RefTableId   == salesTable.TableId &&
        #                 docuRef.RefRecId     == salesTable.RecId).RecId)
        #    {
        #        return #ImageDocumentationItem;
        #    }
        #    else if (DocuRefSearch::newCommon(this).next())
        #    {
        #        return #ImageDocumentationItem;
        #    }
        #    else
        #    {
        #        return #ImageDimensionStructureGroupEmpty;
        #    }
        #}
      ENDSOURCE
      SOURCE #displayCompanyCurrCostPrice
        #//<GGH>
        #display Price displayCompanyCurrCostPrice()
        #{
        #    return XAP_SvcSegment::exchangeServiceAmount(this.PurchaseCurrUnitCost ? this.PurchaseCurrUnitCost :this.Cost,
        #                                       this.segmentId(),
        #                                       (this.PurchaseCurrencyCode ? this.PurchaseCurrencyCode : this.CurrencyCode),
        #                                       false,
        #                                       CompanyInfo::StandardCurrency());
        #}
        #//</GGH>
      ENDSOURCE
      SOURCE #displayCompanyCurrNetAmount
        #//<GGH>
        #display AmountMST displayCompanyCurrNetAmount()
        #{
        #    return XAP_SvcSegment::exchangeServiceAmount(this.LineAmount,
        #                                                  this.salesTable().SvcSegmentRecId,
        #                                                  this.CurrencyCode,
        #                                                  false,
        #                                                  CompanyInfo::StandardCurrency());
        #}
        #//</GGH>
      ENDSOURCE
      SOURCE #displayCompanyCurrUnitPrice
        #//<GGH>
        #display Price displayCompanyCurrUnitPrice()
        #{
        #    //PriceDiscPolicyCheckPolicy  checkPolicy;
        #    SalesPrice salesPriceOrig = this.SalesPrice;
        #
        #    this.CurrencyCode = XAP_SvcSegment::getCurrencyCode(this.salesTable().SvcSegmentRecId);
        #    /*
        #    checkPolicy             = PriceDiscPolicyCheckPolicy::newFromParm(
        #                                                                            this.PriceDiscResultFields::parmPriceDiscResultFields(),
        #                                                                            [fieldNum(PriceDiscResultFields, Price), fieldNum(PriceDiscResultFields, LinePercent)]);
        #
        #    this.setPriceAgreement(this.inventDim(), checkPolicy);
        #
        #    if (this.SalesPrice != salesPriceOrig)
        #    {
        #        return this.SalesPrice;
        #    }
        #    else
        #    {
        #    */
        #        return XAP_SvcSegment::exchangeServiceAmount(this.SalesPrice,
        #                                            this.salesTable().SvcSegmentRecId,
        #                                            this.CurrencyCode,
        #                                            false,
        #                                            CompanyInfo::StandardCurrency());
        #    //}
        #}
        #//</GGH>
      ENDSOURCE
      SOURCE #displayExistingSalesLineWarning
        #//GGH 000878
        #display public ResourceId displayExistingSalesLineWarning()
        #{
        #
        #    SalesQuotationLine newSalesQuotationLine;
        #    SalesQuotationTable newSalesQuotationTable;
        #
        #    if (this.ItemId == "")
        #    {
        #        return 0;
        #    }
        #
        #     select firstOnly RecId, QuotationStatus from newSalesQuotationLine where newSalesQuotationLine.CustAccount == this.CustAccount
        #        && newSalesQuotationLine.ItemId == this.ItemId
        #        && newSalesQuotationLine.RecId != this.Recid &&
        #        //<GGH> TFS29869
        #        ( newSalesQuotationLine.QuotationStatus == SalesQuotationStatus::Created
        #        || newSalesQuotationLine.QuotationStatus == SalesQuotationStatus::Sent)
        #        //</GGH> TFS29869
        #        join QuotationExpiryDate from newSalesQuotationTable
        #        where newSalesQuotationTable.QuotationId == newSalesQuotationLine.QuotationId
        #             && newSalesQuotationTable.QuotationExpiryDate > today(); //<GGH> TFS29869
        #
        #    #ResAppl
        #
        #    if ( newSalesQuotationLine.RecID != 0) //<GGH> TFS29869 - conditions moved into the select statement
        #    {
        #        return #ImageMatchingError;
        #    }
        #
        #    return 0;
        #}
        #//GGH
        #
        #
      ENDSOURCE
      SOURCE #displayItemPhantom
        #//<GGH> TFS30942
        #display public ItemPhantom displayItemPhantom()
        #{
        #    InventTable     inventTable;
        #
        #    select firstOnly Phantom from inventTable where inventTable.ItemId == this.ItemId;
        #
        #    return inventTable.Phantom;
        #}
      ENDSOURCE
      SOURCE #displayLineWarning
        #//TP22565 - PTI - 20111208
        #display public ResourceId displayLineWarning()
        #{
        #    #ResAppl
        #
        #    return SalesLine::lineWarning(this.ItemId) ? #ImageWarning : #ImageBlank2;
        #}
        #
      ENDSOURCE
      SOURCE #displayMultipleReplacementLineWarning
        #//TP22565 - PTI - 20111208
        #display public ResourceId displayMultipleReplacementLineWarning()
        #{
        #    #ResAppl
        #
        #    //TFS2740 - begin
        #    //PTI - 20120423 - begin
        #    if (this.ReplacedItemId)
        #    {
        #        return #ImageMatchingError;
        #    }
        #    //PTI - 20120423 - end
        #    //TFS2740 - end
        #
        #    return XAP_CheckMultipleReplacement::checkMultipleReplacementOnItem(this.ItemId) ? #ImageError : #ImageBlank2;
        #}
        #
      ENDSOURCE
      SOURCE #dispPurchId
        #/// <summary>
        #/// Display method for the identifier of the related purchase order.
        #/// </summary>
        #/// <returns>
        #/// The id of the related purchase order or an empty string.
        #/// </returns>
        #//PCs_20111103_22285_AddEstimateToSegments
        #// BP Deviation documented
        #display PurchId dispPurchId()
        #{
        #    return (this.InventRefType == InventRefType::Purch && this.InventRefId) ? this.InventRefId : '';
        #}
      ENDSOURCE
      SOURCE #dispPurchStatus
        #/// <summary>
        #/// Display method for the status of the related purchase order.
        #/// </summary>
        #/// <returns>
        #/// The status of the related purchase order or 'None' status.
        #/// </returns>
        #//PCs_20111103_22285_AddEstimateToSegments
        #// BP Deviation documented
        #display PurchStatus dispPurchStatus()
        #{
        #    return (this.InventRefType == InventRefType::Purch && this.InventRefId) ? PurchTable::purchStatus(this.InventRefId) : PurchStatus::None;
        #}
      ENDSOURCE
      SOURCE #doReCalcPricesFromBasePrompt
        #/// <summary>
        #/// Prompts the user who has a dialog box whether they wants to recalculate prices, depending on trade
        #/// agreements.
        #/// </summary>
        #/// <returns>
        #/// true if the user clicks yes in the prompt box; otherwise, false.
        #/// </returns>
        #public boolean doReCalcPricesFromBasePrompt()
        #{
        #    // Run the price discount policy dialog in order to let the user determine which agreement values to recalulate.
        #    return this.runPriceDiscPolicyDialog(true);
        #}
      ENDSOURCE
      SOURCE #editProductDimensionsAllowed
        #/// <summary>
        #/// Determines whether the item directions on the line can be edited.
        #/// </summary>
        #/// <returns>
        #/// true for order lines without delivery lines; otherwise, false.
        #/// </returns>
        #public boolean editProductDimensionsAllowed()
        #{
        #    return this.SalesPurchLine::editProductDimensionsAllowed();
        #}
      ENDSOURCE
      SOURCE #editReasonCode
        #/// <summary>
        #/// Gets and sets a reason code.
        #/// </summary>
        #/// <param name="_set">
        #/// A Boolean value that indicates whether the reason code is set.
        #/// </param>
        #/// <param name="_reasonCode">
        #/// The new reason code when the <paramref name="set" /> parameter is true.
        #/// </param>
        #/// <returns>
        #/// The reason code of a <c>ReasonTableRef</c> record.
        #/// </returns>
        #//BP Deviation Documented
        #public edit ReasonCode editReasonCode(boolean _set, ReasonCode _reasonCode)
        #{
        #    ReasonCode      reasonCode = strLRTrim(_reasonCode);
        #    RefRecId        originalReasonRefRecID;
        #    FormDataSource  formSalesLine;
        #
        #    if (_set)
        #    {
        #        // If the ReasonRefRecID is 0, then create a new ReasonTableRef record
        #        // otherwise, update the existing record.
        #        if (this.CreditNoteReasonCode == 0)
        #        {
        #            this.CreditNoteReasonCode = ReasonTableRef::createFromCode(reasonCode);
        #        }
        #        else
        #        {
        #            if (reasonCode != '')
        #            {
        #                //
        #                //The reasonCode value is not blank.
        #                // Save the current ReasonRefRecID for comparision.
        #                //
        #                originalReasonRefRecID = this.CreditNoteReasonCode;
        #                this.CreditNoteReasonCode = ReasonTableRef::updateCode(reasonCode, this.CreditNoteReasonCode);
        #
        #                if (this.CreditNoteReasonCode == originalReasonRefRecID)
        #                {
        #                    //
        #                    // The reason code has changed but the referenced record ID has not.
        #                    // Get the current FormDataSource and set forceWrite() to true so that
        #                    // data validation (validateWrite()) is performed on the updated reason code.
        #                    //
        #                    formSalesLine = this.dataSource();
        #                    if (formSalesLine)
        #                    {
        #                        formSalesLine.forceWrite(true);
        #                    }
        #                }
        #            }
        #            else
        #            {
        #                // The reasonCode is blank.
        #                this.CreditNoteReasonCode = ReasonTableRef::updateCode(reasonCode, this.CreditNoteReasonCode);
        #            }
        #        }
        #
        #        // Update the reason comment with the default comment value for the updated reason code.
        #        // A blank reasonCode will result in a blank comment because a blank reasonCode
        #        // will return an empty reasonTable buffer.
        #        //
        #        this.editReasonComment(true, ReasonTable::find(_reasonCode).Description);
        #    }
        #    else
        #    {
        #        reasonCode = ReasonTableRef::find(this.CreditNoteReasonCode).Reason;
        #    }
        #
        #    return reasonCode;
        #}
        #// </GEEU>
      ENDSOURCE
      SOURCE #editReasonComment
        #/// <summary>
        #/// Gets and sets the reason comment.
        #/// </summary>
        #/// <param name="set">
        #/// A Boolean value that indicates whether the reason code is set.
        #/// </param>
        #/// <param name="_reasonComment">
        #/// The new reason comment when the <paramref name="set" /> parameter is true.
        #/// </param>
        #/// <returns>
        #/// The reason comment of a <c>ReasonTableRef</c> record.
        #/// </returns>
        #//BP Deviation Documented
        #public edit ReasonComment editReasonComment(boolean set, ReasonComment _reasonComment)
        #{
        #    ReasonComment   reasonComment = _reasonComment;
        #
        #    if (set)
        #    {
        #        // If the ReasonRefRecID is 0, then create a new ReasonTableRef record
        #        // otherwise, update the existing record.
        #        if (this.CreditNoteReasonCode == 0)
        #        {
        #            this.CreditNoteReasonCode = ReasonTableRef::createFromComment(reasonComment);
        #        }
        #        else
        #        {
        #            this.CreditNoteReasonCode = ReasonTableRef::updateComment(reasonComment, this.CreditNoteReasonCode);
        #        }
        #    }
        #    else
        #    {
        #        reasonComment = ReasonTableRef::find(this.CreditNoteReasonCode).ReasonComment;
        #    }
        #
        #    return reasonComment;
        #}
        #// </GEEU>
        #
      ENDSOURCE
      SOURCE #effectiveSalesPrice
        #/// <summary>
        #///     Gets the effective sales price.
        #/// </summary>
        #/// <returns>
        #///     The effective sales price.
        #/// </returns>
        #/// <remarks>
        #///     The effective sales price is the sales price on the sales order unless attribute based pricing is in effect. In that case, the effective sales price is the adjusted unit price.
        #/// </remarks>
        #public SalesPrice effectiveSalesPrice()
        #{
        #    SalesPrice effectiveSalesPrice = this.pdsCalculatedUnitPrice();
        #
        #    if (!effectiveSalesPrice)
        #    {
        #        effectiveSalesPrice = this.SalesPrice;
        #    }
        #
        #    return effectiveSalesPrice;
        #}
      ENDSOURCE
      SOURCE #enableCoreReturnReview
        #public boolean enableCoreReturnReview()
        #{
        #    return this.type().enableCoreReturnReview();
        #}
      ENDSOURCE
      SOURCE #endDisc
        #public boolean  endDisc()
        #{
        #    if(this.isCategoryBased())
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return this.SalesPurchLine::endDisc();
        #    }
        #}
      ENDSOURCE
      SOURCE #eventNotificationUserId
        #/// <summary>
        #/// Retrieves the sales order line responsible user ID that is used for notification.
        #/// </summary>
        #/// <returns>
        #/// A string value that represents a user ID.
        #/// </returns>
        #public UserId eventNotificationUserId()
        #{
        #    return this.type().eventNotificationUserId();
        #}
      ENDSOURCE
      SOURCE #existsPrimeProductByProject
        #// <NAXT_FP1>
        #public boolean existsPrimeProductByProject()
        #{
        #    SalesLine           SalesLine;
        #    // <MLT>
        #    ProjTable           projTable;
        #    // </MLT>
        #    /* <NAXT>
        #    return this.SalesId
        #        && ((select firstonly RecId from SalesLine
        #                where SalesLine.ProjId      == this.ProjId
        #                  &&  SalesLine.PrimeProduct
        #
        #                  &&  SalesLine.SalesQty > 0
        #                  // <MLT>
        #                  &&  SalesLine.RecId       != this.RecId).RecId != 0);
        #    </NAXT> */
        #    // <MLT>
        #    select sum(SalesQty) from SalesLine
        #                where SalesLine.ProjId      == this.ProjId
        #                  &&  SalesLine.PrimeProduct
        #                  &&  SalesLine.RecId       != this.RecId;
        #
        #    if (SalesLine.SalesQty)
        #    {
        #        select firstOnly equipmentId from projTable
        #            where projTable.ProjId == this.ProjId;
        #
        #        if (projTable.EquipmentId)
        #        {
        #            return true;
        #        }
        #        else
        #        {
        #            return this.SalesId
        #            && ((select firstonly RecId from SalesLine
        #                    where SalesLine.ProjId      == this.ProjId
        #                      &&  SalesLine.PrimeProduct
        #                      &&  SalesLine.SalesQty    > 0
        #                      &&  SalesLine.SalesStatus != SalesStatus::Invoiced
        #                      &&  SalesLine.RecId       != this.RecId).RecId != 0);
        #        }
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #    // </MLT>
        #}
        #// </NAXT_FP1>
      ENDSOURCE
      SOURCE #existsRefillLine
        #public boolean existsRefillLine()
        #{
        #    SalesLine      salesLineCheck;
        #
        #    select firstOnly RecId from salesLineCheck where
        #        salesLineCheck.SalesId        == this.SalesId
        #        && salesLineCheck.RecId          != this.RecId
        #        && salesLineCheck.ReturnCondition == XAP_PICReturnConditions::RefillBuyBack;
        #
        #    return salesLineCheck.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #expandBOM
        #server void  expandBOM(TmpFrmVirtual  _tmpFrmVirtual, BOM _tmpBOM)
        #{
        #    Label                   label = new Label(this.salesTable().LanguageId);
        #    SalesLine               salesLine;
        #    BOMCalcData             bomCalcData;
        #    RouteId                 routeNum;
        #    SalesAlternativeItem    salesAlternativeItem;
        #    SalesTable              salesTable;
        #
        #    //<GGH>
        #    GGH_LineLink            lineLink;
        #    //</GGH>
        #
        #    // <GEEPL>
        #    #ISOCountryRegionCodes
        #    // </GEEPL>
        #
        #    ttsbegin;
        #
        #    bomCalcData    = BOMCalcData::newInventTable(this.QtyOrdered,this.inventTable());
        #    routeNum       = this.inventTable().routeId(this.salesTable().DeliveryDate, this.QtyOrdered, this.inventDim());
        #
        #    startLengthyOperation();
        #
        #    while select _tmpFrmVirtual
        #    {
        #        salesLine.clear();
        #        salesLine.SalesId = this.SalesId;
        #        select _tmpBOM where _tmpBOM.RecId == _tmpFrmVirtual.RecordNo;
        #
        #        if (_tmpBOM)
        #        {
        #            salesTable = this.salesTable();
        #            salesLine.initFromSalesTable(salesTable);
        #            salesLine.setAddressFromSalesLine(this);
        #
        #            //<NAXT>
        #            //move down: salesLine.initFromBOM(_tmpBOM, this);
        #            //<NAXT>
        #
        #            salesLine.QtyOrdered = UnitOfMeasureConverter::convert(BOMCalcConsumption::construct(_tmpBOM.Formula,bomCalcData).calcConsumption(_tmpBOM,
        #                                                                                                                              Route::accError(routeNum,
        #                                                                                                                              _tmpBOM.OprNum)),
        #                                                    UnitOfMeasure::unitOfMeasureIdBySymbol(_tmpBOM.UnitId),
        #                                                    UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.inventTable().inventUnitId()),
        #                                                    NoYes::Yes,
        #                                                    InventTable::itemProduct(_tmpBOM.ItemId));
        #
        #            salesLine.SalesQty = UnitOfMeasureConverter::convert(salesLine.QtyOrdered,
        #                                                  UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.inventTable().inventUnitId()),
        #                                                  UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit),
        #                                                  NoYes::Yes,
        #                                                  InventTable::itemProduct(_tmpBOM.ItemId));
        #
        #            //<NAXT>
        #            /*<GGH_33586_LD>
        #            salesLine.initFromBOM(_tmpBOM, this);
        #            */
        #            salesLine.initFromBOM(_tmpBOM, this, false);
        #            //</GGH_33586_LD>
        #            //<NAXT>
        #
        #            salesAlternativeItem = SalesAlternativeItem::newAlternativeItem(salesLine);
        #
        #            //<NAXT>
        #            if (!salesLine.inventDim().InventLocationId)
        #            {
        #                salesLine.InventDimId = this.InventDimId;
        #            }
        #            //</NAXT>
        #
        #            if (salesAlternativeItem.existAlternativeItem())
        #            {
        #                salesLine.setAlternativeItem(salesAlternativeItem, true);
        #            }
        #
        #            salesLine.ActivityNumber = this.ActivityNumber;
        #            if (!salesLine.ProjCategoryId)
        #            {
        #                salesLine.ProjCategoryId = this.ProjCategoryId;
        #            }
        #
        #            // Performance optimization (See PS Issue #18029)
        #            // Skip credit limit check here - it will be done once when all lines are created.
        #            salesLine.createLine(true,false,false,false,true,true,false,true, '', false, true, true);
        #
        #            //<NAXT> - smart sourcing
        #            salesLine.reread();
        #            //</NAXT> - smart sourcing
        #
        #            //<GGH>
        #            lineLink.clear();
        #            lineLink.MainTransId    = this.InventTransId;
        #            lineLink.ChildTransId   = salesLine.InventTransId;
        #            lineLink.LinkType       = GGH_LineLinkType::BOM;
        #            // <Lifecycle>
        #            if (lineLink.validateWrite())
        #            {
        #                lineLink.insert();
        #            }
        #            else
        #            {
        #                throw exception::Error;
        #            }
        #            // <Lifecycle>
        #            //</GGH>
        #
        #            if (salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #            {
        #                SalesCalcAvailableDlvDates::initDateFields(this);
        #                if (this.ShippingDateConfirmed || this.ReceiptDateConfirmed)
        #                {
        #                    if(salesLine.ShippingDateConfirmed > this.ShippingDateConfirmed ||
        #                       salesLine.ReceiptDateConfirmed  > this.ReceiptDateConfirmed)
        #                    {
        #                        salesLine.DeliveryDateControlType = SalesDeliveryDateControlType::None;
        #                        checkFailed(strFmt("@SYS88261",salesLine.ItemId,salesLine.InventTransId));
        #                    }
        #                }
        #                else
        #                {
        #                    if (salesLine.ShippingDateRequested > this.ShippingDateRequested ||
        #                        salesLine.ReceiptDateRequested  > this.ReceiptDateRequested)
        #                    {
        #                        salesLine.DeliveryDateControlType = SalesDeliveryDateControlType::None;
        #                        checkFailed(strFmt("@SYS88261",salesLine.ItemId,salesLine.InventTransId));
        #                    }
        #                }
        #
        #            }
        #
        #            salesLine.ShippingDateConfirmed = this.ShippingDateConfirmed;
        #            salesLine.ShippingDateRequested = this.ShippingDateRequested;
        #            salesLine.ReceiptDateConfirmed  = this.ReceiptDateConfirmed;
        #            salesLine.ReceiptDateRequested  = this.ReceiptDateRequested;
        #
        #            salesLine.LineNum       = this.LineNum + 0.001;
        #            salesLine.LineHeader    = strFmt(label.extractString(literalStr("@SYS25825")), this.inventTable().defaultProductName());
        #            salesLine.write();
        #
        #            // <GEEPL>
        #            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #            {
        #                TaxServiceTariff::insertTaxServiceTariffForNewParent(salesTable.TableId, salesTable.RecId, salesLine.TableId, salesLine.RecId);
        #            }
        #            // </GEEPL>
        #
        #        }
        #    }
        #
        #    // Finaly DO credit limit check here for all lines at once.
        #    if (!this.validateWrite())
        #        throw error ("@SYS18447");
        #
        #    while select _tmpFrmVirtual
        #    {
        #        this.resetInvent();
        #        break;
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #fieldChanged
        #/// <summary>
        #/// Determines whether a field in a <c>SalesLine</c> buffer is changed.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID of the field to investigate.
        #/// </param>
        #/// <returns>
        #/// true if the field value is changed in relation; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// This method is used in intercompany scenarios for validating whether a field has changed and
        #/// whether it must be synchronized to the relating intercompany order line.
        #/// </remarks>
        #public boolean  fieldChanged(FieldId  _fieldId)
        #{
        #    boolean  ok = false;
        #
        #    if (!this.RecId)
        #    {
        #        ok = true;
        #    }
        #
        #    if (this.orig().(_fieldId) != this.(_fieldId))
        #    {
        #        ok = true;
        #    }
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #getDeliveryEntityRecord
        #/// <summary>
        #/// Gets the delivery entity record that is based on the postal address.
        #/// </summary>
        #/// <returns>
        #/// A <c>CustTable</c> record.
        #/// </returns>
        #public Common getDeliveryEntityRecord()
        #{
        #    return this.TradePostalAddress::getDeliveryEntityRecord();
        #}
      ENDSOURCE
      SOURCE #getGrossVolumePerItem
        #/// <summary>
        #/// Calculates the gross volume per item for the specified <c>SalesLine</c> record.
        #/// </summary>
        #/// <returns>
        #/// A <c>Volume</c> value that is the gross volume per item on the line.
        #/// </returns>
        #public Volume getGrossVolumePerItem()
        #{
        #    InventTable         inventTable;
        #    InventTableModule   inventTableModule;
        #    Volume              grossVolume;
        #
        #    if(this.isStocked())
        #    {
        #        grossVolume = this.inventTable(this.ItemId).grossVolume();
        #
        #    }
        #    else
        #    {
        #        if(!this.isCategoryBased())
        #        {
        #            //Volume of non-stocked item is derived from the volume defined on InventTable, by converting the UnitOfMeasure defined on the sales Line to the UnitOfMeasure defined on InventTable
        #            inventTable         = this.inventTable(this.ItemId);
        #            inventTableModule   = inventTable.inventTableModuleSales();
        #
        #            if(this.SalesUnit && inventTableModule.UnitId && this.SalesUnit != inventTableModule.UnitId)
        #            {
        #                grossVolume = inventTable.grossVolume() * this.unitConvertSales2Invent(1);
        #            }
        #            else
        #            {
        #                grossVolume = inventTable.grossVolume();
        #            }
        #        }
        #    }
        #    return grossVolume;
        #}
      ENDSOURCE
      SOURCE #getGrossWeightPerItem
        #/// <summary>
        #/// Calculates the gross weight per item for the specified <c>SalesLine</c> record.
        #/// </summary>
        #/// <returns>
        #/// A <c>Weight</c> value that is the gross weight per item on the line.
        #/// </returns>
        #public Weight getGrossWeightPerItem()
        #{
        #    InventTable         inventTable;
        #    InventTableModule   inventTableModule;
        #    Weight              grossWeight;
        #
        #    if(this.isStocked())
        #    {
        #        grossWeight = this.inventTable(this.ItemId).grossWeight();
        #
        #    }
        #    else
        #    {
        #        if(this.isCategoryBased())
        #        {
        #            grossWeight = SalesLineForeignTradeCategory::findSalesLine(this).UnitWeight;
        #        }
        #        else
        #        {
        #            //Weight of non-stocked item is derived from the weight defined on InventTable, by converting the UnitOfMeasure defined on the sales Line to the UnitOfMeasure defined on InventTable
        #            inventTable         = this.inventTable(this.ItemId);
        #            inventTableModule   = inventTable.inventTableModuleSales();
        #
        #            if(this.SalesUnit && inventTableModule.UnitId && this.SalesUnit != inventTableModule.UnitId)
        #            {
        #                grossWeight = inventTable.grossWeight() * this.unitConvertSales2Invent(1);
        #            }
        #            else
        #            {
        #                grossWeight = inventTable.grossWeight();
        #            }
        #        }
        #    }
        #    return grossWeight;
        #
        #}
      ENDSOURCE
      SOURCE #getMiscChargesAmount_IN
        #/// <summary>
        #/// This method is used to get the amount.
        #/// </summary>
        #/// <returns>
        #/// Returns the amount.
        #/// </returns>
        #// <GIN>
        #public Amount getMiscChargesAmount_IN()
        #{
        #    return this.salesLineView_IN().SalesPurchJournalLine_IN::getMiscChargesAmountPlusLineAmount(this.TableId, this.RecId);
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #getPurchQty
        #/// <summary>
        #///     Get the quantity to be put into the field <c>PurchQty</c> for creating a new <c>PurchLine</c> record.
        #/// </summary>
        #/// <returns>
        #///     A <c>Qty</c> value.
        #/// </returns>
        #public Qty getPurchQty()
        #{
        #    if (this.returnItem())
        #    {
        #        return this.ExpectedRetQty;
        #    }
        #    else
        #    {
        #        return this.RemainSalesPhysical;
        #    }
        #}
      ENDSOURCE
      SOURCE #hasActivePurch
        #display public ResourceId hasActivePurch()
        #{
        #    #ResAppl
        #
        #    InventTransOrigin   inventTransOrigin;
        #    InventTransOrigin   markedInventTransOrigin;
        #    InventTrans         inventTrans;
        #
        #    select firstonly RecId from inventTransOrigin
        #        where inventTransOrigin.InventTransId == this.InventTransId
        #        exists join inventTrans
        #            where inventTransOrigin.RecId == inventTrans.InventTransOrigin
        #        exists join markedInventTransOrigin
        #            where inventTrans.MarkingRefInventTransOrigin ==        markedInventTransOrigin.RecId
        #                    && markedInventTransOrigin.ReferenceCategory == InventTransType::Purch;
        #
        #    return inventTransOrigin.RecId != 0 ? #ImageApprove : #ImageBlank2;
        #}
      ENDSOURCE
      SOURCE #hasActiveTrans
        #display public ResourceId hasActiveTrans()
        #{
        #    #ResAppl
        #
        #    InventTransOrigin   inventTransOrigin;
        #    InventTransOrigin   markedInventTransOrigin;
        #    InventTrans         inventTrans;
        #
        #    select firstonly RecId from inventTransOrigin
        #        where inventTransOrigin.InventTransId == this.InventTransId
        #        exists join inventTrans
        #            where inventTransOrigin.RecId == inventTrans.InventTransOrigin
        #        exists join markedInventTransOrigin
        #            where inventTrans.MarkingRefInventTransOrigin ==        markedInventTransOrigin.RecId
        #                    && markedInventTransOrigin.ReferenceCategory == InventTransType::TransferOrderReceive;
        #
        #    return inventTransOrigin.RecId != 0 ? #ImageApprove : #ImageBlank2;
        #}
      ENDSOURCE
      SOURCE #hasInventTransGoodsInRoute_RU
        #public boolean hasInventTransGoodsInRoute_RU()
        #{
        #    InventTrans         inventTrans;
        #    InventTransOrigin   inventTransOrigin;
        #
        #    select firstonly RecId from inventTrans
        #        where inventTrans.InventTransOriginTransit_RU
        #    exists join inventTransOrigin
        #        where inventTransOrigin.RecId           == inventTrans.InventTransOrigin &&
        #              inventTransOrigin.InventTransId   == this.InventTransId;
        #
        #    return inventTrans.RecId != 0;
        #}
        #
      ENDSOURCE
      SOURCE #hasInventTransToDelivery_RU
        #public boolean hasInventTransToDelivery_RU()
        #{
        #    InventTrans         inventTrans;
        #    InventTransOrigin   inventTransOrigin;
        #
        #    select firstonly RecId from inventTrans
        #        where inventTrans.StatusIssue   == StatusIssue::Deducted
        #           && inventTrans.StatusReceipt == StatusReceipt::None
        #    exists join inventTransOrigin
        #        where inventTransOrigin.InventTransId     == this.InventTransId
        #           && inventTransOrigin.RecId             == inventTrans.InventTransOriginSales_RU
        #           && inventTransOrigin.ReferenceCategory == InventTransType::Sales
        #           && inventTransOrigin.ReferenceId       == this.SalesId;
        #
        #    return inventTrans.RecId != 0;
        #}
        #
      ENDSOURCE
      SOURCE #hasOnlyLineAmount
        #public boolean hasOnlyLineAmount()
        #{
        #    return this.PriceDiscLine::hasOnlyLineAmount();
        #}
      ENDSOURCE
      SOURCE #hasPriceDiscChangePolicy
        #/// <summary>
        #/// Determines whether any price discount policies exist for a <c>SalesLine</c> record.
        #/// </summary>
        #/// <returns>
        #/// true if price discount policies exist; otherwise, false.
        #/// </returns>
        #public boolean hasPriceDiscChangePolicy()
        #{
        #    return this.type().hasPriceDiscChangePolicy();
        #}
      ENDSOURCE
      SOURCE #inclTax
        #public boolean inclTax()
        #{
        #    return this.SalesPurchLine::inclTax();
        #}
      ENDSOURCE
      SOURCE #initBarcode
        #server void initBarcode(InventDim _inventDim = this.inventDim())
        #{
        #    InventItemBarcode   inventItemBarcode = InventItemBarcode::findSalesBarcodeDimension(this.ItemId, _inventDim);
        #
        #    this.BarCode        = inventItemBarcode.ItemBarCode;
        #    this.BarCodeType    = inventItemBarcode.BarcodeSetupId;
        #}
      ENDSOURCE
      SOURCE #initDefaultDimension
        #/// <summary>
        #/// Special default dimension update method based on the Sales line dimension rule parameter
        #/// </summary>
        #/// <param name="_ruleChange">
        #/// Caller rule change.
        #/// </param>
        #/// <param name="_inventEquipmentId">
        #/// Caller equipment Id or equipment dimension of the current line.
        #/// </param>
        #
        #// NAXT EQ0043 Dimension handling (KT8539)
        #public void initDefaultDimension(
        #    XAP_SalesLineDimensionRule  _ruleChange         = XAP_SalesLineDimensionRule::Fixed,
        #    XAP_InventEquipmentId       _inventEquipmentId  = InventDim::find(this.InventDimId).InventEquipmentId)
        #{
        #    /* <NAXT> - find method replaced and tranferred (salesTable -> ** inventTable -> ***
        #    SalesTable                              salesTable  = SalesTable::find(this.SalesId);
        #    InventTable                             inventTable = InventTable::find(this.ItemId);
        #    </NAXT> */
        #    // <GGH>
        #    SalesTable                              salesTable;
        #    InventTable                             inventTable;
        #    // </GGH>
        #
        #    XAP_OrderClass                          orderClass;
        #    XAP_DimensionAttributeOrderClassSetup   dimensionAttributeOrderClassSetup;
        #    DimensionAttribute                      dimensionAttribute;
        #
        #    DimensionValue                          dimensionValue;
        #    DimensionDefault                        defaultDimension;
        #    Map                                     dimensionSpecifier;
        #    boolean                                 setDimensionValue;
        #    boolean                                 removeDimensionValue;
        #
        #    // <NAXT_CU4>
        #    XAP_SvcSegmentTable                     svcSegmentTable;
        #    // </NAXT_CU4>
        #
        #    // <GGH>
        #    Map                                     cachedDimensionSpecifier;
        #    XAP_EquipmentTable                      equipmentTable;
        #    // </GGH>
        #
        #    // <NAXT> TFS_9614
        #    if (this.CoreInventTransId && this.DefaultDimension)
        #    {
        #        if (InventParameters::find().AutoFinancialDimensions)
        #        {
        #            return;
        #        }
        #    }
        #    // </NAXT> TFS_9614
        #    if (this.CreditNoteInvoiceId && this.CreditNoteInvoiceDate)
        #    {
        #        return;
        #    }
        #
        #    // <GGH> **
        #    select firstOnly OrderClassRecId,DefaultDimension from salesTable
        #        where salesTable.SalesId == this.SalesId;
        #    // </GGH>
        #
        #    if (!salesTable.OrderClassRecId)
        #    {
        #        return;
        #    }
        #
        #    /* <NAXT>
        #    orderClass = XAP_OrderClass::findOrderClass(salesTable.OrderClassRecId);
        #    </NAXT> */
        #    // <GGH>
        #    select firstOnly UseDimRelSales from orderClass
        #        where orderClass.RecId == salesTable.OrderClassRecId;
        #    // </GGH>
        #
        #    if (!orderClass.UseDimRelSales)
        #    {
        #        return;
        #    }
        #
        #    // <GGH> ***
        #    select firstOnly AddToBookValue,DefaultDimension,EnableSegmentOverride from inventTable
        #        where inventTable.ItemId == this.ItemId;
        #    // </GGH>
        #
        #    // <NAXT CU5>
        #    /* <NAXT>
        #    if (this.SubLineOf && !InventTable::isAffectBV(this.ItemId))
        #    </NAXT> */
        #    // <GGH>
        #    if (this.SubLineOf && !inventTable.AddToBookValue)
        #    // </GGH>
        #    {
        #        defaultDimension = SalesLine::getDefaultDimensionBySalesLineNum(this.SalesId, this.SubLineOf);
        #
        #        if (defaultDimension)
        #        {
        #            this.DefaultDimension = defaultDimension;
        #            return;
        #        }
        #    }
        #    // </NAXT CU5>
        #
        #    // <GGH>
        #    select firstOnly DefaultDimension from equipmentTable
        #        where equipmentTable.EquipmentId == _inventEquipmentId;
        #    // </GGH>
        #
        #    defaultDimension = this.DefaultDimension;
        #
        #    dimensionSpecifier = DimensionDefaultingEngine::getDefaultDimensionSpecifiers(defaultDimension);
        #
        #    /* <NAXT>
        #    while select OrderClass,DimensionAttribute,SalesLineDimensionRule,SalesLineDimensionRuleValue from dimensionAttributeOrderClassSetup
        #        where dimensionAttributeOrderClassSetup.OrderClass == salesTable.OrderClassRecId
        #        join dimensionAttribute
        #            where dimensionAttribute.RecId == dimensionAttributeOrderClassSetup.DimensionAttribute
        #    </NAXT> */
        #    // <GGH>
        #    while select OrderClass,DimensionAttribute,SalesLineRCDimensionRule,SalesLineRCDimensionRuleValue from dimensionAttributeOrderClassSetup
        #        where dimensionAttributeOrderClassSetup.OrderClass == salesTable.OrderClassRecId
        #        join dimensionAttribute
        #            where dimensionAttribute.RecId == dimensionAttributeOrderClassSetup.DimensionAttribute
        #    // </GGH>
        #    {
        #        setDimensionValue     = false;
        #        removeDimensionValue = false;
        #
        #        // <GGH> - Clear value
        #        dimensionValue = '';
        #        // </GGH>
        #
        #        /* <NAXT>
        #        switch (dimensionAttributeOrderClassSetup.SalesLineDimensionRule)
        #        </NAXT> */
        #        // <GGH>
        #        switch (dimensionAttributeOrderClassSetup.SalesLineRCDimensionRule)
        #        // </GGH>
        #        {
        #            case XAP_SalesLineDimensionRule::Header :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Header ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    /* NAXT
        #                    dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                            salesTable.DefaultDimension,
        #                                                            dimensionAttribute);
        #                    </NAXT> */
        #                    // <GGH> Cache info / read from cache
        #                    cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                    if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                    {
        #                        dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                    }
        #                    // </GGH>
        #
        #                    if (dimensionValue)
        #                    {
        #                        setDimensionValue = true;
        #                    }
        #                    else
        #                    {
        #                        removeDimensionValue = true;
        #                    }
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Item :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Item ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.ItemId)
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                inventTable.DefaultDimension,
        #                                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(inventTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        // <NAXT_CU4>
        #                        // If the sales order line connects to a service segment and the EnableSegmentOverride is active on the item (typically on misc items) and the InventTable have no dimension value
        #                        if (!dimensionValue && this.segmentId() && inventTable.EnableSegmentOverride)
        #                        {
        #                            // Then copy the dimension from the segment
        #                            select firstOnly Dimension from svcSegmentTable
        #                                where svcSegmentTable.RecId == this.segmentId();
        #
        #                            /* <NAXT>
        #                            dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                svcSegmentTable.Dimension,
        #                                                                dimensionAttribute);
        #                            </NAXT> */
        #                            // <GGH> Cache info / read from cache
        #                            cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(svcSegmentTable.Dimension);
        #
        #                            if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                            {
        #                                dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                            }
        #                            // </GGH>
        #                        }
        #                        // </NAXT_CU4>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        // <GGH>
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                        // </GGH>
        #
        #                    }
        #
        #                    if (!this.RecId && (!this.ItemId || !dimensionValue))
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                salesTable.DefaultDimension,
        #                                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Equipment :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Equipment ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (_inventEquipmentId)
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                XAP_EquipmentTable::find(_inventEquipmentId).DefaultDimension,
        #                                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(equipmentTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        // <GGH>
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                        // </GGH>
        #                    }
        #
        #                    if (!this.RecId && (!_inventEquipmentId || !dimensionValue))
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                salesTable.DefaultDimension,
        #                                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::None :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::None ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    dimensionValue       = '';
        #                    removeDimensionValue = true;
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Fixed :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    /* <NAXT>
        #                    dimensionValue    = dimensionAttributeOrderClassSetup.SalesLineDimensionRuleValue;
        #                    </NAXT> */
        #                    // <GGH>
        #                    dimensionValue    = dimensionAttributeOrderClassSetup.SalesLineRCDimensionRuleValue;
        #                    // </GGH>
        #
        #                    if (dimensionValue)
        #                    {
        #                        setDimensionValue = true;
        #                    }
        #                    else
        #                    {
        #                        removeDimensionValue = true;
        #                    }
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::ZipCode :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::ZipCode ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.DeliveryPostalAddress)
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                XAP_LogisticsAddressZipCodeSetup::findByZipCode(this.deliveryAddress().ZipCodeRecId).DefaultDimension,
        #                                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(XAP_LogisticsAddressZipCodeSetup::findByZipCode(this.deliveryAddress().ZipCodeRecId).DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        // <GGH>
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                        // </GGH>
        #                    }
        #
        #                    if (!this.RecId && (!this.DeliveryPostalAddress || !dimensionValue))
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                salesTable.DefaultDimension,
        #                                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Warehouse :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Warehouse ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    /* <NAXT>
        #                    if (this.inventDim().InventLocationId)
        #                    {
        #                        /*<NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                InventLocation::find(this.inventDim().InventLocationId).DefaultDimension,
        #                                                                dimensionAttribute);
        #                        <NAXT>*/
        #                    // <NAXT_CU4>
        #                    if (this.segmentId() && inventTable.EnableSegmentOverride)
        #                    {
        #                        // Then copy the dimension from the segment
        #                        select firstOnly Dimension from svcSegmentTable
        #                            where svcSegmentTable.RecId == this.segmentId();
        #
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                            svcSegmentTable.Dimension,
        #                                                            dimensionAttribute);
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                    // Otherwise copy from invent location
        #                    else
        #                    {
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                InventLocation::find(this.inventDim().InventLocationId).DefaultDimension,
        #                                                                dimensionAttribute);
        #                    }
        #                    // </NAXT_CU4>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                    }
        #                    </NAXT> */
        #                    // <GGH>
        #                    // If the sales order line connects to a service segment and the EnableSegmentOverride is active on the item (typically on misc items)
        #                    if (this.segmentId() && inventTable.EnableSegmentOverride)
        #                    {
        #                        // Then copy the dimension from the segment
        #                        select firstOnly Dimension from svcSegmentTable
        #                            where svcSegmentTable.RecId == this.segmentId();
        #
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                            svcSegmentTable.Dimension,
        #                                                            dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(svcSegmentTable.Dimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                    // Otherwise copy from invent location
        #                    else
        #                    {
        #                        if (this.inventDim().InventLocationId)
        #                        {
        #                            /* <NAXT>
        #                            dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                    InventLocation::find(this.inventDim().InventLocationId).DefaultDimension,
        #                                                                    dimensionAttribute);
        #                            </NAXT> */
        #                            // <GGH> Cache info / read from cache
        #                            cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(InventLocation::find(this.inventDim().InventLocationId).DefaultDimension);
        #
        #                            if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                            {
        #                                dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                            }
        #                            // </GGH>
        #
        #                            if (dimensionValue)
        #                            {
        #                                setDimensionValue = true;
        #                            }
        #                            else
        #                            {
        #                                removeDimensionValue = true;
        #                            }
        #                        }
        #                    }
        #                    // </GGH>
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Project :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Project ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.segmentId())
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                ProjTable::find(XAP_SvcSegment::getProjId(this.segmentId())).DefaultDimension,
        #                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(ProjTable::getDefaultDimension(XAP_SvcSegment::getProjId(this.segmentId())));
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                    else
        #                    {
        #                        if (this.ProjId)
        #                        {
        #                            /* <NAXT>
        #                            dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                    ProjTable::find(this.ProjId).DefaultDimension,
        #                                                    dimensionAttribute);
        #                            </NAXT> */
        #                            // <GGH> Cache info / read from cache
        #                            cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(ProjTable::getDefaultDimension(this.ProjId));
        #
        #                            if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                            {
        #                                dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                            }
        #                            // </GGH>
        #
        #                            if (dimensionValue)
        #                            {
        #                                setDimensionValue = true;
        #                            }
        #                            else
        #                            {
        #                                removeDimensionValue = true;
        #                            }
        #                        }
        #                    }
        #                }
        #
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::ServiceCall :
        #
        #                if (_ruleChange == XAP_SalesLineDimensionRule::ServiceCall ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.segmentId())
        #                    {
        #                        /* <NAXT>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                XAP_SvcCall::getDefaultDimension(XAP_SvcSegment::getSvcCallId(this.segmentId())),
        #                                                dimensionAttribute);
        #                        </NAXT> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(XAP_SvcCall::getDefaultDimension(XAP_SvcSegment::getSvcCallId(this.segmentId())));
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #
        #                break;
        #        }
        #
        #        if (setDimensionValue)
        #        {
        #            dimensionSpecifier = XAP_DimensionHandler::addDimensionSpecifierByDimAttribute(
        #                                                            dimensionSpecifier,
        #                                                            dimensionAttribute,
        #                                                            dimensionValue);
        #        }
        #        else
        #        {
        #            if (removeDimensionValue && dimensionSpecifier.exists(dimensionAttribute.RecId))
        #            {
        #                dimensionSpecifier.remove(dimensionAttribute.RecId);
        #            }
        #        }
        #    }
        #
        #    if (dimensionSpecifier && dimensionSpecifier.elements())
        #    {
        #        defaultDimension = XAP_DimensionHandler::createDimensionDefaultFromMap(dimensionSpecifier);
        #
        #        this.DefaultDimension = defaultDimension;
        #    }
        #    // <GGH>
        #    else
        #    {
        #        this.DefaultDimension = 0;
        #    }
        #    // </GGH>
        #}
      ENDSOURCE
      SOURCE #initDefaultDimensionIssue
        #/// <summary>
        #/// Special default dimension update method based on the Sales line dimension rule parameter
        #/// </summary>
        #/// <param name="_ruleChange">
        #/// Caller rule change.
        #/// </param>
        #/// <param name="_inventEquipmentId">
        #/// Caller equipment Id or equipment dimension of the current line.
        #/// </param>
        #// <GGH>
        #public void initDefaultDimensionIssue(
        #    XAP_SalesLineDimensionRule  _ruleChange         = XAP_SalesLineDimensionRule::Fixed,
        #    XAP_InventEquipmentId       _inventEquipmentId  = InventDim::find(this.InventDimId).InventEquipmentId)
        #{
        #    /* <GGH> - find method replaced and tranferred (salesTable -> ** inventTable -> ***
        #    SalesTable                              salesTable  = SalesTable::find(this.SalesId);
        #    InventTable                             inventTable = InventTable::find(this.ItemId);
        #    </GGH> */
        #    // <GGH>
        #    SalesTable                              salesTable;
        #    InventTable                             inventTable;
        #    // </GGH>
        #
        #    XAP_OrderClass                          orderClass;
        #    XAP_DimensionAttributeOrderClassSetup   dimensionAttributeOrderClassSetup;
        #    DimensionAttribute                      dimensionAttribute;
        #
        #    DimensionValue                          dimensionValue;
        #    DimensionDefault                        defaultDimension;
        #    Map                                     dimensionSpecifier;
        #    boolean                                 setDimensionValue;
        #    boolean                                 removeDimensionValue;
        #    boolean                                 validDimCfg;
        #
        #    XAP_SvcSegmentTable                     svcSegmentTable;
        #
        #    // <GGH>
        #    Map                                     cachedDimensionSpecifier;
        #    XAP_EquipmentTable                      equipmentTable;
        #    // </GGH>
        #
        #    if (this.CoreInventTransId && this.DefaultDimensionIssue)
        #    {
        #        if (InventParameters::find().AutoFinancialDimensions)
        #        {
        #            return;
        #        }
        #    }
        #
        #    if (this.CreditNoteInvoiceId && this.CreditNoteInvoiceDate)
        #    {
        #        return;
        #    }
        #
        #    // <GGH> **
        #    select firstOnly OrderClassRecId,DefaultDimension from salesTable
        #        where salesTable.SalesId == this.SalesId;
        #    // </GGH>
        #
        #    if (!salesTable.OrderClassRecId)
        #    {
        #        return;
        #    }
        #
        #    /* <GGH>
        #    orderClass = XAP_OrderClass::findOrderClass(salesTable.OrderClassRecId);
        #    </GGH> */
        #    // <GGH>
        #    select firstOnly UseDimRelSales from orderClass
        #        where orderClass.RecId == salesTable.OrderClassRecId;
        #    // </GGH>
        #
        #    if (!orderClass.UseDimRelSales)
        #    {
        #        return;
        #    }
        #
        #    // <GGH> ***
        #    select firstOnly AddToBookValue,DefaultDimension,EnableSegmentOverride from inventTable
        #        where inventTable.ItemId == this.ItemId;
        #    // </GGH>
        #
        #    defaultDimension    = this.DefaultDimensionIssue;
        #
        #    dimensionSpecifier  = DimensionDefaultingEngine::getDefaultDimensionSpecifiers(defaultDimension);
        #
        #    while select OrderClass, DimensionAttribute, SalesLineIssueDimensionRule, SalesLineIssueDimensionRuleValue from dimensionAttributeOrderClassSetup
        #        where dimensionAttributeOrderClassSetup.OrderClass == salesTable.OrderClassRecId
        #        join dimensionAttribute
        #            where dimensionAttribute.RecId == dimensionAttributeOrderClassSetup.DimensionAttribute
        #    {
        #        setDimensionValue       = false;
        #        removeDimensionValue    = false;
        #        validDimCfg             = true;
        #
        #        // <GGH> - Clear value
        #        dimensionValue = '';
        #        // </GGH>
        #
        #        switch (dimensionAttributeOrderClassSetup.SalesLineIssueDimensionRule)
        #        {
        #            case XAP_SalesLineDimensionRule::Header :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Header ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    /* <GGH>
        #                    dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(salesTable.DefaultDimension,
        #                                                                                        dimensionAttribute);
        #                    </GGH> */
        #                    // <GGH> Cache info / read from cache
        #                    cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                    if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                    {
        #                        dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                    }
        #                    // </GGH>
        #
        #                    if (dimensionValue)
        #                    {
        #                        setDimensionValue = true;
        #                    }
        #                    else
        #                    {
        #                        removeDimensionValue = true;
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Item :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Item ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.ItemId)
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(inventTable.DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(inventTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        // <GGH>
        #                        // If the sales order line connects to a service segment and the EnableSegmentOverride is active on the item (typically on misc items) and the InventTable have no dimension value
        #                        if (!dimensionValue && this.segmentId() && inventTable.EnableSegmentOverride)
        #                        {
        #                            // Then copy the dimension from the segment
        #                            select firstOnly Dimension from svcSegmentTable
        #                                where svcSegmentTable.RecId == this.segmentId();
        #
        #                            /* <GGH>
        #                            dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                                svcSegmentTable.Dimension,
        #                                                                dimensionAttribute);
        #                            </GGH> */
        #                            // <GGH> Cache info / read from cache
        #                            cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(svcSegmentTable.Dimension);
        #
        #                            if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                            {
        #                                dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                            }
        #                            // </GGH>
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #
        #                    }
        #
        #                    if (!this.RecId && (!this.ItemId || !dimensionValue))
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(salesTable.DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Equipment :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Equipment ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (_inventEquipmentId)
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(XAP_EquipmentTable::find(_inventEquipmentId).DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(equipmentTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #
        #                    if (!this.RecId && (!_inventEquipmentId || !dimensionValue))
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(salesTable.DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::None :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::None ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    dimensionValue       = '';
        #                    removeDimensionValue = true;
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Fixed :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    dimensionValue = dimensionAttributeOrderClassSetup.SalesLineIssueDimensionRuleValue;
        #
        #                    if (dimensionValue)
        #                    {
        #                        setDimensionValue = true;
        #                    }
        #                    else
        #                    {
        #                        removeDimensionValue = true;
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::ZipCode :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::ZipCode ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.DeliveryPostalAddress)
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(XAP_LogisticsAddressZipCodeSetup::findByZipCode(this.deliveryAddress().ZipCodeRecId).DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(XAP_LogisticsAddressZipCodeSetup::findByZipCode(this.deliveryAddress().ZipCodeRecId).DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #
        #                    if (!this.RecId && (!this.DeliveryPostalAddress || !dimensionValue))
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(salesTable.DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(salesTable.DefaultDimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Warehouse :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Warehouse ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    /* <NAXT-GGH>
        #                    dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(InventLocation::getDefaultDimension(InventDim::find(this.InventDimId).InventLocationId),
        #                                                                                        dimensionAttribute);
        #                    </NAXT-GGH> */
        #                    // <GGH>
        #                    // If the sales order line connects to a service segment and the EnableSegmentOverride is active on the item (typically on misc items)
        #                    if (this.segmentId() && inventTable.EnableSegmentOverride)
        #                    {
        #                        // Then copy the dimension from the segment
        #                        select firstOnly Dimension from svcSegmentTable
        #                            where svcSegmentTable.RecId == this.segmentId();
        #
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                            svcSegmentTable.Dimension,
        #                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(svcSegmentTable.Dimension);
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                    // Otherwise copy from invent location
        #                    else
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(InventLocation::getDefaultDimension(InventDim::find(this.InventDimId).InventLocationId),
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(InventLocation::getDefaultDimension(InventDim::find(this.InventDimId).InventLocationId));
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        else
        #                        {
        #                            dimensionValue = '';
        #                        }
        #                        // </GGH>
        #                    }
        #                    // </GGH>
        #
        #                    if (dimensionValue)
        #                    {
        #                        setDimensionValue = true;
        #                    }
        #                    else
        #                    {
        #                        removeDimensionValue = true;
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::Project :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::Project ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.segmentId())
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(ProjTable::find(XAP_SvcSegment::getProjId(this.segmentId())).DefaultDimension,
        #                                                                                            dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(ProjTable::getDefaultDimension(XAP_SvcSegment::getProjId(this.segmentId())));
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                    else
        #                    {
        #                        if (this.ProjId)
        #                        {
        #                            /* <GGH>
        #                            dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(ProjTable::find(this.ProjId).DefaultDimension,
        #                                                                                                dimensionAttribute);
        #                            </GGH> */
        #                            // <GGH> Cache info / read from cache
        #                            cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(ProjTable::getDefaultDimension(this.ProjId));
        #
        #                            if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                            {
        #                                dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                            }
        #                            // </GGH>
        #
        #                            if (dimensionValue)
        #                            {
        #                                setDimensionValue = true;
        #                            }
        #                            else
        #                            {
        #                                removeDimensionValue = true;
        #                            }
        #                        }
        #                    }
        #                }
        #                break;
        #
        #            case XAP_SalesLineDimensionRule::ServiceCall :
        #                if (_ruleChange == XAP_SalesLineDimensionRule::ServiceCall ||
        #                    _ruleChange == XAP_SalesLineDimensionRule::Fixed)
        #                {
        #                    if (this.segmentId())
        #                    {
        #                        /* <GGH>
        #                        dimensionValue = XAP_DimensionHandler::dimensionValueByDimAttribute(
        #                                                XAP_SvcCall::getDefaultDimension(XAP_SvcSegment::getSvcCallId(this.segmentId())),
        #                                                dimensionAttribute);
        #                        </GGH> */
        #                        // <GGH> Cache info / read from cache
        #                        cachedDimensionSpecifier = XAP_DimensionHandler::getDefaultDimensionSpecifiers(XAP_SvcCall::getDefaultDimension(XAP_SvcSegment::getSvcCallId(this.segmentId())));
        #
        #                        if (cachedDimensionSpecifier.exists(dimensionAttribute.RecId))
        #                        {
        #                            dimensionValue = cachedDimensionSpecifier.lookup(dimensionAttribute.RecId);
        #                        }
        #                        // </GGH>
        #
        #                        if (dimensionValue)
        #                        {
        #                            setDimensionValue = true;
        #                        }
        #                        else
        #                        {
        #                            removeDimensionValue = true;
        #                        }
        #                    }
        #                }
        #                break;
        #        }
        #
        #        if (setDimensionValue)
        #        {
        #            dimensionSpecifier = XAP_DimensionHandler::addDimensionSpecifierByDimAttribute(
        #                                                            dimensionSpecifier,
        #                                                            dimensionAttribute,
        #                                                            dimensionValue);
        #        }
        #        else
        #        {
        #            if (removeDimensionValue && dimensionSpecifier.exists(dimensionAttribute.RecId))
        #            {
        #                dimensionSpecifier.remove(dimensionAttribute.RecId);
        #            }
        #        }
        #    }
        #
        #    if (validDimCfg && dimensionSpecifier && dimensionSpecifier.elements())
        #    {
        #        defaultDimension = XAP_DimensionHandler::createDimensionDefaultFromMap(dimensionSpecifier);
        #
        #        this.DefaultDimensionIssue = defaultDimension;
        #    }
        #    else
        #    {
        #        this.DefaultDimensionIssue = 0;
        #    }
        #}
        #// </GGH>
      ENDSOURCE
      SOURCE #initFiscalDocumentType_BR
        #/// <summary>
        #/// Creates a fiscal document type reference for this sales line.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// Inventory dimension
        #/// </param>
        #/// <param name="_inventTable">
        #/// Item details
        #/// </param>
        #public void initFiscalDocumentType_BR(InventDim _inventDim = this.inventDim(), InventTable _inventTable = this.inventTable())
        #{
        #    SalesLine_BR salesLine_BR;
        #
        #    salesLine_BR = this.salesLine_BR();
        #
        #    salesLine_BR.FiscalDocumentType_BR =
        #        CustFiscalDocumentType_BR::findFiscalDocumentType(
        #            this.invoiceAccount(),
        #            _inventDim.inventSite().fiscalEstablishment(),
        #            _inventTable.ItemType);
        #
        #    this.packSalesLine_BR(salesLine_BR);
        #}
      ENDSOURCE
      SOURCE #initFromAgreementLine
        #/// <summary>
        #/// Initializes the <c>SalesLine</c> record from the <c>AgreementLine</c> record.
        #/// </summary>
        #/// <param name="_agreementLine">
        #/// The <c>AgreementLine</c> record from which to initialize the <c>SalesLine</c> record.
        #/// </param>
        #public void  initFromAgreementLine(AgreementLine _agreementLine)
        #{
        #    this.type().initFromAgreementLine(_agreementLine);
        #}
      ENDSOURCE
      SOURCE #initFromBOM
        #public void  initFromBOM(BOM        _bom,
        #                         SalesLine  _parentLine,
        #                         boolean    _resetPrice = true)
        #{
        #    InventDim   inventDim;
        #    InventDim   inventDimBom;
        #
        #    // <GEERU>
        #    InventProfileType_RU inventProfileTypeRU;
        #
        #    #ISOCountryRegionCodes
        #    // </GEERU>
        #    if (this.InventDimId)
        #    {
        #        inventDim = this.inventDim();
        #    }
        #
        #    this.ItemId                 = _bom.ItemId;
        #    this.ServiceOrderId         = _parentLine.ServiceOrderId;
        #
        #    if (_bom.ItemBOMId)
        #    {
        #        this.ItemBOMId          = _bom.ItemBOMId;
        #    }
        #
        #    inventDimBom = _bom.inventDim();
        #    EcoResProductDimGroupSetup::copyProductDimensionsForItem(this.ItemId, inventDimBom, inventDim);
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        if (EcoResDimensionGroupSetup::isInventoryDimensionActiveForItem(this.ItemId, fieldNum(InventDim, InventProfileId_RU)) &&
        #            ! inventDim.InventProfileId_RU)
        #        {
        #            if (! inventDim.InventProfileId_RU)
        #            {
        #                inventDim.InventProfileId_RU = _bom.inventDim().InventProfileId_RU;
        #            }
        #
        #            if (! inventDim.InventProfileId_RU)
        #            {
        #                inventDim.InventProfileId_RU = BOMParameters::find().InventProfileId_RU;
        #            }
        #
        #            inventProfileTypeRU = _parentLine.salesTable().salesTable_RU().InventProfileType_RU;
        #            if (inventProfileTypeRU && inventProfileTypeRU != inventDim.inventProfile_RU().InventProfileType)
        #            {
        #                throw error(strFmt("@GLS113739",
        #                               this.ItemId,
        #                               inventDim.InventProfileId_RU,
        #                               inventProfileTypeRU));
        #            }
        #        }
        #    }
        #    // </GEERU>
        #    inventDim.InventLocationId  = inventDimBom.InventLocationId;
        #    inventDim.initFromInventLocation(inventDim.inventLocation());
        #    this.setInventDimIdFromInventDim(inventDim);
        #
        #    /*<GGH_33586_LD>
        #    this.initFromInventTable(this.inventTable());
        #    */
        #    this.initFromInventTable(this.inventTable(),_resetPrice);
        #    //</GGH_33586_LD>
        #}
      ENDSOURCE
      SOURCE #initFromCustConfirmTrans
        #/// <summary>
        #///    Initializes a <c>SalesLine</c> table buffer based on an <c>CustConfirmTrans</c> table buffer.
        #/// </summary>
        #/// <param name="_custConfirmTrans">
        #///    The <c>CustConfirmTrans</c> table buffer that is to be initialized from.
        #/// </param>
        #/// <param name="_copyPrecisely">
        #///    A Boolean value that specifies whether to precisely copy all the account and tax details; optional.
        #/// </param>
        #/// <param name="_copyPriceDisc">
        #///    A Boolean value that specifies whether to copy the price discount fields; optional.
        #/// </param>
        #/// <param name="_copyQty">
        #///    A Boolean value that specifies whether to copy the quantify information; optional.
        #/// </param>
        #/// <param name="_qty">
        #///    A <c>quantity</c> object that sets the <c>SalesQty</c> field value of the new <c>SalesLine</c>
        #///    table buffer to be different than value of the other table buffer; optional.
        #/// </param>
        #/// <param name="_cwQty">
        #///    A catch weight quantity; optional.
        #/// </param>
        #public void  initFromCustConfirmTrans(CustConfirmTrans  _custConfirmTrans, boolean _copyPrecisely = true,
        #                                                                   boolean _copyPriceDisc = true,
        #                                                                   boolean _copyQty       = true,
        #                                                                   Qty     _qty           = _custConfirmTrans.Qty
        #                                                                   ,
        #                                                                   PdsCWInventQty   _cwQty = 0
        #                                                                    )
        #{
        #    SalesLineType  salesLineType;
        #    PdsCWInventQty  cwQty = _cwQty;
        #
        #
        #    if (#PdsCatchWeightEnabled && prmisDefault(_cwQty))
        #    {
        #        cwQty = _custConfirmTrans.PdsCWQty;
        #    }
        #    salesLineType = this.type();
        #    salesLineType.initFromCustConfirmTrans(_custConfirmTrans, _copyPrecisely, _copyPriceDisc, _copyQty, _qty
        #    , _cwQty
        #    );
        #}
      ENDSOURCE
      SOURCE #initFromCustExternalItemDescription
        #server public void initFromCustExternalItemDescription(InventDim _inventDim = this.inventDim())
        #{
        #    CustExternalItemDescription custExternalItemDescription = new CustExternalItemDescription(this.ItemId, _inventDim, this.CustAccount);
        #
        #    if (custExternalItemDescription.findExternalDescription())
        #    {
        #        this.ExternalItemId = custExternalItemDescription.externalItemId();
        #        if (custExternalItemDescription.externalItemFreeTxt())
        #        {
        #            if (CustFormletterParameters::find().ExternalItemOverwriteAppend == OverwriteAppend::Overwrite)
        #            {
        #                this.Name =  custExternalItemDescription.externalItemFreeTxt();
        #            }
        #            else
        #            {
        #                this.initName(this.inventTable());
        #                if (this.Name)
        #                {
        #                    this.Name += '\n';
        #                }
        #                this.Name += custExternalItemDescription.externalItemFreeTxt();
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromCustInvoice4PaymTrans_RU
        #public void initFromCustInvoice4PaymTrans_RU(
        #    CustInvoice4PaymTrans_RU _custInvoice4PaymTrans,
        #    boolean                  _copyPrecisely = true,
        #    boolean                  _copyPriceDisc = true,
        #    boolean                  _copyQty       = true,
        #    Qty                      _qty           = _custInvoice4PaymTrans.Qty
        #    , PdsCWInventQty         _pdsCWQty      = pdsIsCWItem(_custInvoice4PaymTrans.ItemId) ? _custInvoice4PaymTrans.PdsCWQty : 0
        #    )
        #{
        #    this.type().initFromCustInvoice4PaymTrans_RU(_custInvoice4PaymTrans,
        #                                                 _copyPrecisely,
        #                                                 _copyPriceDisc,
        #                                                 _copyQty,
        #                                                 _qty
        #                                                 ,_pdsCWQty
        #                                                 );
        #}
      ENDSOURCE
      SOURCE #initFromCustInvoiceTrans
        #/// <summary>
        #///    Initializes a <c>SalesLine</c> table buffer based on an <c>CustInvoiceTrans</c> table buffer.
        #/// </summary>
        #/// <param name="_custInvoiceTrans">
        #///    The <c>CustInvoiceTrans</c> table buffer that is to be initialized from.
        #/// </param>
        #/// <param name="_copyPrecisely">
        #///    A Boolean value that specifies whether to precisely copy all the account and tax details; optional.
        #/// </param>
        #/// <param name="_copyPriceDisc">
        #///    A Boolean value that specifies whether to copy the price discount fields; optional.
        #/// </param>
        #/// <param name="_copyQty">
        #///    A Boolean value that specifies whether to copy the quantify information; optional.
        #/// </param>
        #/// <param name="_qty">
        #///    A <c>quantity</c> object that sets the <c>SalesQty</c> field value of the new <c>SalesLine</c>
        #///    table buffer to be different than value of the other table buffer; optional.
        #/// </param>
        #/// <param name="_pdsCWQty">
        #///    A catch weight quantity; optional.
        #/// </param>
        #public void  initFromCustInvoiceTrans(CustInvoiceTrans  _custInvoiceTrans, boolean _copyPrecisely = true,
        #                                                                           boolean _copyPriceDisc = true,
        #                                                                           boolean _copyQty       = true,
        #                                                                           Qty     _qty           = _custInvoiceTrans.Qty
        #                                                                           ,PdsCWInventQty _pdsCWQty = pdsIsCWItem(_custInvoiceTrans.ItemId)
        #                                                                                                            ? _custInvoiceTrans.PdsCWQty : 0
        #                                                                            )
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromCustInvoiceTrans(
        #        _custInvoiceTrans,
        #        _copyPrecisely,
        #        _copyPriceDisc,
        #        _copyQty,
        #        _qty
        #        ,
        #        _pdsCWQty
        #        );
        #
        #}
      ENDSOURCE
      SOURCE #initFromCustPackingSlipTrans
        #/// <summary>
        #///    Initializes a <c>SalesLine</c> table buffer based on an <c>CustPackingSlipTrans</c> table buffer.
        #/// </summary>
        #/// <param name="_custPackingSlipTrans">
        #///    The <c>CustPackingSlipTrans</c> table buffer that is to be initialized from.
        #/// </param>
        #/// <param name="_copyPrecisely">
        #///    A Boolean value that specifies whether to precisely copy all the account and tax details; optional.
        #/// </param>
        #/// <param name="_copyPriceDisc">
        #///    A Boolean value that specifies whether to copy the price discount fields; optional.
        #/// </param>
        #/// <param name="_copyQty">
        #///    A Boolean value that specifies whether to copy the quantify information; optional.
        #/// </param>
        #/// <param name="_qty">
        #///    A <c>quantity</c> object that sets the <c>SalesQty</c> field value of the new <c>SalesLine</c>
        #///    table buffer to be different than value of the other table buffer; optional.
        #/// </param>
        #/// <param name="_cwQty">
        #///    A catch weight quantity; optional.
        #/// </param>
        #public void  initFromCustPackingSlipTrans(CustPackingSlipTrans _custPackingSlipTrans, boolean _copyPrecisely = true,
        #                                                                                      boolean _copyPriceDisc = true,
        #                                                                                      boolean _copyQty       = true,
        #                                                                                      Qty     _qty           = _custPackingSlipTrans.Qty
        #                                                                                      ,PdsCWInventQty _cwQty = 0
        #                                                                                      )
        #{
        #    SalesLineType  salesLineType;
        #    PdsCWInventQty  cwQty = _cwQty;
        #
        #    if (#PdsCatchWeightEnabled && prmisDefault(_cwQty))
        #    {
        #        cwQty = _custPackingSlipTrans.PdsCWQty;
        #    }
        #    salesLineType = this.type();
        #    salesLineType.initFromCustPackingSlipTrans(_custPackingSlipTrans, _copyPrecisely, _copyPriceDisc, _copyQty, _qty
        #    ,
        #    cwQty
        #    );
        #}
      ENDSOURCE
      SOURCE #initFromCustQuotationTrans
        #/// <summary>
        #/// Initializes a <c>SalesLine</c> table buffer that is based on a <c>CustQuotationTrans</c> table
        #/// buffer.
        #/// </summary>
        #/// <param name="_custQuotationTrans">
        #/// The <c>CustQuotationTrans</c> table from which to initialize the <c>SalesLine</c> table buffer.
        #/// </param>
        #/// <param name="_copyPrecisely">
        #/// A Boolean value that indicates whether to exactly copy all of the account and tax details; optional.
        #/// </param>
        #/// <param name="_copyPriceDisc">
        #/// A Boolean value that indicates whether to copy the price discount fields; optional.
        #/// </param>
        #/// <param name="_copyQty">
        #/// A Boolean value that indicates whether to copy the quantify information; optional.
        #/// </param>
        #/// <param name="_qty">
        #/// A <c>quantity</c> object that sets the <c>SalesQty</c> field value of the new <c>SalesLine</c>
        #/// table buffer to differ from value of the other table buffer; optional.
        #/// </param>
        #public void  initFromCustQuotationTrans(CustQuotationTrans  _custQuotationTrans, boolean _copyPrecisely = true,
        #                                                                                 boolean _copyPriceDisc = true,
        #                                                                                 boolean _copyQty       = true,
        #                                                                                 Qty     _qty           = _custQuotationTrans.Qty)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromCustQuotationTrans(_custQuotationTrans, _copyPrecisely, _copyPriceDisc, _copyQty, _qty);
        #}
      ENDSOURCE
      SOURCE #initFromCustTable
        #server public void  initFromCustTable()
        #{
        #    LogisticsLocationEntity location;
        #    CustTable               custTable = CustTable::find(this.CustAccount);
        #
        #    this.CustAccount                = custTable.AccountNum;
        #    this.DeliveryName               = custTable.name();
        #
        #    location = LogisticsLocationEntity::constructFromLocationRecId(LogisticsLocationDefault::findSimpleDefault(
        #        custTable, LogisticsLocationRole::findBytype(LogisticsLocationRoleType::Delivery)).RecId);
        #
        #    this.DeliveryPostalAddress = location.getPostalAddress().RecId;
        #
        #    this.setTaxGroup(TaxSales::custTaxGroup(custTable.DlvTerm, custTable.TaxGroup));
        #
        #    if (location && location.parmLocationRecId())
        #    {
        #        this.setLocation(location.parmLocationRecId());
        #    }
        #
        #    this.setListCode();
        #    if (custTable && custTable.TaxWithholdCalculate_TH)
        #    {
        #        this.TaxWithholdGroup = custTable.TaxWithholdGroup_TH;
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromCustTableAddressFields
        # /// <summary>
        #/// Initializes the delivery address from the customer.
        #/// </summary>
        #/// <param name="_custTable">
        #/// Initializes from this customer; optional;
        #/// </param>
        #// <NAXT>
        #server void initFromCustTableAddressFields(CustTable _custTable = this.salesTable().custTable_CustAccount())
        #{
        #    LogisticsLocation       location;
        #    LogisticsLocationEntity locationEntity;
        #
        #    location = LogisticsLocationDefault::findSimpleDefault(_custTable, LogisticsLocationRole::findBytype(
        #        LogisticsLocationRoleType::Delivery));
        #    if (location.RecId)
        #    {
        #        locationEntity = LogisticsLocationEntity::constructFromLocationRecId(location.RecId);
        #        this.DeliveryPostalAddress  = locationEntity.getPostalAddress().RecId;
        #        this.AddressRefRecId        = _custTable.RecId;
        #        this.AddressRefTableId      = _custTable.TableId;
        #
        #        this.setDeliveryName();
        #    }
        #}
        #// </NAXT>
        #
      ENDSOURCE
      SOURCE #initFromEquipmentTable
        #/// <summary>
        #/// Initalize equipment information from Equipment
        #/// </summary>
        #/// <param name="equipmentTable">
        #/// The source to initialize from
        #/// </param>
        #// NAXT
        #public void initFromEquipmentTable(XAP_EquipmentTable equipmentTable)
        #{
        #    XAP_MachineType     machineType;
        #    ;
        #    this.EquipmentSIS       = equipmentTable.RecId;
        #    this.InventSerialIdSIS  = equipmentTable.InventSerialId;
        #    this.MachineTypeId      = equipmentTable.MachineType;
        #
        #    if (this.MachineTypeId)
        #    {
        #        select firstonly MachineManufacturer from machineType
        #            where machineType.RecId == this.MachineTypeId;
        #
        #        this.MachineManufacturerId = machineType.MachineManufacturer;
        #    }
        #    else
        #    {
        #        this.MachineManufacturerId = 0;
        #    }
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #initFromInventTable
        #/// <summary>
        #/// Updates the <c>SalesLine</c> based on the given item.
        #/// </summary>
        #/// <param name="_inventTable">
        #///     The <c>InventTable</c> buffer to initialize from.
        #/// </param>
        #/// <param name="_resetPrice">
        #///     A boolean value indicating whether to reset price.
        #/// </param>
        #/// <param name="_doReplacement">
        #///     A boolean value indicating whether todo replacement.
        #/// </param>
        #/*<NAXT>
        #public server void initFromInventTable(InventTable _inventTable, boolean _resetPrice = true)
        #<NAXT>*/
        #//<NAXT_CU5>
        #public server void initFromInventTable(InventTable _inventTable, boolean _resetPrice = true, boolean  _doReplacement = true)
        #//<NAXT_CU5>
        #{
        #    container               salesLineContainer;
        #    XppILExecutePermission  xppILExecutePermission;
        #
        #    // <GIN>
        #    // <GBR>
        #    SalesLine               salesLineLoc;
        #    boolean                 isBrazilEnabled = BrazilParameters::isEnabled();
        #    // </GBR>
        #    #ISOCountryRegionCodes
        #    boolean                 isoIN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
        #    // </GIN>
        #
        #    //PTI - 20121005 - begin
        #    if (appl.ttsLevel() == 0)
        #    {
        #        this.type().initFromInventTable(_inventTable, _resetPrice, _doReplacement); //<CCPA - T42549 - mivan>
        #        return;
        #    }
        #    //PTI - 20121005 - end
        #
        #    xppILExecutePermission = new XppILExecutePermission();
        #    xppILExecutePermission.assert();
        #
        #    // <GIN><GBR>
        #    if (isoIN || isBrazilEnabled)
        #    {
        #        salesLineLoc = this.data();
        #
        #        if (isoIN)
        #        {
        #            salesLineLoc.packSalesLine_IN(this.salesLine_IN().data());
        #        }
        #        else if (isBrazilEnabled)
        #        {
        #            salesLineLoc.packSalesLine_BR(this.salesLine_BR().data());
        #        }
        #
        #        salesLineContainer = runTableMethodIL(tableStr(SalesLine),
        #                        tableStaticMethodStr(SalesLine, initFromInventTableIL),
        #                        [buf2Con(salesLineLoc, true), buf2Con(_inventTable, true), _resetPrice]);
        #    }
        #    else
        #    {
        #    // </GBR></GIN>
        #        salesLineContainer = runTableMethodIL(tableStr(SalesLine),
        #                        tableStaticMethodStr(SalesLine, initFromInventTableIL),
        #                        [buf2Con(this, true), buf2Con(_inventTable, true), _resetPrice]);
        #    // <GIN><GBR>
        #    }
        #    // </GBR></GIN>
        #
        #    CodeAccessPermission::revertAssert();
        #
        #    // <GIN><GBR>
        #    if (isoIN || isBrazilEnabled)
        #    {
        #        salesLineLoc.con2buf(salesLineContainer);
        #        this.con2buf(salesLineContainer);
        #
        #        if (isoIN)
        #        {
        #            this.salesLine_IN().data(salesLineLoc.salesLine_IN());
        #        }
        #        else if (isBrazilEnabled)
        #        {
        #            this.salesLine_BR().data(salesLineLoc.salesLine_BR());
        #        }
        #    }
        #    else
        #    {
        #    // </GBR></GIN>
        #        this.con2buf(salesLineContainer);
        #    // <GIN><GBR>
        #    }
        #    // </GBR></GIN>
        #}
      ENDSOURCE
      SOURCE #initFromInvoiceScheduleLine
        #/// <summary>
        #///    Initiates a <c>SalesLine</c> record with values based on an <c>XAP_InvoiceScheduleLine</c> record.
        #/// </summary>
        #/// <param name="_invoiceScheduleLine">
        #///    A <c>XAP_InvoiceScheduleLine</c> record to initiate from.
        #/// </param>
        #//JA_20120203_InvSched
        #public void  initFromInvoiceScheduleLine(XAP_InvoiceScheduleLine _invoiceScheduleLine)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromInvoiceScheduleLine(_invoiceScheduleLine);
        #}
      ENDSOURCE
      SOURCE #initFromItemOrCategory
        #public void initFromItemOrCategory(ItemId _itemId, SalesCategory _salesCategory, ItemFreeTxt _name)
        #{
        #    this.type().initFromItemOrCategory(_itemId, _salesCategory, _name);
        #}
      ENDSOURCE
      SOURCE #initFromOrderLineWithMultipleDeliveries
        #/// <summary>
        #/// Initializes a delivery line, depending on the order line.
        #/// </summary>
        #/// <param name="_salesLine">
        #/// The specified order line to use to initialize values.
        #/// </param>
        #/// <param name="_onlyCommercialAttributes">
        #/// A Boolean value that indicates whether only commercial attributes are initialized; optional.
        #/// </param>
        #/// <remarks>
        #/// When the <paramref name="_onlyCommercialAttributes" /> parameter is true it is used to reset
        #/// commercial attributes on an existing delivery line. When the <paramref
        #/// name="_onlyCommercialAttributes" /> parameter is false it is used to initialize new delivery lines.
        #/// </remarks>
        #public void initFromOrderLineWithMultipleDeliveries(SalesLine _salesLine, boolean _onlyCommercialAttributes = false)
        #{
        #    if (!_onlyCommercialAttributes)
        #    {
        #        this.initFromSalesTable(_salesLine.salesTable());
        #        this.initFromSalesLine(_salesLine, true, false, false);
        #
        #        this.SalesUnit               = _salesLine.SalesUnit;
        #        this.DeliveryDateControlType = _salesLine.DeliveryDateControlType;
        #        this.ReceiptDateRequested    = _salesLine.ReceiptDateRequested;
        #        this.ShippingDateRequested   = _salesLine.ShippingDateRequested;
        #        this.ShippingDateConfirmed   = _salesLine.ShippingDateConfirmed;
        #        this.ReceiptDateConfirmed    = _salesLine.ReceiptDateConfirmed;
        #        this.ConfirmedDlv            = _salesLine.ConfirmedDlv;
        #
        #        this.MatchingAgreementLine   = _salesLine.MatchingAgreementLine;
        #
        #        this.LineDeliveryType        = LineDeliveryType::DeliveryLine;
        #    }
        #
        #    this.SalesPrice         = _salesLine.SalesPrice;
        #    this.PriceUnit          = _salesLine.PriceUnit;
        #    this.LinePercent        = _salesLine.LinePercent;
        #    this.LineDisc           = _salesLine.LineDisc;
        #    this.MultiLnDisc        = _salesLine.MultiLnDisc;
        #    this.MultiLnPercent     = _salesLine.MultiLnPercent;
        #    this.SalesMarkup        = _salesLine.SalesMarkup;
        #    this.LineAmount         = this.calcLineAmountForced();
        #}
      ENDSOURCE
      SOURCE #initFromPriceDisc
        #public void initFromPriceDisc(PriceDisc_Price _priceDisc,
        #    PriceDiscPolicyCheckPolicy _checkPolicy = null,
        #    boolean _initDateFields = true)
        #{
        #    // <GIN>
        #    SalesLine_IN salesLine_IN;
        #
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_IN = this.salesLine_IN();
        #        salesLine_IN.MaximumRetailPrice_IN = _priceDisc.maxRetailPrice_IN();
        #        this.packSalesLine_IN(salesLine_IN);
        #    }
        #    // </GIN>
        #
        #    /* <SYS>
        #    this.SalesPurchLine::setPriceDiscPriceUnitMarkup(_priceDisc, _checkPolicy);
        #    </SYS> */
        #    // <NAXT>
        #    this.SalesPurchLine::setPriceDiscPriceUnitMarkup(_priceDisc, _checkPolicy, this.FreezePrice);
        #    // </NAXT>
        #
        #    if (!this.RecId || !this.ShippingDateRequested || !this.ReceiptDateRequested)
        #    {
        #        if (!this.ShippingDateRequested)
        #        {
        #            this.ShippingDateRequested = this.salesTable().ShippingDateRequested;
        #        }
        #
        #        if (!this.ReceiptDateRequested)
        #        {
        #            this.ReceiptDateRequested = this.salesTable().ReceiptDateRequested;
        #        }
        #    }
        #    if (_initDateFields)
        #    {
        #        SalesCalcAvailableDlvDates::initDateFields(this,_priceDisc);
        #    }
        #
        #    // <NAXT>
        #    this.MarkupPercentage     = _priceDisc.markupPercentage();
        #    // </NAXT>
        #
        #    this.FindBest             = _priceDisc.parmFindBest() == true ? UnknownNoYes::Yes : UnknownNoYes::No; //GGH 29972
        #}
      ENDSOURCE
      SOURCE #initFromProductDimensions
        #server public void initFromProductDimensions(InventDim _inventDim = this.inventDim())
        #{
        #    this.initName();
        #    this.initFromCustExternalItemDescription(_inventDim);
        #    this.calcPackingUnit(_inventDim);
        #    this.initBarcode(_inventDim);
        #    this.initRetailVariantId(_inventDim);
        #    this.calculateCostPrice(_inventDim);
        #}
      ENDSOURCE
      SOURCE #initFromProjActivity
        #public void initFromProjActivity(ProjActivity _projActivity)
        #{
        #    if (!_projActivity || !_projActivity.CategoryDefault)
        #    {
        #        return;
        #    }
        #
        #    this.ProjCategoryId = _projActivity.CategoryDefault;
        #}
        #
      ENDSOURCE
      SOURCE #initFromProjInvoiceItem
        #/// <summary>
        #/// Initializes a <c>SalesLine</c> table buffer that is based on a <c>ProjInvoiceItem</c> table buffer.
        #/// </summary>
        #/// <param name="_projInvoiceItem">
        #/// The <c>_projInvoiceItem</c> table buffer that will be copied.
        #/// </param>
        #/// <param name="_copyPrecisely">
        #/// A Boolean value that indicates whether to exactly copy all of the account and tax details; optional.
        #/// </param>
        #/// <param name="_copyPriceDisc">
        #/// A Boolean value that indicates whether to copy the price discount fields; optional.
        #/// </param>
        #/// <param name="_copyQty">
        #/// A Boolean value that indicates whether to copy the quantify information; optional.
        #/// </param>
        #/// <param name="_qty">
        #/// A <c>quantity</c> object that sets the <c>SalesQty</c> field value of the new <c>SalesLine</c>
        #/// table buffer to differ from the value of the other table buffer; optional.
        #/// </param>
        #public void  initFromProjInvoiceItem(ProjInvoiceItem  _projInvoiceItem, boolean _copyPrecisely = true,
        #                                                                        boolean _copyPriceDisc = true,
        #                                                                        boolean _copyQty       = true,
        #                                                                        Qty     _qty           = _projInvoiceItem.Qty)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromProjInvoiceItem(_projInvoiceItem, _copyPrecisely, _copyPriceDisc, _copyQty, _qty);
        #}
      ENDSOURCE
      SOURCE #initFromProjTable
        #public void initFromProjTable(ProjTable             _projTable,
        #                              boolean               _setCurrency       = true)
        #{
        #    SalesTable          salesTable;
        #    ProjInvoiceTable    projInvoiceTable    = _projTable.projInvoice();
        #
        #    if (_setCurrency)
        #    {
        #        this.CurrencyCode   = _projTable.currencyId();
        #    }
        #
        #    if (! ProjValProjCategorySetUp::checkProjCategory(this.ProjId,this.ProjCategoryId))
        #        this.ProjCategoryId = '';
        #
        #    this.setProjLinePropertyId();
        #
        #    if (this.ProjId)
        #    {
        #        switch (this.SalesType)
        #        {
        #            case SalesType::Sales     :
        #                salesTable = _projTable.salesTable_SalesOrder(this.CurrencyCode);
        #                break;
        #
        #            case SalesType::ItemReq   :
        #                /* <SYS>
        #                salesTable = _projTable.salesTable_ItemReq(this.CurrencyCode);
        #                </SYS> */
        #                // <GGH>
        #                salesTable = salesTable::findOrCreateSalesTable_ItemReq(_projTable.Type().custAccount(), this.CurrencyCode, _projTable.ProjId);
        #                // </GGH>
        #                break;
        #            //PCs_20111105_22285_AddEstimateToSegments - begin
        #            case SalesType::Journal   :
        #                select firstonly salesTable
        #                    where salesTable.SalesType  == SalesType::Journal
        #                      &&  salesTable.ProjId     == this.ProjId;
        #                break;
        #            //PCs_20111105_22285_AddEstimateToSegments - end
        #
        #            default :
        #                salesTable = _projTable.salesTable_ItemReq(this.CurrencyCode);
        #        }
        #
        #        if (!salesTable)
        #        {
        #            switch (this.SalesType)
        #            {
        #                case SalesType::Sales     :
        #                    salesTable = _projTable.createSalesTable_sales(this.CurrencyCode);
        #                    break;
        #
        #                case SalesType::ItemReq   :
        #                    /* <SYS>
        #                    salesTable = _projTable.createSalesTable_ItemReq(this.CurrencyCode);
        #                    </SYS> */
        #                    // <GGH>
        #                    salesTable = salesTable::findOrCreateSalesTable_ItemReq(_projTable.Type().custAccount(), this.CurrencyCode, _projTable.ProjId);
        #                    // </GGH>
        #                    break;
        #
        #                default                     :
        #                    salesTable = _projTable.createSalesTable_ItemReq(this.CurrencyCode);
        #            }
        #        }
        #
        #        /* <NAXT>
        #        this.initFromSalesTable(salesTable);
        #        </NAXT> */
        #        // <NAXT_CU5>
        #        this.initFromSalesTable(salesTable, this.CoreInventTransId != '');
        #        // </NAXT_CU5>
        #
        #        // if this sales line is created from a project, then always initialize its delivery address fields with that of the project.
        #        this.setAddressFromProjTable(_projTable);
        #
        #        //<GIN>
        #        if (TaxParameters::checkTaxParameters_IN())
        #        {
        #            this.initFromProjTable_IN(_projTable);
        #        }
        #        // </GIN>
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromProjTable_IN
        #/// <summary>
        #/// Initializing the India Tax Information related fields of <c> ProjJournalTransTaxExtensionIN </c> table from given <c> projTableTaxExtensionIN </c> record..
        #/// </summary>
        #/// <param name="_projTable">
        #/// Buffer of <c> ProjTable </c>.
        #/// </param>
        #public void initFromProjTable_IN(ProjTable _projTable)
        #{
        #    ProjTableTaxExtensionIN projTableTaxExtensionIN = ProjTableTaxExtensionIN::findByProjTable(_projTable.RecId);
        #    SalesLine_IN            salesLine_IN = this.salesLine_IN();
        #
        #    salesLine_IN.ExciseRecordType_IN            = projTableTaxExtensionIN.ExciseRecordType;
        #    salesLine_IN.ExciseTariffCodes_IN           = projTableTaxExtensionIN.ExciseTariffCodes;
        #    salesLine_IN.ExciseType_IN                  = projTableTaxExtensionIN.ExciseType;
        #    salesLine_IN.ExportOrder_IN                 = TaxInformationCustTable_IN::findByCustTable(this.CustAccount).IsForeign;
        #    salesLine_IN.Consignment_IN                 = projTableTaxExtensionIN.Consignment;
        #    salesLine_IN.dsa_in                         = projTableTaxExtensionIN.dsa;
        #    salesLine_IN.DirectSettlement_IN            = projTableTaxExtensionIN.DirectSettlement;
        #    salesLine_IN.CustomsTariffCodeTable_IN      = projTableTaxExtensionIN.CustomsTariffCodeTable;
        #    salesLine_IN.CompanyLocation_IN             = projTableTaxExtensionIN.CompanyLocation;
        #    salesLine_IN.TaxInformation                 = projTableTaxExtensionIN.TaxInformation;
        #    salesLine_IN.SalesTaxFormTypes_IN           = projTableTaxExtensionIN.SalesTaxFormTypes;
        #    salesLine_IN.ServiceCodeTable_IN            = projTableTaxExtensionIN.ServiceCodeTable;
        #    salesLine_IN.TaxInventVATCommodityCode_IN   = TaxInventVATCommodityCode_IN::findByCommodityCode(projTableTaxExtensionIN.TaxInventVATCommodityCodeId).RecId;
        #    this.packSalesLine_IN(salesLine_IN);
        #}
      ENDSOURCE
      SOURCE #initFromPurchLine
        #/// <summary>
        #/// Initializes a <c>SalesLine</c> record with values that are based on a <c>PurchLine</c> record.
        #/// </summary>
        #/// <param name="_purchLine">
        #/// A <c>PurchLine</c> record from which to initializes the <c>SalesLine</c> record.
        #/// </param>
        #public void  initFromPurchLine(PurchLine _purchLine)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromPurchLine(_purchLine);
        #}
      ENDSOURCE
      SOURCE #initFromPurchLineInterCompany_IN
        #/// <summary>
        #/// Initializing the <c> TaxInformation_IN </c> field of <c> SalesLine </c> table from given <c> PurchLine </c> record.
        #/// </summary>
        #/// <param name="_purchLine">
        #/// Buffer of <c> PurchLine </c>
        #/// </param>
        #// <GIN>
        #public void  initFromPurchLineInterCompany_IN(PurchLine _purchLine)
        #{
        #    SalesLineType  salesLineType;
        #    ;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromPurchLineInterCompany_IN(_purchLine);
        #}
        #// </GIN>
        #
      ENDSOURCE
      SOURCE #initFromRetailStoreTable_IN
        #/// <summary>
        #/// Inits India tax information of sales line from retail store table.
        #/// </summary>
        #/// <param name="_retailStoreTable">
        #/// The specified <c>RetailStoreTable</c>.
        #/// </param>
        #// <GIN>
        #public void  initFromRetailStoreTable_IN(RetailStoreTable _retailStoreTable)
        #{
        #    this.type().initFromRetailStoreTable_IN(_retailStoreTable);
        #}
        #// </GIN>
        #
      ENDSOURCE
      SOURCE #initFromSalesBasketLine
        #/// <summary>
        #/// Initializes a <c>SalesLine</c> record with values that are based on a <c>SalesBasketLine</c> record.
        #/// </summary>
        #/// <param name="_salesBasketLine">
        #/// A <c>SalesBasketLine</c> record from which to initializes the <c>SalesLine</c> record.
        #/// </param>
        #public void  initFromSalesBasketLine(SalesBasketLine _salesBasketLine)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromSalesBasketLine(_salesBasketLine);
        #}
      ENDSOURCE
      SOURCE #initFromSalesBasketLinePBA
        #public void initFromSalesBasketLinePBA(SalesBasketLine _salesBasketLine)
        #{
        #    this.ItemBOMId          = _salesBasketLine.ItemBOMId;
        #    this.ItemRouteId        = _salesBasketLine.ItemRouteId;
        #    this.ItemPBAId          = _salesBasketLine.ItemPBAId;
        #    if ( _salesBasketLine.ConfirmedDlv )
        #    {
        #        this.ConfirmedDlv          = _salesBasketLine.ConfirmedDlv;
        #        this.ShippingDateConfirmed = _salesBasketLine.ConfirmedDlv;
        #        this.ReceiptDateConfirmed  = _salesBasketLine.ConfirmedDlv;
        #
        #    }
        #    if ( _salesBasketLine.SalesPrice )
        #    {
        #        this.SalesPrice     = _salesBasketLine.SalesPrice;
        #        this.LineAmount     = this.calcLineAmount(this.SalesQty);
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromSalesCreateReleaseOrderLineTmp
        #/// <summary>
        #/// Initializes a <c>SalesLine</c> record from a <c>SalesCreateReleaseOrderLineTmp</c> record.
        #/// </summary>
        #/// <param name="_salesCreateReleaseOrderLineTmp">
        #/// The <c>SalesCreateReleaseOrderLineTmp</c> record from which to initialize the <c>SalesLine</c>
        #/// record.
        #/// </param>
        #public void initFromSalesCreateReleaseOrderLineTmp(SalesCreateReleaseOrderLineTmp _salesCreateReleaseOrderLineTmp)
        #{
        #    // <GIN>
        #    SalesLine_IN salesLine_IN;
        #    // </GIN>
        #
        #    this.setInventDimId(_salesCreateReleaseOrderLineTmp.InventDimId);
        #    this.SalesUnit               = _salesCreateReleaseOrderLineTmp.Units;
        #    this.QtyOrdered              = _salesCreateReleaseOrderLineTmp.SalesQty;
        #    this.SalesQty                = _salesCreateReleaseOrderLineTmp.SalesQty;
        #    this.ConfirmedDlv            = _salesCreateReleaseOrderLineTmp.ShippingDateRequested;
        #    this.DlvMode                 = _salesCreateReleaseOrderLineTmp.DlvMode;
        #    this.DeliveryDateControlType = _salesCreateReleaseOrderLineTmp.DeliveryDateControlType;
        #    this.ShippingDateRequested   = _salesCreateReleaseOrderLineTmp.ShippingDateRequested;
        #    this.ReceiptDateRequested    = _salesCreateReleaseOrderLineTmp.ReceiptDateRequested;
        #    this.DeliveryPostalAddress   = _salesCreateReleaseOrderLineTmp.DeliveryPostalAddress;
        #    this.DeliveryName            = _salesCreateReleaseOrderLineTmp.DeliveryName;
        #    this.AddressRefRecId         = _salesCreateReleaseOrderLineTmp.AddressRefRecId;
        #    this.AddressRefTableId       = _salesCreateReleaseOrderLineTmp.AddressRefTableId;
        #    this.PdsCWQty                = _salesCreateReleaseOrderLineTmp.PdsCWQty;
        #
        #    // <GIN>
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_IN = this.salesLine_IN();
        #        salesLine_IN.CompanyLocation_IN      = this.DeliveryPostalAddress ? this.deliveryLocation() :  CompanyInfo::find().postalAddress().Location;
        #        salesLine_IN.TaxInformation          = TaxInformation_IN::findDefaultbyLocation(salesLine_IN.CompanyLocation_IN).RecId;
        #        this.packSalesLine_IN(salesLine_IN);
        #    }
        #    // </GIN>
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromSalesLine
        #/// <summary>
        #///    Initializes a <c>SalesLine</c> table buffer based on another <c>SalesLine</c> table buffer.
        #/// </summary>
        #/// <param name="_salesLine">
        #///    The <c>SalesLine</c> table buffer that is to be copied.
        #/// </param>
        #/// <param name="_copyPrecisely">
        #///    A Boolean value that specifies whether to precisely copy all the account and tax details; optional.
        #/// </param>
        #/// <param name="_copyPriceDisc">
        #///    A Boolean value that specifies whether to copy the price discount fields; optional.
        #/// </param>
        #/// <param name="_copyQty">
        #///    A Boolean value that specifies whether to copy the quantify information; optional.
        #/// </param>
        #/// <param name="_qty">
        #///    A <c>quantity</c> object that sets the <c>SalesQty</c> field value of the new <c>SalesLine</c>
        #///    table buffer to be different than value of the other table buffer; optional.
        #/// </param>
        #/// <param name="_cwQty">
        #///    A catch weight quantity; optional.
        #/// </param>
        #/// <param name="_copyEquipmentSerialNum">
        #///    A Boolean value that specifies whether to copy the equipment serial number information; optional.
        #/// </param>
        #public void  initFromSalesLine(SalesLine  _salesLine, boolean _copyPrecisely = true,
        #                                                      boolean _copyPriceDisc = true,
        #                                                      boolean _copyQty       = true,
        #                                                      Qty     _qty           = _salesLine.SalesQty
        #                                                      ,PdsCWInventQty _cwQty = 0
        #                                                      , boolean _copyEquipmentSerialNum = false // NAXT EQ0062 Sales and purch copying
        #                                                      )
        #{
        #    SalesLineType  salesLineType;
        #    PdsCWInventQty  cwQty = _cwQty;
        #
        #    if (#PdsCatchWeightEnabled && prmisDefault(_cwQty))
        #    {
        #        cwQty = _salesLine.PdsCWQty;
        #    }
        #    salesLineType = this.type();
        #    salesLineType.initFromSalesLine(_salesLine, _copyPrecisely, _copyPriceDisc, _copyQty, _qty
        #    ,
        #    cwQty
        #    // NAXT EQ0062 Sales and purch copying - begin
        #    ,
        #    _copyEquipmentSerialNum
        #    // NAXT EQ0062 Sales and purch copying - end
        #    );
        #}
      ENDSOURCE
      SOURCE #initFromSalesLine_IN
        #/// <summary>
        #/// Initializes the fields of <c> SalesLine </c> from given <c> SalesLine </c> buffer.
        #/// </summary>
        #/// <param name="_salesLine">
        #/// Buffer of <c> SalesLine </c>.
        #/// </param>
        #public void initFromSalesLine_IN(SalesLine _salesLine)
        #{
        #    SalesLine_IN    salesLine_INTo;
        #    SalesLine_IN    salesLine_INFrom;
        #
        #    salesLine_INTo      = this.salesLine_IN();
        #    salesLine_INFrom    = _salesLine.salesLine_IN();
        #
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_INTo.AssessableValue_IN             = salesLine_INFrom.AssessableValue_IN;
        #        salesLine_INTo.CompanyLocation_IN             = salesLine_INFrom.CompanyLocation_IN;
        #        salesLine_INTo.Consignment_IN                 = salesLine_INFrom.Consignment_IN;
        #        salesLine_INTo.CreditNoteDate_IN              = salesLine_INFrom.CreditNoteDate_IN;
        #        salesLine_INTo.DirectSettlement_IN            = salesLine_INFrom.DirectSettlement_IN;
        #        salesLine_INTo.dsa_in                         = salesLine_INFrom.dsa_in;
        #        salesLine_INTo.MaximumRetailPrice_IN          = salesLine_INFrom.MaximumRetailPrice_IN;
        #        salesLine_INTo.ExciseTariffCodes_IN           = salesLine_INFrom.ExciseTariffCodes_IN;
        #        salesLine_INTo.CustomsTariffCodeTable_IN      = salesLine_INFrom.CustomsTariffCodeTable_IN;
        #        salesLine_INTo.ServiceCodeTable_IN            = salesLine_INFrom.ServiceCodeTable_IN;
        #        salesLine_INTo.ExciseRecordType_IN            = salesLine_INFrom.ExciseRecordType_IN;
        #        salesLine_INTo.ExciseType_IN                  = salesLine_INFrom.ExciseType_IN;
        #        salesLine_INTo.SalesTaxFormTypes_IN           = salesLine_INFrom.SalesTaxFormTypes_IN;
        #        salesLine_INTo.TaxAsPerOriginalInvoice_IN     = salesLine_INFrom.TaxAsPerOriginalInvoice_IN;
        #        salesLine_INTo.TaxInventVATCommodityCode_IN   = salesLine_INFrom.TaxInventVATCommodityCode_IN;
        #
        #        if (TaxParameters::checkParameterForPosting_IN(TaxType_IN::Customs) &&
        #            _salesLine.salesTable().CustomsExportOrder_IN &&
        #            this.salesTable().CustomsExportOrder_IN)
        #        {
        #            salesLine_INTo.CustomsMaxRetailPrice_IN   = salesLine_INFrom.CustomsMaxRetailPrice_IN;
        #            salesLine_INTo.MaximumRetailPrice_IN      = Currency::customsCurAmount_IN(salesLine_INFrom.CustomsMaxRetailPrice_IN,
        #                                                                            _salesLine.CurrencyCode,
        #                                                                            Direction_IN::Export);
        #        }
        #    }
        #    if (TaxWithholdParameters_IN::checkTaxParameters())
        #    {
        #        salesLine_INTo.tdsGroup_IN                    = salesLine_INFrom.tdsGroup_IN;
        #        salesLine_INTo.tcsGroup_IN                    = salesLine_INFrom.tcsGroup_IN;
        #        salesLine_INTo.TaxWithholdLineNum_IN          = salesLine_INFrom.TaxWithholdLineNum_IN;
        #        salesLine_INTo.TaxWithholdVoucher_IN          = salesLine_INFrom.TaxWithholdVoucher_IN;
        #    }
        #
        #    this.packSalesLine_IN(salesLine_INTo);
        #}
      ENDSOURCE
      SOURCE #initFromSalesLineView_IN
        #/// <summary>
        #/// Initializes the <c>SalesLine</c> record from the view <c>SalesLineView_IN</c>.
        #/// </summary>
        #/// <param name="_salesLineView_IN">
        #/// The <c>SalesLineView_IN</c> view.
        #/// </param>
        #public void initFromSalesLineView_IN(SalesLineView_IN _salesLineView_IN)
        #{
        #    SalesLine_IN salesLine_IN;
        #
        #    salesLine_IN = this.salesLine_IN();
        #
        #    this.TaxItemGroup                           = _salesLineView_IN.TaxItemGroup;
        #    this.SalesId                                = _salesLineView_IN.SalesId;
        #    this.CurrencyCode                           = _salesLineView_IN.CurrencyCode;
        #    this.TaxGroup                               = _salesLineView_IN.TaxGroup;
        #    this.LineAmount                             = _salesLineView_IN.LineAmount;
        #    this.LineNum                                = _salesLineView_IN.LineNum;
        #    this.InventTransId                          = _salesLineView_IN.InventTransId;
        #    this.ItemId                                 = _salesLineView_IN.ItemId;
        #    salesLine_IN.MaximumRetailPrice_IN          = _salesLineView_IN.MaximumRetailPrice_IN;
        #    salesLine_IN.AssessableValue_IN             = _salesLineView_IN.AssessableValue_IN;
        #    salesLine_IN.TaxAsPerOriginalInvoice_IN     = _salesLineView_IN.TaxAsPerOriginalInvoice_IN;
        #    salesLine_IN.ExciseRecordType_IN            = _salesLineView_IN.ExciseRecordType_IN;
        #    salesLine_IN.DirectSettlement_IN            = _salesLineView_IN.DirectSettlement_IN;
        #    salesLine_IN.CustomsMaxRetailPrice_IN       = _salesLineView_IN.CustomsMaxRetailPrice_IN;
        #    salesLine_IN.dsa_in                         = _salesLineView_IN.dsa_in;
        #    salesLine_IN.SalesTaxFormTypes_IN           = _salesLineView_IN.SalesTaxFormTypes_IN;
        #    salesLine_IN.CompanyLocation_IN             = _salesLineView_IN.CompanyLocation_IN;
        #    salesLine_IN.ExciseType_IN                  = _salesLineView_IN.ExciseType_IN;
        #    salesLine_IN.ExciseTariffCodes_IN           = _salesLineView_IN.ExciseTariffCodes_IN;
        #    salesLine_IN.CustomsTariffCodeTable_IN      = _salesLineView_IN.CustomsTariffCodeTable_IN;
        #    salesLine_IN.Consignment_IN                 = _salesLineView_IN.Consignment_IN;
        #    salesLine_IN.ServiceCodeTable_IN            = _salesLineView_IN.ServiceCodeTable_IN;
        #    salesLine_IN.tcsGroup_IN                    = _salesLineView_IN.tcsGroup_IN;
        #    salesLine_IN.tdsGroup_IN                    = _salesLineView_IN.tdsGroup_IN;
        #    this.packSalesLine_IN(salesLine_IN);
        #}
      ENDSOURCE
      SOURCE #initFromSalesQuotationLine
        #/// <summary>
        #/// Initializes a <c>SalesLine</c> record from a <c>SalesQuotationLine</c> record.
        #/// </summary>
        #/// <param name="_salesQuotationLine">
        #/// The <c>SalesQuotationLine</c> record from which to initialize the <c>SalesLine</c> record.
        #/// </param>
        #public void initFromSalesQuotationLine(SalesQuotationLine      _salesQuotationLine)
        #{
        #    // <GIN>
        #    SalesLine_IN salesLine_IN;
        #    // <NAXT>
        #    XAP_OrderTypeTable  orderTypeTable;
        #    // </NAXT>
        #    // </GIN>
        #
        #    this.DefaultDimension                  = this.copyDimension(_salesQuotationLine.DefaultDimension);
        #
        #    this.setInventDimId(_salesQuotationLine.InventDimId);
        #
        #    this.BarCode                        = _salesQuotationLine.BarCode;
        #    this.BarCodeType                    = _salesQuotationLine.BarCodeType;
        #    this.CustomerRef                    = _salesQuotationLine.CustomerRef;
        #
        #    this.ConfirmedDlv                   = _salesQuotationLine.ConfirmedDlv;
        #
        #    this.DeliveryName                   = _salesQuotationLine.DeliveryName;
        #    if (_salesQuotationLine.DeliveryPostalAddress)
        #    {
        #        this.DeliveryPostalAddress      = _salesQuotationLine.DeliveryPostalAddress;
        #        this.AddressRefRecId            = _salesQuotationLine.AddressRefRecId;
        #        this.AddressRefTableId          = _salesQuotationLine.AddressRefTableId;
        #    }
        #
        #    this.ItemBOMId                      = _salesQuotationLine.ItemBOMId;
        #    this.ItemRouteId                    = _salesQuotationLine.ItemRouteId;
        #    // PBA Begin
        #    this.ItemPBAId                      = _salesQuotationLine.ItemPBAId;
        #    // PBA End
        #
        #    this.LedgerDimension                = _salesQuotationLine.LedgerDimension;
        #    this.LineHeader                     = _salesQuotationLine.LineHeader;
        #    this.LineNum                        = _salesQuotationLine.LineNum;
        #    this.Name                           = _salesQuotationLine.Name;
        #
        #    this.SalesPrice                     = _salesQuotationLine.SalesPrice;
        #    this.PriceUnit                      = _salesQuotationLine.PriceUnit;
        #    this.LinePercent                    = _salesQuotationLine.LinePercent;
        #    this.LineDisc                       = _salesQuotationLine.LineDisc;
        #    this.LineAmount                     = _salesQuotationLine.LineAmount;
        #    this.MultiLnDisc                    = _salesQuotationLine.MultiLnDisc;
        #    this.MultiLnPercent                 = _salesQuotationLine.MultiLnPercent;
        #
        #    this.setPriceDiscChangePolicy(PriceDiscSystemSource::SalesQuotation);
        #
        #    this.PackingUnit                    = _salesQuotationLine.PackingUnit;
        #    this.PackingUnitQty                 = _salesQuotationLine.PackingUnitQty;
        #
        #    this.SalesGroup                     = _salesQuotationLine.SalesGroup;
        #    this.SalesMarkup                    = _salesQuotationLine.SalesMarkup;
        #
        #    this.TaxAutogenerated               = _salesQuotationLine.TaxAutoGenerated;
        #    this.TaxGroup                       = _salesQuotationLine.TaxGroup;
        #    this.TaxItemGroup                   = _salesQuotationLine.TaxItemGroup;
        #
        #    this.Port                           = _salesQuotationLine.Port;
        #    this.StatProcId                     = _salesQuotationLine.StatProcId;
        #    this.TransactionCode                = _salesQuotationLine.TransactionCode;
        #    this.Transport                      = _salesQuotationLine.Transport;
        #    this.CountyOrigDest                 = _salesQuotationLine.CountyOrigDest;
        #    this.StatTriangularDeal             = _salesQuotationLine.StatTriangularDeal;
        #
        #    if (_salesQuotationLine.DlvMode != "")
        #        this.DlvMode                    = _salesQuotationLine.DlvMode;
        #    this.ShippingDateRequested          = _salesQuotationLine.ShippingDateRequested;
        #    this.ReceiptDateRequested           = _salesQuotationLine.ReceiptDateRequested;
        #
        #    this.LineDeliveryType               = _salesQuotationLine.LineDeliveryType;
        #    this.DeliveryDateControlType        = _salesQuotationLine.DeliveryDateControlType;
        #
        #    this.RetailVariantId                = _salesQuotationLine.RetailVariantId;
        #
        #    // <GIN>
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_IN = this.salesLine_IN();
        #        salesLine_IN.CompanyLocation_IN        = _salesQuotationLine.CompanyLocation_IN;
        #        salesLine_IN.ServiceCodeTable_IN       = _salesQuotationLine.ServiceCodeTable_IN;
        #        salesLine_IN.ExciseRecordType_IN       = _salesQuotationLine.ExciseRecordType_IN;
        #        salesLine_IN.ExciseTariffCodes_IN      = _salesQuotationLine.ExciseTariffCodes_IN;
        #        salesLine_IN.CustomsTariffCodeTable_IN = _salesQuotationLine.CustomsTariffCodeTable_IN;
        #        salesLine_IN.AssessableValue_IN        = _salesQuotationLine.AssessableValue_IN;
        #        salesLine_IN.MaximumRetailPrice_IN     = _salesQuotationLine.MaximumRetailPrice_IN;
        #        salesLine_IN.SalesTaxFormTypes_IN      = _salesQuotationLine.SalesTaxFormTypes_IN;
        #        salesLine_IN.ExciseType_IN             = _salesQuotationLine.ExciseType_IN;
        #        salesLine_IN.TaxModelDocLineExtensionIN::initFromExtensionTable(SalesQuotationLineTaxExtensionIN::findBysalesQuotationLine(_salesQuotationLine.RecId));
        #        this.packSalesLine_IN(salesLine_IN);
        #    }
        #    // </GIN>
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        this.initFromSalesQuotationLine_BR(_salesQuotationLine);
        #    }
        #    // </GBR>
        #
        #    // <NAXT>
        #    this.LineType                       = _salesQuotationLine.LineType;
        #    this.EquipmentId                    = XAP_EquipmentTable::equipmentId(_salesQuotationLine.Equipment);
        #    this.EquipmentAttachedTo            = _salesQuotationLine.EquipmentAttachedTo;
        #    this.SalesPoolId                    = _salesQuotationLine.SalesPoolId;
        #    this.TradeInRefRecId                = _salesQuotationLine.TradeInRefRecId;
        #    this.OverAllowance                  = _salesQuotationLine.OverAllowance;
        #    this.AbnormalCall                   = _salesQuotationLine.AbnormalCall;
        #    this.TradeInYear                    = _salesQuotationLine.TradeInYear;
        #    this.TradeInMake                    = _salesQuotationLine.TradeInMake;
        #    this.TradeInModel                   = _salesQuotationLine.TradeInModel;
        #    this.TradeInSerialNumber            = _salesQuotationLine.TradeInSerialNumber;
        #    this.TradeInHours                   = _salesQuotationLine.TradeInHours;
        #    this.TradeInPayOff                  = _salesQuotationLine.TradeInPayOff;
        #    this.TradeInEquipment               = _salesQuotationLine.TradeInEquipment;
        #
        #    if (_salesQuotationLine.AttachToLineNumber && !_salesQuotationLine.EquipmentAttachedTo && !_salesQuotationLine.CoreInventTransId)
        #    {
        #        this.AttachToLineNumber = _salesQuotationLine.AttachToLineNumber;
        #    }
        #
        #    this.SurplusReturnType              = _salesQuotationLine.SurplusReturnType;
        #    this.SurplusPFO                     = _salesQuotationLine.SurplusPFO;
        #    this.SPMReturnOrderNR               = _salesQuotationLine.SPMReturnOrderNR;
        #
        #    this.WarrantySalesLine              = _salesQuotationLine.WarrantySalesLine;
        #
        #    this.QuoteVendor                    = _salesQuotationLine.QuoteVendor;
        #
        #    this.DlvReasonId                    = _salesQuotationLine.DlvReasonId;
        #
        #    if (_salesQuotationLine.DestinationCodeRecId != 0)
        #    {
        #        this.DestinationCodeRecId       = _salesQuotationLine.DestinationCodeRecId;
        #    }
        #    if (_salesQuotationLine.wmsOrderTypeRecId != 0)
        #    {
        #        this.wmsOrderTypeRecId          = _salesQuotationLine.wmsOrderTypeRecId;
        #        orderTypeTable                  = XAP_OrderTypeTable::findByRecId(this.wmsOrderTypeRecId);
        #        this.TypeOfDelivery             = orderTypeTable.TypeOfDelivery;
        #        this.ShipInstructions           = orderTypeTable.ShipInstructions;
        #    }
        #    // </NAXT>
        #    // <NAXT CU1> tfs11542
        #    this.RequiredQty = _salesQuotationLine.RequiredQty;
        #    // </NAXT CU1> tfs11542
        #
        #    // <NAXT_FP1>
        #    if (SalesQuotationTable::isPowerSystem(_salesQuotationLine.QuotationId))
        #    {
        #        this.PrimeProduct               = _salesQuotationLine.PrimeProductLine;
        #    }
        #    // </NAXT_FP1>
        #
        #    /* <NAXT CU4> - Removed from CU4, because it is a not logical inheritance
        #    // <NAXT CU4>
        #    this.EquipmentConfigId              = _salesQuotationLine.EquipmentConfigId;
        #    // </NAXT CU4>
        #    </NAXT CU4> */
        #
        #    // <GGH>
        #    if (ProjTable::isPowerSystem(this.ProjId))
        #    {
        #        this.LineAmount = _salesQuotationLine.AdjustedCost;
        #        this.SalesPrice = 0;
        #    }
        #    this.RateContractId = _salesQuotationLine.RateContractId;
        #    this.ExchangeRateType = _salesQuotationLine.ExchangeRateType;
        #    // </GGH>
        #}
      ENDSOURCE
      SOURCE #initFromSalesQuotationLine_BR
        #/// <summary>
        #/// Initializes the <c>SalesLine</c> record from the <c>SalesQuotationLine</c> record.
        #/// </summary>
        #/// <param name="_salesQuotationLine">
        #/// The <c>SalesQuotationLine</c> record from which to initialize the <c>SalesLine</c> record.
        #/// </param>
        #public void initFromSalesQuotationLine_BR(SalesQuotationLine _salesQuotationLine)
        #{
        #    SalesLine_BR salesLine_BR;
        #
        #    salesLine_BR                    = this.salesLine_BR();
        #    salesLine_BR.cfopTable_BR       = _salesQuotationLine.cfopTable_BR;
        #    salesLine_BR.SuframaDiscount_BR = _salesQuotationLine.SuframaDiscount_BR;
        #
        #    this.packSalesLine_BR(salesLine_BR);
        #
        #    this.type().updateFiscalDocumentText_BR(FiscalDocumentTextType_BR::CFOP);
        #}
      ENDSOURCE
      SOURCE #initFromSalesTable
        #server public void  initFromSalesTable(SalesTable _salesTable, boolean _ignoreInventDim = false)
        #{
        #    this.type(
        #    _salesTable
        #    ).initFromSalesTable(_salesTable, _ignoreInventDim);
        #    // <NAXT_CU3>
        #    this.CICCode = this.salesTable().CICCode;
        #    this.SICCodeId  = this.salesTable().SICCodeId;
        #    this.CATPWC = this.salesTable().CATPWC;
        #    // </NAXT_CU3>
        #}
      ENDSOURCE
      SOURCE #initFromSMAServiceOrderTable
        #/// <summary>
        #/// Initializes the <c>SalesLine</c> record with data from the <c>SMAServiceOrderTable</c> record
        #/// buffer.
        #/// </summary>
        #/// <param name="_serviceOrderTable">
        #/// A <c>SMAServiceOrderTable</c> record buffer.
        #/// </param>
        #public void initFromSMAServiceOrderTable(SMAServiceOrderTable _serviceOrderTable)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromSMAServiceOrderTable(_serviceOrderTable);
        #}
      ENDSOURCE
      SOURCE #initFromSvcSegmentTable
        #/// <summary>
        #///    Initializes the current sales line record from an <c>XAP_SvcSegmentTable</c> record.
        #/// </summary>
        #/// <param name="segmentTable">
        #///    A <c>XAP_SvcSegmentTable</c> record.
        #/// </param>
        #public void initFromSvcSegmentTable(XAP_SvcSegmentTable     segmentTable)
        #{
        #    /* <NAXT>
        #    XAP_SvcPurchMarkupPriceTable purchMarkupPriceTable;
        #    </NAXT> */
        #    //<NAXT_CU4>
        #    InventDim                    inventDim;
        #    //</NAXT_CU4>
        #
        #    // Calculation of MarkupPercentage below was incorrect. The correct method is implemented in XAP_SvcPurchMarkupPriceTable::findMarkupPercentage(...)
        #    // Calling it here seems to be redundant as it is called by SalesLine.InitFromInventTable(...) later
        #    /* <NAXT>
        #    select MarkupPercent from purchMarkupPriceTable where ((((purchMarkupPriceTable.CustomerRelation   == segmentTable.InvoiceAccount
        #            &&  purchMarkupPriceTable.CustomerCode   == TableGroupAll::Table)
        #            ||  (purchMarkupPriceTable.CustomerRelation   == XAP_SvcCustCategoryGroup::custCategoryGroupId(segmentTable.CustCategoryGroupId)
        #            &&  purchMarkupPriceTable.CustomerCode   == TableGroupAll::GroupId)
        #            ||  purchMarkupPriceTable.CustomerCode   == TableGroupAll::All)
        #            &&
        #            ((purchMarkupPriceTable.ItemRelation   == this.ItemId
        #            &&  purchMarkupPriceTable.ItemCode  == TableGroupAll::Table)
        #            ||  (purchMarkupPriceTable.ItemRelation   == XAP_SvcLineCategoryGroup::lineCategoryGroupId(this.LineCategoryGroupId)
        #            &&  purchMarkupPriceTable.ItemCode   == TableGroupAll::GroupId)
        #            ||  purchMarkupPriceTable.ItemCode   == TableGroupAll::All)));
        #
        #    this.MarkupPercentage  = purchMarkupPriceTable.MarkupPercent;
        #    </NAXT> */
        #    // <GGH>
        #    if (segmentTable.segment().checkOperation())
        #    {
        #        throw error("@XAP4887");
        #    }
        #    // </GGH>
        #    this.ConfirmedDlv      = segmentTable.StartDate;
        #    this.Bay               = segmentTable.Bay;
        #    this.DlvMode           = segmentTable.DlvMode;
        #    this.SmartSourcingNeedByDate = segmentTable.NeedByDate;
        #
        #    // <GGH>
        #    this.ExchangeRateType        = segmentTable.ExchangeRateTypeId;
        #    this.RateContractId          = segmentTable.ExchangeContractId;
        #    // </GGH>
        #
        #    //<NAXT_CU4>
        #    if (segmentTable.ToolStore && this.isTool())
        #    {
        #        inventDim       = this.inventDim(true);
        #        inventDim.InventLocationId     = segmentTable.ToolStore;
        #        this.setInventDimIdFromInventDim(inventDim);
        #    }
        #    //</NAXT_CU4>
        #
        #
        #}
      ENDSOURCE
      SOURCE #initFromTmpSuppItem
        #public void  initFromTmpSuppItem(TmpSuppItem _tmpSuppItem)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.initFromTmpSuppItem(_tmpSuppItem);
        #}
      ENDSOURCE
      SOURCE #initName
        #public void initName(
        #    InventTable         _inventTable = this.inventTable(),
        #    EcoResCategoryId    _salesCategory = this.SalesCategory,
        #    SalesTable          _salesTable = this.salesTable())
        #{
        #    //24097 - Cat parts description - 22/05/2020 - Start
        #    if(XAP_NPRTable::find(_inventTable.xap_nprItem().Product).RecId && XAP_SourceOfSupply::findRecId(_inventTable.xap_nprItem().SOSRecId).IsCATPart == NoYes::Yes)
        #    {
        #        this.Name = XAP_NPRTable::find(_inventTable.xap_nprItem().Product).NameAlias;
        #    }
        #    else
        #    {
        #    //24097 - Cat parts description - 22/05/2020 - End
        #        this.Name = SalesParameters::nameAndOrDescription(_inventTable, _salesTable.LanguageId, this.InventDimId, EcoResCategory::find(_salesCategory));
        #    }
        #}
      ENDSOURCE
      SOURCE #initRetailVariantId
        #public void initRetailVariantId(InventDim _inventDim = this.inventDim())
        #{
        #    InventDimCombination comb;
        #    comb = InventDimCombination::findByInventDim(this.ItemId, _inventDim);
        #
        #    if (comb)
        #    {
        #        this.RetailVariantId = comb.RetailVariantId;
        #    }
        #    else
        #    {
        #        this.RetailVariantId = "";
        #    }
        #}
      ENDSOURCE
      SOURCE #initSalesQty
        #public void  initSalesQty()
        #{
        #    SalesLineType  salesLineType;
        #    salesLineType = this.type();
        #    salesLineType.initSalesQty();
        #}
      ENDSOURCE
      SOURCE #initValue
        #void  initValue(SalesType _salesType = this.SalesType)
        #{
        #    this.SalesType = _salesType;
        #
        #
        #    super();
        #
        #    //Init value is not utilizing SalesTable, hence passing null to aviod lookup on SalesTable.
        #    this.type(null).initValue();
        #}
      ENDSOURCE
      SOURCE #insert
        #public void  insert(boolean     _dropInvent      = false,
        #                    boolean     _findMarkup      = true,
        #                    Common      _childBuffer     = null,
        #                    /* <SYS>
        #                    boolean     _skipCreditLimitCheck = false)
        #                    </SYS> */
        #                    // <NAXT>
        #                    boolean     _skipCreditLimitCheck = false,
        #                    boolean     _doReplacement        = true,
        #                    boolean     _ifImport             = false,
        #                    // </NAXT>
        #                    // <GGH>
        #                    boolean     _ignoreEstQty         = false
        #                    // </GGH>
        #                    )
        #
        #{
        #    #ISOCountryRegionCodes
        #
        #    SalesLineType  salesLineType;
        #
        #    this.setInventSumLogTTS();
        #
        #    salesLineType = this.type(
        #    this.salesTable(true)
        #    );
        #    /* <SYS>
        #    salesLineType.insert(_dropInvent, _findMarkup, _childBuffer, _skipCreditLimitCheck);
        #    </SYS> */
        #    // <NAXT>
        #    this.OrigReservation = this.Reservation;
        #
        #    salesLineType.insert(_dropInvent, _findMarkup, _childBuffer, _skipCreditLimitCheck, _doReplacement, _ifImport, _ignoreEstQty); //GGH
        #    // </NAXT>
        #
        #    this.SysExtensionSerializerMap::postInsert();
        #
        #    // <GEEPL>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #    {
        #        PlInventPackageParm::updateFromSalesLine(this);
        #    }
        #    // </GEEPL>
        #}
      ENDSOURCE
      SOURCE #interCompanyIsBeingUpdated
        #public boolean interCompanyIsBeingUpdated(boolean _showWarning = true, boolean _checkThis = false)
        #{
        #    PurchLine           purchLine;
        #    InventTransOrigin   inventTransOrigin;
        #    InventTrans         inventTrans;
        #    SalesTable          salesTable = this.salesTable();
        #    boolean             ret = false;
        #
        #    if (this.RecId)
        #    {
        #        if (salesTable.InterCompanyCompanyId || _checkThis)
        #        {
        #            if (this.isStocked())
        #            {
        #                inventTransOrigin = null;
        #                select firstonly RecId, ReferenceId from inventTransOrigin
        #                    where inventTransOrigin.InventTransId == this.InventTransId
        #                    exists join inventTrans
        #                       where inventTrans.InventTransOrigin == inventTransOrigin.RecId
        #                       &&   (inventTrans.StatusReceipt     == StatusReceipt::Received
        #                         ||  inventTrans.StatusReceipt     == StatusReceipt::Registered
        #                         ||  inventTrans.StatusReceipt     == StatusReceipt::Arrived
        #                         ||  inventTrans.StatusIssue       == StatusIssue::Deducted
        #                         ||  inventTrans.StatusIssue       == StatusIssue::Picked
        #                         ||  inventTrans.TransChildType    != InventTransChildType::None);
        #
        #                if (inventTransOrigin.RecId)
        #                {
        #                    ret = true;
        #                    if (_showWarning)
        #                    {
        #                        salesTable.SalesId = inventTransOrigin.ReferenceId;
        #                        setPrefix(#PreFixField(salesTable, SalesId));
        #                        checkFailed("@SYS93839");
        #                    }
        #                }
        #                else
        #                {
        #                    if (this.SalesStatus != SalesStatus::Invoiced)
        #                    {
        #                        select TableId from inventTransOrigin
        #                            where inventTransOrigin.InventTransId == this.InventTransId
        #                            join sum(Qty) from inventTrans
        #                               where inventTrans.InventTransOrigin == inventTransOrigin.RecId
        #                               &&   (inventTrans.StatusReceipt     == StatusReceipt::Purchased
        #                                  || inventTrans.StatusIssue       == StatusIssue::Sold);
        #
        #                        if (inventTrans.Qty != 0)
        #                        {
        #                            ret = true;
        #                            if (_showWarning)
        #                            {
        #                                salesTable.SalesId = this.SalesId;
        #                                setPrefix(#PreFixField(salesTable, SalesId));
        #                                checkFailed("@SYS93839");
        #                            }
        #                        }
        #                    }
        #                }
        #            }
        #            else
        #            {
        #                ret = this.interCompanyIsBeingUpdatedNonInventoried(_showWarning);
        #            }
        #        }
        #
        #        if (!ret
        #        &&  this.InventRefType == InventRefType::Purch
        #        &&  this.InventRefId
        #        &&  this.InventRefTransId)
        #        {
        #            purchLine = PurchLine::findInventTransId(this.InventRefTransId);
        #
        #            if (purchLine)
        #            {
        #                ret = purchLine.interCompanyIsBeingUpdated(_showWarning);
        #            }
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #interCompanyIsBeingUpdatedNonInventoried
        #/// <summary>
        #/// Indicates whether the non-stocked intercompany order line is being updated.
        #/// </summary>
        #/// <param name="_showWarning">
        #/// A Boolean value that determines whether failed checks should show warnings; optional.
        #/// </param>
        #/// <returns>
        #/// true if the non-stocked intercompany order line is being updated; otherwise, false.
        #/// </returns>
        #public boolean interCompanyIsBeingUpdatedNonInventoried(boolean _showWarning = true)
        #{
        #    SalesTable          salesTable = this.salesTable();
        #    boolean             ret = false;
        #
        #    if (this.RecId)
        #    {
        #        if (salesTable.InterCompanyCompanyId)
        #        {
        #            if (this.deliveredInTotal())
        #            {
        #                ret = true;
        #                if (_showWarning)
        #                {
        #                    salesTable.SalesId = this.SalesId;
        #                    setPrefix(#PreFixField(salesTable, SalesId));
        #                    checkFailed("@SYS93839");
        #                }
        #            }
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #interCompanyLineAmount
        #public AmountCur interCompanyLineAmount(SalesQty      _salesQty    = this.SalesQty,
        #                                        InvoiceDate   _invoiceDate = this.ConfirmedDlv,
        #                                        Tax           _tax         = null)
        #{
        #    AmountCur       lineAmount;
        #    PurchLine       purchLine;
        #    SalesLine       salesLine;
        #    SalesTable      salesTable = this.salesTable();
        #
        #    lineAmount = 0;
        #    if (salesTable.InterCompanyCompanyId)
        #    {
        #        changeCompany(salesTable.InterCompanyCompanyId)
        #        {
        #            purchLine = PurchLine::findInventTransId(this.InterCompanyInventTransId);
        #            salesLine = SalesLine::findInventTransId(purchLine.InventRefTransId);
        #            if (salesLine.RecId)
        #            {
        #                lineAmount = salesLine.calcLineAmountExclTax(_salesQty, _invoiceDate, _tax);
        #            }
        #
        #            if (salesLine.RecId)
        #            {
        #                lineAmount = Currency::curAmount2CurAmount(lineAmount, salesLine.CurrencyCode, this.CurrencyCode, _invoiceDate);
        #            }
        #        }
        #
        #        if (!salesLine.RecId)
        #        {
        #            lineAmount = this.calcLineAmountExclTax(_salesQty,_invoiceDate, _tax);
        #        }
        #    }
        #    else
        #    {
        #        lineAmount = this.calcLineAmountExclTax(_salesQty,_invoiceDate, _tax);
        #    }
        #    return lineAmount;
        #}
      ENDSOURCE
      SOURCE #interCompanyOriginalCustAccount
        #public display CustAccount interCompanyOriginalCustAccount()
        #{
        #    CustAccount custAccount;
        #
        #    if (this.salesTable().InterCompanyCompanyId)
        #    {
        #        custAccount = SalesTable::find(this.SalesId).InterCompanyOriginalCustAccount;
        #    }
        #    else
        #    {
        #        custAccount = SalesTable::find(this.SalesId).CustAccount;
        #    }
        #    return custAccount;
        #}
      ENDSOURCE
      SOURCE #interCompanyOriginDisplay
        #public display InterCompanyOriginDisplay interCompanyOriginDisplay()
        #{
        #    InterCompanyOriginDisplay   interCompanyOriginDisplay;
        #    DictEnum                    dictEnum = new DictEnum(enumNum(InterCompanyOrigin));
        #
        #    if (this.InterCompanyInventTransId)
        #    {
        #        interCompanyOriginDisplay = dictEnum.value2Name(this.InterCompanyOrigin);
        #    }
        #    return interCompanyOriginDisplay;
        #}
      ENDSOURCE
      SOURCE #interCompanyPurchLine
        #/// <summary>
        #/// Gets the purchase line that is linked to the sales line through intercompany.
        #/// </summary>
        #/// <returns>
        #/// The purchase line that is linked to the sales line through intercompany.
        #/// </returns>
        #public PurchLine interCompanyPurchLine()
        #{
        #    SalesTable          salesTable;
        #    PurchLine           purchLine;
        #
        #    salesTable = this.salesTable();
        #    if (salesTable.InterCompanyCompanyId)
        #    {
        #        changecompany(salesTable.InterCompanyCompanyId)
        #        {
        #            purchLine = PurchLine::findInventTransId(this.InterCompanyInventTransId);
        #        }
        #    }
        #
        #    return purchLine;
        #}
      ENDSOURCE
      SOURCE #interCompanyReturnItemInventTransId
        #public InventRefTransId interCompanyReturnItemInventTransId()
        #{
        #    CustInvoiceTrans    custInvoiceTrans;
        #    InventRefTransId    inventRefTransId;
        #
        #    if (this.InventTransIdReturn)
        #    {
        #        custInvoiceTrans = CustInvoiceTrans::findInventTransid(this.InventTransIdReturn);
        #        if (custInvoiceTrans.InventRefTransId)
        #        {
        #            inventRefTransId = VendInvoiceTrans::findInventTransId(custInvoiceTrans.InventRefTransId).InventTransId;
        #        }
        #    }
        #
        #    return inventRefTransId;
        #}
      ENDSOURCE
      SOURCE #interCompanySalesId
        #public display InterCompanySalesId interCompanySalesId()
        #{
        #    PurchLine           purchLineLocal;
        #    SalesLine           salesLineLocal;
        #    InterCompanySalesId interCompanySalesId;
        #
        #    if (this.salesTable().InterCompanyCompanyId)
        #    {
        #        changecompany(this.salesTable().InterCompanyCompanyId)
        #        {
        #            purchLineLocal      = PurchLine::findInventTransId(this.InterCompanyInventTransId);
        #            salesLineLocal      = SalesLine::findInventTransId(purchLineLocal.InventRefTransId);
        #            interCompanySalesId = salesLineLocal.SalesId;
        #        }
        #    }
        #    return interCompanySalesId;
        #}
      ENDSOURCE
      SOURCE #interCompanySalesLineExist
        #public boolean interCompanySalesLineExist()
        #{
        #    boolean ret;
        #
        #    if (this.InventRefType == InventRefType::Purch
        #        &&  this.InventRefTransId)
        #    {
        #        ret = PurchLine::findInventTransId(this.InventRefTransId).InterCompanyInventTransId ? true : false;
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #interCompanyUpdateNow
        #/// <summary>
        #/// Determines whether an intercompany order line should be updated.
        #/// </summary>
        #/// <returns>
        #/// true if the intercompany order line should be updated; otherwise, false.
        #/// </returns>
        #public boolean  interCompanyUpdateNow()
        #{
        #    boolean      ok;
        #
        #    // <GIN>
        #    SalesLine_IN salesLine_IN = this.salesLine_IN();
        #    // </GIN>
        #
        #    if (!this.RecId)
        #    {
        #        ok = true;
        #    }
        #
        #    if (this.orig().ItemId                  != this.ItemId
        #    ||  this.orig().InventDimId             != this.InventDimId
        #    ||  this.orig().ConfirmedDlv            != this.ConfirmedDlv
        #    ||  this.orig().ReceiptDateRequested    != this.ReceiptDateRequested
        #    ||  this.orig().ReceiptDateConfirmed    != this.ReceiptDateConfirmed
        #    ||  this.orig().ShippingDateRequested   != this.ShippingDateRequested
        #    ||  this.orig().ShippingDateConfirmed   != this.ShippingDateConfirmed
        #    ||  this.orig().LineNum                 != this.LineNum
        #    ||  this.orig().InventTransId           != this.InventTransId
        #    ||  this.orig().SalesQty                != this.SalesQty
        #    ||  this.orig().SalesUnit               != this.SalesUnit
        #    ||  this.orig().OverDeliveryPct         != this.OverDeliveryPct
        #    ||  this.orig().UnderDeliveryPct        != this.UnderDeliveryPct
        #    ||  this.orig().DeliveryPostalAddress   != this.DeliveryPostalAddress
        #    ||  this.orig().DeliveryName            != this.DeliveryName
        #    ||  this.orig().DefaultDimension        != this.DefaultDimension
        #    ||  this.orig().SalesPrice              != this.SalesPrice
        #    ||  this.orig().PriceUnit               != this.PriceUnit
        #    ||  this.orig().LineAmount              != this.LineAmount
        #    ||  this.orig().SalesMarkup             != this.SalesMarkup
        #    ||  this.orig().LineDisc                != this.LineDisc
        #    ||  this.orig().LinePercent             != this.LinePercent
        #    ||  this.orig().MultiLnDisc             != this.MultiLnDisc
        #    ||  this.orig().MultiLnPercent          != this.MultiLnPercent
        #    ||  this.orig().Complete                != this.Complete
        #    ||  this.orig().Blocked                 != this.Blocked
        #    ||  this.orig().ReturnDispositionCodeId != this.ReturnDispositionCodeId
        #    ||  this.orig().ReturnStatus            != this.ReturnStatus
        #    ||  this.orig().ExpectedRetQty          != this.ExpectedRetQty
        #    ||  this.orig().MatchingAgreementLine   != this.MatchingAgreementLine
        #    // <GIN>
        #    ||  (TaxParameters::checkTaxParameters_IN() && (salesLine_IN.orig().AssessableValue_IN      != salesLine_IN.AssessableValue_IN
        #    ||                                              salesLine_IN.orig().MaximumRetailPrice_IN   != salesLine_IN.MaximumRetailPrice_IN))
        #    // </GIN>
        #        )
        #    {
        #        ok = true;
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #inventDim
        #public InventDim inventDim(boolean  _forUpdate = false)
        #{
        #    return InventDim::find(this.InventDimId, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #inventEquipmentId
        # // BP Deviation documented
        #display XAP_EquipmentId inventEquipmentId()
        #{
        #    return InventDim::find(this.InventDimId).InventEquipmentId;
        #}
      ENDSOURCE
      SOURCE #inventProfileType_RU
        #InventProfileType_RU inventProfileType_RU(boolean _forceGeneral = true)
        #{
        #    InventProfileType_RU inventProfileType = this.inventDim().inventProfile_RU().InventProfileType;
        #
        #    if (inventProfileType == InventProfileType_RU::NotSpecified && _forceGeneral)
        #    {
        #        inventProfileType = InventProfileType_RU::General;
        #    }
        #
        #    return inventProfileType;
        #}
      ENDSOURCE
      SOURCE #inventTable
        #public InventTable inventTable(ItemId     _itemId       = this.ItemId,
        #                               boolean   _forUpdate    = false)
        #{
        #    return InventTable::find(_itemId, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #invoiceAccount
        #public CustInvoiceAccount  invoiceAccount()
        #{
        #    return this.salesTable().InvoiceAccount;
        #}
      ENDSOURCE
      SOURCE #invoicedInTotal
        #public display SalesQty invoicedInTotal()
        #{
        #    if (!this.InventTransId)
        #    {
        #        return 0;
        #    }
        #
        #    return this.invoicedInTotalServer();
        #}
      ENDSOURCE
      SOURCE #invoicedInTotalServer
        #/// <summary>
        #/// Gets the total invoiced quantity for the line that is in the sales unit.
        #/// </summary>
        #/// <param name="_salesTable">
        #///  A <c>SalesTable</c> table buffer.
        #/// </param>
        #/// <returns>
        #/// The total invoiced quantity for the line that is in the sales unit.
        #/// </returns>
        #server public SalesQty invoicedInTotalServer(
        #SalesTable _salesTable = this.salesTable()
        #)
        #{
        #    return this.type(
        #    _salesTable
        #    ).invoicedInTotal();
        #}
      ENDSOURCE
      SOURCE #invoicedInventInTotal
        #public display InventQty    invoicedInventInTotal()
        #{
        #    InventTransIdSum    inventTransIdSum;
        #    InventQty           inventQty = 0;
        #
        #    if (this.InventTransId)
        #    {
        #        inventTransIdSum = InventTransIdSum::newTransOriginId(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #
        #        inventQty = -inventTransIdSum.financial();
        #    }
        #
        #    return inventQty;
        #}
      ENDSOURCE
      SOURCE #isAgreementLinkValid
        #/// <summary>
        #/// Determines whether the link between agreement line and the sales line is valid.
        #/// </summary>
        #/// <param name="_showInfolog">
        #/// A Boolean value that indicates whether to print the errors in the Infolog; optional.
        #/// </param>
        #/// <returns>
        #/// true if the link between sales order line and agreement line is valid; otherwise, false.
        #/// </returns>
        #public boolean isAgreementLinkValid(boolean _showInfolog = false)
        #{
        #    if (this.isLinkedToAgreement())
        #    {
        #        return AgreementLine::find(this.MatchingAgreementLine).isLinkValid(this,_showInfolog);
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #isCategoryBased
        #/// <summary>
        #///    Checks whether the order line is category based.
        #/// </summary>
        #/// <returns>
        #///    true if the order line is category based; otherwise, false.
        #/// </returns>
        #public boolean isCategoryBased()
        #{
        #    return this.SalesPurchLine::isCategoryBased();
        #}
      ENDSOURCE
      SOURCE #isDropShipment
        #/// <summary>
        #///    Checks whether the order line is part of a drop shipment.
        #/// </summary>
        #/// <returns>
        #///    true if the order line is part of a drop shipment; otherwise, false.
        #/// </returns>
        #public boolean isDropShipment()
        #{
        #    return this.SalesPurchLine::isDropShipment();
        #}
      ENDSOURCE
      SOURCE #isDropShipmentPOLineInvoiceMatched
        #/// <summary>
        #/// Checks whether a related direct delivery purchase order line was partially or fully invoiced.
        #/// </summary>
        #/// <returns>
        #/// true if a related direct delivery purchase order line was partially or fully invoiced; otherwise,
        #/// false.
        #/// </returns>
        #public boolean isDropShipmentPOLineInvoiceMatched()
        #{
        #    return this.isDropShipment()
        #        && this.InventRefType == InventRefType::Purch
        #        && PurchLine::findInventTransId(this.InventRefTransId).isInvoiceMatched();
        #}
      ENDSOURCE
      SOURCE #isInterCompanyOrder
        #/// <summary>
        #/// Checks whether an order line is an intercompany order line.
        #/// </summary>
        #/// <returns>
        #/// true if the order line is an intercompany order line; otherwise, false.
        #/// </returns>
        #public boolean  isInterCompanyOrder()
        #{
        #    boolean  ok;
        #
        #    if (this.InterCompanyInventTransId  &&  this.salesTable().isInterCompanyOrder())
        #    {
        #        ok = true;
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #isInterCompanyOrderLineInvoiceMatched
        #/// <summary>
        #/// Checks whether a related intercompany purchase order line was partially or fully invoiced.
        #/// </summary>
        #/// <returns>
        #/// true if the related intercompany purchase order line was partially or fully invoiced; otherwise,
        #/// false.
        #/// </returns>
        #public boolean isInterCompanyOrderLineInvoiceMatched()
        #{
        #    boolean     ret;
        #    PurchLine   purchLine;
        #    SalesTable  salesTable = this.salesTable();
        #
        #    if (salesTable.isInterCompanyOrder() && this.InterCompanyInventTransId)
        #    {
        #            select firstonly crosscompany purchLine
        #                where purchLine.InventTransId == this.InterCompanyInventTransId
        #                   && purchLine.DataAreaId    == salesTable.InterCompanyCompanyId;
        #
        #            ret = purchLine.isInvoiceMatched();
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #isLinkedToAgreement
        #/// <summary>
        #/// Indicates whether the sales line is linked to an agreement line.
        #/// </summary>
        #/// <returns>
        #/// true if the sales line is linked to an agreement line; otherwise, false.
        #/// </returns>
        #public boolean isLinkedToAgreement()
        #{
        #    return this.MatchingAgreementLine != 0;
        #}
      ENDSOURCE
      SOURCE #isLinkedToProdConsumed
        #public boolean isLinkedToProdConsumed()
        #{
        #    boolean                     ret = false;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    InventTrans                 inventTrans;
        #    InventTransOriginProdTable  inventTransOriginProdTable;
        #    ProdTable                   prodTable;
        #
        #
        #    if (isConfigurationkeyEnabled(new DictTable(tableNum(ProdTable)).configurationKeyId()))
        #    {
        #        select firstonly RecId from inventTransOriginSalesLine
        #            where   inventTransOriginSalesLine.SalesLineDataAreaId      == this.DataAreaId
        #                 && inventTransOriginSalesLine.SalesLineInventTransId   == this.InventTransId
        #        exists join inventTrans
        #            where inventTrans.InventTransOrigin                         == inventTransOriginSalesLine.InventTransOrigin
        #               && inventTrans.MarkingRefInventTransOrigin
        #            join TableId from inventTransOriginProdTable
        #                where inventTransOriginProdTable.InventTransOrigin      == inventTrans.MarkingRefInventTransOrigin
        #            join TableId from prodTable
        #                where prodTable.ProdId                                  == inventTransOriginProdTable.ProdOrderId
        #                   && prodTable.DataAreaId                              == inventTransOriginProdTable.ProdOrderDataAreaId
        #                   && prodTable.ProjPostingType                         == ProjProdPostingType::ConsumedMethod
        #                   && prodTable.ProjLinkedToOrder                       == NoYes::Yes;
        #
        #
        #        if (inventTransOriginSalesLine.RecId)
        #            ret = true;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #isMarked
        #/// <summary>
        #/// Indicate whether sales order has a marked line.
        #/// </summary>
        #/// <returns>
        #/// True if there is a marking for the sales line.
        #/// </returns>
        #// <NAXT>
        #boolean isMarked()
        #{
        #    InventTransOrigin   inventTransOrigin;
        #    InventTrans         inventTrans;
        #
        #    select firstonly MarkingRefInventTransOrigin from inventTrans
        #        where inventTrans.MarkingRefInventTransOrigin
        #            exists join inventTransOrigin where
        #                inventTransOrigin.RecId == inventTrans.InventTransOrigin &&
        #                inventTransOrigin.InventTransId == this.InventTransId;
        #
        #    if (inventTrans)
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #isPackingSlipOrInvoiceUpdated
        #/// <summary>
        #/// Determines whether the line has been packing slip or invoice updated.
        #/// </summary>
        #/// <returns>
        #/// true if the line has been packing slip or invoice updated; otherwise, false.
        #/// </returns>
        #public boolean isPackingSlipOrInvoiceUpdated()
        #{
        #    SalesLine salesOrig = this.orig();
        #
        #    return this.RecId                                       // Saved?
        #        && (this.SalesStatus == SalesStatus::Delivered      // Fully delivered?
        #            || this.RemainSalesFinancial != 0               // Partially delivered?
        #            || this.SalesStatus == SalesStatus::Invoiced    // Fully invoiced?
        #            || (this.RemainSalesPhysical != this.SalesQty   // Partially invoiced/delivered;
        #                && !(this.RemainSalesPhysical == salesOrig.RemainSalesPhysical && this.SalesQty != salesOrig.SalesQty))  //The'and' part excludes lines which are being checked during an update before remainSalesPhysical was calculated.
        #            );
        #}
      ENDSOURCE
      SOURCE #isReturnLineScrapped
        #public boolean isReturnLineScrapped()
        #{
        #    InventTransOriginSalesLine      returnInventTransOrigin;
        #    InventTrans                     returnInventTrans;
        #    InventTransOrigin               quarantineInventTransOriginIssue;
        #    InventTransOrigin               quarantineInventTransOriginReciept;
        #    InventTransOrigin               quarantineInventTransOriginScrap;
        #    InventTrans                     quarantineInventTransIssue;
        #    InventTrans                     quarantineInventTransReciept;
        #    InventTrans                     quarantineInventTransScrap;
        #
        #    select firstonly RecId from returnInventTransOrigin
        #        where returnInventTransOrigin.SalesLineInventTransId        == this.InventTransId
        #           && returnInventTransOrigin.SalesLineDataAreaId           == this.DataAreaId
        #        exists join returnInventTrans
        #            where returnInventTrans.InventTransOrigin == returnInventTransOrigin.InventTransOrigin
        #               && returnInventTrans.Qty               == -this.QtyOrdered
        #            exists join quarantineInventTransIssue
        #                where quarantineInventTransIssue.MarkingRefInventTransOrigin    == returnInventTransOrigin.InventTransOrigin
        #                   && quarantineInventTransIssue.Qty                            == -returnInventTrans.Qty
        #                   && quarantineInventTransIssue.StatusIssue                    == StatusIssue::Sold
        #                exists join quarantineInventTransOriginIssue
        #                    where quarantineInventTransOriginIssue.RecId                == quarantineInventTransIssue.InventTransOrigin
        #                       && quarantineInventTransOriginIssue.ReferenceCategory    == InventTransType::QuarantineOrder
        #                    exists join quarantineInventTransReciept
        #                        where quarantineInventTransReciept.MarkingRefInventTransOrigin  == quarantineInventTransOriginIssue.RecId
        #                           && quarantineInventTransReciept.Qty                          == -quarantineInventTransIssue.Qty
        #                           && quarantineInventTransReciept.StatusReceipt                == StatusReceipt::Purchased
        #                        exists join quarantineInventTransOriginReciept
        #                            where quarantineInventTransOriginReciept.RecId              == quarantineInventTransReciept.InventTransOrigin
        #                               && quarantineInventTransOriginReciept.ReferenceCategory  == InventTransType::QuarantineOrder
        #                            exists join quarantineInventTransScrap
        #                                where quarantineInventTransScrap.MarkingRefInventTransOrigin    == quarantineInventTransReciept.InventTransOrigin
        #                                   && quarantineInventTransScrap.Qty                            == -quarantineInventTransReciept.Qty
        #                                   && quarantineInventTransScrap.StatusIssue                    == StatusIssue::Sold
        #                                exists join quarantineInventTransOriginScrap
        #                                    where quarantineInventTransOriginScrap.RecId                == quarantineInventTransScrap.InventTransOrigin
        #                                       && quarantineInventTransOriginScrap.ReferenceCategory    == InventTransType::QuarantineOrder;
        #
        #    return returnInventTransOrigin.RecId ? true : false;
        #}
      ENDSOURCE
      SOURCE #isReturnReservationLine
        #/// <summary>
        #/// Checks if the <c>SalesLine</c> record in scope is a return order reservation line.
        #/// </summary>
        #/// <returns>
        #/// true if the line in scope is a return order reservation line; otherwise, false.
        #/// </returns>
        #public boolean isReturnReservationLine()
        #{
        #    boolean ret;
        #    SalesLine returnOrderLine;
        #    ReturnDispositionCode returnDispositionCode;
        #
        #    if (this.SalesType == SalesType::ReturnItem && this.QtyOrdered > 0 && this.returnCreateScrap() && this.qtyMarked())
        #    {
        #        select firstonly SalesId from returnOrderLine where returnOrderLine.InventTransId == this.InventRefTransId &&
        #                                                            returnOrderLine.SalesId       == this.SalesId
        #        exists join returnDispositionCode where returnDispositionCode.DispositionCodeId == returnOrderLine.ReturnDispositionCodeId &&
        #                                                returnDispositionCode.DispositionAction == DispositionAction::Scrap ||
        #                                                returnDispositionCode.DispositionAction == DispositionAction::ReplaceScrap;
        #        if (returnOrderLine.SalesId)
        #        {
        #            ret = true;
        #        }
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #isStocked
        #/// <summary>
        #///    Checks whether the order line is tracked in inventory.
        #/// </summary>
        #/// <returns>
        #///    true if the order line is tracked in inventory; otherwise, false.
        #/// </returns>
        #public boolean isStocked()
        #{
        #    boolean isStocked = this.SalesPurchLine::isStocked();
        #
        #    // <GBR>
        #    if (isStocked && BrazilParameters::isEnabled())
        #    {
        #        return this.salesTable().createInventTrans_BR();
        #    }
        #    // </GBR>
        #
        #    return isStocked;
        #}
      ENDSOURCE
      SOURCE #isTangible
        #/// <summary>
        #/// Determines whether the item in the order line is tangible.
        #/// </summary>
        #/// <returns>
        #/// A Boolean value that determines whether the line is tangible.
        #/// </returns>
        #public boolean isTangible()
        #{
        #    boolean isTangible = true;
        #
        #    //For non-stocked item based lines, where the ItemType is service
        #    //or for description based lines where the SalesCategory is non-tangible, return false.
        #    if(!this.isStocked()
        #        && ((this.ItemId && this.inventTable().ItemType == ItemType::Service)
        #        || (!this.ItemId && !EcoResCategory::isTangible(this.SalesCategory))))
        #    {
        #        isTangible = false;
        #    }
        #
        #    return isTangible;
        #}
      ENDSOURCE
      SOURCE #isTool
        #/// <summary>
        #/// Determine whether the sales table of the actual record linked to a service segment as tool sales order.
        #/// </summary>
        #/// <returns>
        #/// True if the current line is connected to a tool sales order, otherwise false.
        #/// </returns>
        #//PCs_2915_ToolHandlingOnStandardJob
        #public boolean isTool()
        #{
        #    boolean     ret;
        #
        #    ret = (select firstonly RecId from xap_SvcSegmentTable
        #                where xap_SvcSegmentTable.ToolSalesId == this.SalesId).RecId != 0;
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #itemCalcTypeImage
        #//GGH
        #public display ImageRes itemCalcTypeImage()
        #{
        #    ImageRes     ret;
        #
        #    #ResAppl
        #
        #    if (InventItemSetupSupplyType::find(this.inventTable().ItemId, this.inventTable().dataAreaId).DefaultOrderType == ReqPOType::Production)
        #    {
        #        ret =  ItemCalcType::BOM;
        #    }
        #    else
        #    {
        #        ret = #ImageOrderLines;
        #    }
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #itemIdChanged
        #/// <summary>
        #/// Updates the <c>SalesLine</c> based on the item change.
        #/// </summary>
        #/// <param name="_resetPrice">
        #/// A Boolean value that specifies whether to reset price; optional.
        #/// </param>
        #/// <param name="_matchingAgreement">
        #/// The record ID of the agreement header that is associated with the sales order. Used for the
        #/// automatic association with an agreement line.
        #/// </param>
        #server void itemIdChanged(boolean              _resetPrice = true,
        #                          AgreementHeaderRecId _matchingAgreement = 0)
        #{
        #    SalesTable salesTable;
        #
        #    this.initFromInventTable(this.inventTable(), _resetPrice);
        #
        #    if (ReverseChargeParameters_UK::find().rcEnabled)
        #    {
        #        if (ReverseChargeItemGroup_UK::exist(InventTable::find(this.ItemId).itemGroupId()))
        #        {
        #            salesTable = this.salesTable();
        #            if (!salesTable.vatNum && ReverseCharge_invoice_UK::isSalesDomestic(salesTable))
        #            {
        #                warning("@SYS125406");
        #            }
        #        }
        #    }
        #
        #    this.SalesPurchLine::autoMatchAgreementLine(_matchingAgreement);
        #
        #    SalesLine::modifySalesQty(this, this.inventDim(), !this.MatchingAgreementLine);
        #
        #    //<NAXT>
        #    this.OriginalSalesPrice = this.SalesPrice;
        #    this.OriginalLineDisc   = this.LineDisc;
        #    //</NAXT>
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        this.updateDeliveryCFOPTax_BR();
        #    }
        #    // </GBR>
        #}
      ENDSOURCE
      SOURCE #itemLineDisc
        #public LineDiscCode  itemLineDisc()
        #{
        #    return this.inventTable().salesLineDisc();
        #}
      ENDSOURCE
      SOURCE #itemName
        #public display SalesLineShowItemName itemName()
        #{
        #    //24097 - Cat parts description - 22/05/2020 - Start
        #    if( XAP_NPRTable::find(this.inventTable().xap_nprItem().Product).RecId && XAP_SourceOfSupply::findRecId(this.inventTable().xap_nprItem().SOSRecId).IsCATPart == NoYes::Yes)
        #    {
        #        return XAP_NPRTable::find(this.inventTable().xap_nprItem().Product).NameAlias;
        #    }
        #    else
        #    {
        #        //24097 - Cat parts description - 22/05/2020 - End
        #        return this.inventTable().itemName(this.inventDim());
        #    }
        #}
      ENDSOURCE
      SOURCE #ledgerDimensionSales
        #public LedgerDimensionDefaultAccount ledgerDimensionSales(InventTable _inventTable = this.inventTable())
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.ledgerDimensionSales(_inventTable);
        #}
      ENDSOURCE
      SOURCE #lineAmountExclTax
        #public SalesLineAmount lineAmountExclTax(TransDate _transDate = systemDateGet(), Tax _tax = null)
        #{
        #    return this.SalesPurchLine::lineAmountExclTax(this.taxDate(_transDate), _tax);
        #}
      ENDSOURCE
      SOURCE #lineAmountModified
        #public void lineAmountModified()
        #{
        #    this.PriceDiscLine::lineAmountModified();
        #}
      ENDSOURCE
      SOURCE #lineAmountMST
        #public AmountMST lineAmountMST(TransDate               _exchRateDate            = systemDateGet(),
        #                               ExchRate                _exchRate                = this.salesTable().fixedExchRate(),
        #                               ExchrateSecondary       _exchrateSecondary       = this.salesTable().fixedExchRateSecondary(),
        #                               ExchRatesTriangulation  _exchRatesTriangulation  = this.salesTable().fixedEuroTriangulation())
        #
        #{
        #    return this.SalesPurchLine::lineAmountMST(_exchRateDate, _exchRate, _exchrateSecondary, _exchRatesTriangulation);
        #}
      ENDSOURCE
      SOURCE #lineAmountMSTExclTax
        #public AmountMST  lineAmountMSTExclTax(TransDate               _exchRateDate            = systemDateGet(),
        #                                       ExchRate                _exchRate                = this.salesTable().fixedExchRate(),
        #                                       ExchrateSecondary       _exchrateSecondary       = this.salesTable().fixedExchRateSecondary(),
        #                                       ExchRatesTriangulation  _exchRatesTriangulation  = this.salesTable().fixedEuroTriangulation(),
        #                                       Tax                     _tax                    = null)
        #
        #{
        #    return this.SalesPurchLine::lineAmountMSTExclTax(_exchRateDate, _exchRate, _exchrateSecondary, _exchRatesTriangulation, _tax);
        #}
        #
      ENDSOURCE
      SOURCE #lineDeliveryImageRessNo
        #/// <summary>
        #/// Determines the delivery type of a line.
        #/// </summary>
        #/// <returns>
        #/// An image resource ID.
        #/// </returns>
        #public int lineDeliveryImageRessNo()
        #{
        #    #resAppl
        #    // <GGH>
        #    ReqPOType                       defaultOrderType;
        #
        #    defaultOrderType = InventItemSetupSupplyType::find(this.ItemId, this.dataAreaId).DefaultOrderType;
        #    if (defaultOrderType == ReqPOType::Production)
        #    {
        #        return #ImageBOM;
        #    }
        #    // </GGH>
        #    switch (this.LineDeliveryType)
        #    {
        #        case LineDeliveryType::OrderLineWithMultipleDeliveries:
        #            return #ImageOrderLineMultipleDeliveries;
        #        case LineDeliveryType::DeliveryLine:
        #            return #ImageDeliveryLine;
        #        default:
        #            return #ImageOrderLines;
        #    }
        #}
      ENDSOURCE
      SOURCE #lineDisc
        #public LineDiscCode  lineDisc()
        #{
        #    return this.salesTable().LineDisc;
        #}
      ENDSOURCE
      SOURCE #linkInventDim2Dimension
        #/// <summary>
        #/// Defaults the value of the <c>SalesLine.dimension</c> field, depending on the <c>InventDim</c>
        #/// record buffer values.
        #/// </summary>
        #/// <param name="_newInventDim">
        #/// The <c>InventDim</c> record buffer that is linked to the current <c>SalesLine</c> record buffer;
        #/// </param>
        #/// <param name="_oldInventDim">
        #/// The <c>InventDim</c> record buffer that was previously linked to the current <c>SalesLine</c>
        #/// record buffer;
        #/// </param>
        #public void linkInventDim2Dimension(InventDim _newInventDim, InventDim _oldInventDim)
        #{
        #    _newInventDim.setInventSiteFromParentIfModified(this, _oldInventDim);
        #}
      ENDSOURCE
      SOURCE #linkToPurchOrderByEquipment
        #public void linkToPurchOrderByEquipment()
        #{
        #    SalesTable                  salesTable;
        #    XAP_OrderClass              orderClass;
        #    PurchLine                   purchLine;
        #    InventTrans                 inventTrans;
        #    InventTransOrigin           inventTransOrigin;
        #    TmpInventTransMark          tmpMark;
        #    Map                         tmpMap;
        #    Qty                         qtyRemain;
        #
        #    if (this.InventDimId && this.RecId && !this.InventRefTransId && this.EquipmentId)
        #    {
        #        select firstonly RecId from inventTrans
        #            where !inventTrans.MarkingRefInventTransOrigin
        #            exists join inventTransOrigin
        #                where inventTransOrigin.RecId               == inventTrans.InventTransOrigin
        #                  &&  inventTransOrigin.InventTransId       == this.InventTransId;
        #
        #        if (inventTrans.RecId)
        #        {
        #            select firstonly RecId from salesTable
        #                where salesTable.SalesId            == this.SalesId
        #                  &&  salesTable.SalesType          == SalesType::ItemReq
        #                  &&  salesTable.ProjId
        #                exists join orderClass
        #                    where orderClass.RecId          == salesTable.OrderClassRecId
        #                      &&  orderClass.MainModule     == XAP_ModuleInfo::PowerSystem;
        #
        #            if (salesTable.RecId)
        #            {
        #                qtyRemain = this.SalesQty;
        #
        #                select firstonly InventTransId, PurchId, RecId from purchLine
        #                    where purchLine.EquipmentId         == this.EquipmentId
        #                      &&  purchLine.PurchQty            == this.SalesQty
        #                      &&  !purchLine.InventRefTransId
        #                      &&  !purchLine.InventRefId;
        #
        #                if (purchLine.RecId)
        #                {
        #                    tmpMap  = new Map(Types::Int64, Types::Record);
        #
        #                    while select inventTrans
        #                        order by  StatusIssue desc, StatusReceipt desc
        #                        where !inventTrans.MarkingRefInventTransOrigin
        #                          &&  inventTrans.StatusReceipt                 == StatusReceipt::Purchased
        #                          &&  inventTrans.ValueOpen == InventTransOpen::Yes//Equipment search only open transaction - KRT - 18/04/2019
        #                        exists join inventTransOrigin
        #                            where inventTransOrigin.RecId               == inventTrans.InventTransOrigin
        #                              &&  inventTransOrigin.InventTransId       == purchLine.InventTransId
        #                    {
        #                        select forupdate tmpMark where
        #                            tmpMark.InventTransOrigin   == inventTrans.InventTransOrigin &&
        #                            tmpMark.InventDimId         == inventTrans.InventDimId;
        #
        #                        tmpMark.initFromInventTrans(inventTrans);
        #                        tmpMark.QtyMarkNow      += max(qtyRemain, -inventTrans.Qty);
        #
        #
        #                        qtyRemain               -= max(qtyRemain, inventTrans.Qty);
        #
        #                        tmpMark.write();
        #                        tmpMap.insert(tmpMark.RecId, tmpMark);
        #
        #                        if (!qtyRemain)
        #                        {
        #                            break;
        #                        }
        #                    }
        #
        #                    if (tmpMap.elements())
        #                    {
        #                        TmpInventTransMark::updateTmpMark(
        #                                                        InventTransOrigin::findByInventTransId(this.InventTransId).RecId,
        #                                                        InventDim::find(this.InventDimId),
        #                                                        -this.SalesQty,
        #                                                        tmpMap.pack());
        #                    }
        #                }
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #markupAllowed
        #public boolean markupAllowed(SalesTable _salesTable = this.salesTable())
        #{
        #    return this.type(_salesTable).markupAllowed();
        #}
      ENDSOURCE
      SOURCE #matchingAgreementLine
        #/// <summary>
        #/// Gets the record ID of the indicated record.
        #/// </summary>
        #/// <returns>
        #/// A <c>RefRecId</c> type.
        #/// </returns>
        #public RefRecId matchingAgreementLine()
        #{
        #    return this.MatchingAgreementLine;
        #}
      ENDSOURCE
      SOURCE #mayConfirmationBeUpdated
        #/// <summary>
        #/// Determines if the <c>SalesLine</c> record may be confirmed.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The <c>SalesTable</c> record for the sales line to investigate; optional.
        #/// </param>
        #/// <returns>
        #/// true if the <c>SalesLine</c> record may be confirmed; otherwise, false.
        #/// </returns>
        #public boolean mayConfirmationBeUpdated(SalesTable _salesTable = this.salesTable())
        #{
        #    if (this.SalesId != _salesTable.SalesId)
        #    {
        #        throw error(strFmt("@SYS19306",funcName()));
        #    }
        #    return this.type(_salesTable).mayConfirmationBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayInvoice4PaymBeUpdated_RU
        #public boolean mayInvoice4PaymBeUpdated_RU()
        #{
        #    return this.type().mayInvoice4PaymBeUpdated_RU();
        #}
      ENDSOURCE
      SOURCE #mayInvoiceBeUpdated
        #/// <summary>
        #/// Determines if the <c>SalesLine</c> record may be invoiced.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The <c>SalesTable</c> record for the sales line to investigate; optional.
        #/// </param>
        #/// <returns>
        #/// true if the <c>SalesLine</c> record may be invoiced; otherwise, false.
        #/// </returns>
        #public boolean mayInvoiceBeUpdated(SalesTable  _salesTable = this.salesTable())
        #{
        #    if (this.SalesId != _salesTable.SalesId)
        #    {
        #        throw error(strFmt("@SYS19306",funcName()));
        #    }
        #    return this.type(_salesTable).mayInvoiceBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayLineBePicked
        #//<NAXT CU5> TFS28326
        #public boolean mayLineBePicked()
        #{
        #    XAP_OrderClass                      orderClass = this.salesTable().xap_OrderClass();
        #    InventTrans                         inventTrans,
        #                                        inventTransMarked;
        #    InventTransOrigin                   inventTransOrigin,
        #                                        inventTransOriginMarked;
        #
        #    if (orderClass.CheckMarkedQtyOnSO)
        #    {
        #        select firstonly RecId from inventTransOrigin where
        #            inventTransOrigin.InventTransId                == this.InventTransId
        #        exists join inventTrans
        #            where inventTrans.InventTransOrigin == inventTransOrigin.RecId
        #              && inventTrans.StatusIssue >= StatusIssue::ReservPhysical //|| inventTrans.StatusIssue == StatusIssue::OnOrder )
        #        exists join inventTransMarked where
        #                    inventTransMarked.InventTransOrigin            == inventTrans.MarkingRefInventTransOrigin &&
        #                    inventTransMarked.MarkingRefInventTransOrigin  == inventTrans.InventTransOrigin &&
        #                    inventTransMarked.StatusReceipt                == StatusReceipt::Registered
        #        exists join inventTransOriginMarked where
        #            inventTransOriginMarked.RecId               == inventTransMarked.InventTransOrigin &&
        #           (inventTransOriginMarked.ReferenceCategory   == InventTransType::Purch   ||
        #            inventTransOriginMarked.ReferenceCategory   == InventTransType::TransferOrderReceive);
        #
        #        if (inventTransOrigin.RecId)
        #        {
        #            return false;
        #        }
        #    }
        #
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #mayPackingSlipBeUpdated
        #/// <summary>
        #/// Determines if the <c>SalesLine</c> record may be packing slip updated.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The <c>SalesTable</c> record for the sales line to investigate; optional.
        #/// </param>
        #/// <returns>
        #/// true if the <c>SalesLine</c> record may be packing slip updated; otherwise, false.
        #/// </returns>
        #public boolean mayPackingSlipBeUpdated(SalesTable _salesTable = this.salesTable())
        #{
        #    if (this.SalesId != _salesTable.SalesId)
        #    {
        #        throw error(strFmt("@SYS19306",funcName()));
        #    }
        #    return this.type(_salesTable).mayPackingSlipBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayPickingListBeRegistrated
        #public boolean mayPickingListBeRegistrated()
        #{
        #    return this.type().mayPickingListBeRegistered();
        #}
      ENDSOURCE
      SOURCE #mayPickingListBeUpdated
        #/// <summary>
        #/// Determines if the <c>SalesLine</c> record may be picked.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The <c>SalesTable</c> record for the sales line to investigate; optional.
        #/// </param>
        #/// <returns>
        #/// true if the <c>SalesLine</c> record may be picked; otherwise, false.
        #/// </returns>
        #public boolean mayPickingListBeUpdated(SalesTable   _salesTable = this.salesTable())
        #{
        #    if (this.SalesId != _salesTable.SalesId)
        #    {
        #        throw error(strFmt("@SYS19306",funcName()));
        #    }
        #    return this.type(_salesTable).mayPickingListBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayProjectPackingSlipBeUpdated
        #public boolean mayProjectPackingSlipBeUpdated()
        #{
        #    return this.type().mayProjectPackingSlipBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mergeDimension
        #/// <summary>
        #/// Retrieves a dimension set that contains the merged combination of the current
        #/// <c>defaultDimension</c> field on the <c>SalesLine</c> table and the provided dimension set.
        #/// </summary>
        #/// <param name="_primaryDefaultDimension">
        #/// A first dimension set to merge with the current <c>defaultDimension</c> field on this table.
        #/// </param>
        #/// <param name="_secondaryDefaultDimension">
        #/// A second dimension set to merge with the current <c>defaultDimension</c> field on this table;
        #/// optional.
        #/// </param>
        #/// <param name="_dimensionMerge">
        #/// A <c>dimensionMerge</c> object created by using the current buffer; optional.
        #/// </param>
        #/// <returns>
        #/// A dimension set that contains the merged combination of the current <c>defaultDimension</c> field
        #/// on this table and the provided dimension set.
        #/// </returns>
        #/// <remarks>
        #/// This method makes sure that potential linked dimensions are not overwritten when they are merged.
        #/// </remarks>
        #
        #public DimensionDefault mergeDimension(
        #    DimensionDefault _primaryDefaultDimension,
        #    DimensionDefault _secondaryDefaultDimension = 0,
        #    DimensionMerge   _dimensionMerge = DimensionMerge::newFromTable(this,
        #                                                                    this.companyInfo().RecId
        #                                                                    )
        #    )
        #{
        #    return _dimensionMerge.merge(_primaryDefaultDimension, _secondaryDefaultDimension);
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #/// <summary>
        #/// Perform any necessary initialization or validation when the given field is modified.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field which was modified.
        #/// </param>
        #/// <param name="_calledFromForm">
        #/// Indicate if the call was really made from the form.
        #/// </param>
        #public void modifiedField(FieldId _fieldId,
        #                            boolean _calledFromForm = true) //<NAXT CU5/> TFS 22873
        #{
        #    AxSalesLine                 axSalesLine;
        #    Object                      formDataSource;
        #    InventQty                   inventQty;
        #    CostAmount                  costAmount;
        #    DlvMode                     dlvMode;
        #    InventDim                   inventDim;
        #    InventDimParm               inventDimParm;
        #    TaxGroup                    taxGroup;
        #
        #    // <NAXT>
        #    XAP_OrderClassRecId         orderClassRecId;
        #    ProjItemTrans               projItemTrans;
        #    // </NAXT>
        #
        #    // <GGH>
        #    XAP_SvcSegmentTable         segmentTable;
        #    // <GGH>
        #
        #    super(_fieldId);
        #
        #    // <NAXT>
        #    orderClassRecId = this.salesTable().OrderClassRecId;
        #    // </NAXT>
        #
        #    if (this.isFormDataSource())
        #    {
        #        if (formDataSourceHasMethod(this.dataSource(),classStr(AxSalesLine)))
        #        {
        #            formDataSource = this.dataSource();
        #            axSalesLine = formDataSource.axSalesLine();
        #        }
        #    }
        #    else
        #    {
        #        axSalesLine = AxSalesLine::newSalesLine(this);
        #    }
        #
        #    if (axSalesLine
        #    // <NAXT>
        #    &&  this.dataSource())
        #    // </NAXT>
        #    {
        #        axSalesLine.setFieldAsTouched(_fieldId);
        #        axSalesLine.modify();
        #        // <NAXT>
        #        //if (this.dataSource())
        #        //{
        #            if (formDataSourceHasMethod(this.dataSource(),identifierStr(fieldModified)))
        #            {
        #                formDataSource = this.dataSource();
        #                formDataSource.fieldModified();
        #            }
        #        //}
        #        // </NAXT>
        #    }
        #    else
        #    {
        #        switch (_fieldId)
        #        {
        #            //BIZ_01068_Q0X3X - 18/03/2021 - FUS - Start
        #            case fieldNum(SalesLine, AssetId):
        #            this.modifyAssetId();
        #            break;
        #            //BIZ_01068_Q0X3X - 18/03/2021 - FUS - End
        #            case fieldNum(SalesLine, SalesCategory):
        #                // Clear all dimensions except site and location
        #                inventDim = this.inventDim();
        #                inventDimParm.setActiveSiteAndWarehouseDimensions();
        #                inventDim.clearNotSelectedDim(inventDimParm);
        #                this.setInventDimIdFromInventDim(inventDim);
        #                this.initFromItemOrCategory(this.ItemId, this.SalesCategory, this.Name);
        #                this.initName();
        #                break;
        #
        #            case fieldNum(SalesLine, SalesDeliverNow):
        #                this.pdsCWSalesDeliverNowConversion(false);
        #                this.setInventDeliverNow();
        #                break;
        #
        #            case fieldNum(SalesLine, SalesPrice):
        #                //<NAXT CU5> TFS 22873
        #                if(_calledFromForm)
        #                {
        #                //</NAXT CU5>
        #                    this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                }
        #
        #                if(this.ReturnStatus != ReturnStatusLine::None)
        #                {
        #                    this.LineAmount = this.calcLineAmountForced(this.ExpectedRetQty);
        #                }
        #                else
        #                {
        #                    this.LineAmount = this.calcLineAmountForcedInteraction(_fieldId);
        #                }
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #
        #                // <NAXT-2012-DCG>
        #                XAP_SalesCostBreakdownLinesHandler::construct(this).refreshSourceLine(false);
        #                // </NAXT-2012-DCG>
        #
        #                break;
        #            case fieldNum(SalesLine, PdsCWInventDeliverNow):
        #                this.pdsCWSalesDeliverNowConversion(true);
        #                this.setInventDeliverNow();
        #                break;
        #
        #            case fieldNum(SalesLine, ItemId):
        #                // <NAXT>
        #                if (orderClassRecId && XAP_OrderClass::findOrderClass(orderClassRecId).UseDimRelSales)
        #                {
        #                    this.initDefaultDimension(XAP_SalesLineDimensionRule::Item);
        #
        #                    // <GGH>
        #                    this.initDefaultDimensionIssue(XAP_SalesLineDimensionRule::Item);
        #                    // </GGH>
        #                }
        #                // </NAXT>
        #                // <NAXT CU2>
        #                if (ProjTable::isPowerSystem(this.ProjId))
        #                {
        #                    this.ProjCategoryId = this.inventTable().projCategoryId;
        #                    // <NAXT CU3>
        #                    this.PSUnitCost = InventTableModule::find(this.ItemId, ModuleInventPurchSales::Purch).price();
        #                    // </NAXT CU3>
        #                }
        #                // </NAXT CU2>
        #
        #                if (pdsIsCWItem(this.ItemId))
        #                {
        #                    this.pdsCWQtyConversion();
        #                    SalesLine::modifySalesQty(this,this.inventDim());
        #                    this.pdsCWSalesDeliverNowConversion(true);
        #                    this.setInventDeliverNow();
        #                    if (this.ReturnStatus != ReturnStatusLine::None)
        #                    {
        #                        this.pdsCWExpRetQtyConversion();
        #                    }
        #                }
        #                else
        #                {
        #                    this.PdsCWQty = 0;
        #                    this.PdsCWInventDeliverNow = 0;
        #                    this.PdsCWRemainInventFinancial = 0;
        #                    this.PdsCWRemainInventPhysical = 0;
        #                }
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, LinePercent):
        #                this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                /* <SYS>
        #                this.LineAmount = this.calcLineAmountForcedInteraction(_fieldId);
        #                </SYS> */
        #                // <NAXT CU3>
        #                if (!ProjTable::isPowerSystem(this.ProjId))
        #                {
        #                    this.LineAmount = this.calcLineAmountForcedInteraction(_fieldId);
        #                }
        #                // </NAXT CU3>
        #
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, LineDisc):
        #                this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                this.LineAmount = this.calcLineAmountForcedInteraction(_fieldId);
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, LineAmount):
        #                this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                this.lineAmountModified();
        #                this.LineAmount = this.calcLineAmountForcedInteraction(_fieldId, this.SalesQty, false);
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, SalesUnit):
        #                this.pdsCWQtyConversion();
        #                this.pdsCWSalesDeliverNowConversion(true);
        #                if (this.ReturnStatus != ReturnStatusLine::None)
        #                {
        #                    this.pdsCWExpRetQtyConversion();
        #                }
        #                this.salesUnitModified();
        #                break;
        #
        #            case fieldNum(SalesLine, PriceUnit):
        #                this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                this.LineAmount = this.calcLineAmountInteraction(_fieldId);
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, PdsCWExpectedRetQty):
        #                this.pdsCWExpRetQtyConversion();
        #                //fallthrough
        #            case fieldNum(SalesLine, ExpectedRetQty):
        #                SalesLine::modifyExpectedRetQty(this, this.inventDim());
        #                if (this.ReturnStatus != ReturnStatusLine::None)
        #                {
        #                    this.LineAmount = this.calcLineAmount(this.ExpectedRetQty);
        #
        #                    if (this.SalesQty)
        #                    {
        #                        this.SalesQty = this.ExpectedRetQty;
        #                        if(this.ReturnStatus == ReturnStatusLine::Awaiting && this.ReturnAllowReservation)
        #                        {
        #                            this.PdsCWQty = this.PdsCWExpectedRetQty;
        #                        }
        #                        SalesLine::modifySalesQty(this,this.inventDim());
        #                    }
        #                    // <GIN>
        #                    this.updateAndPackAccessableValue_IN();
        #                    // </GIN>
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, SalesQty):
        #                /*<SYS>
        #                this.salesQtyModifiedInteraction();
        #                <SYS>*/
        #                // <NAXT>
        #
        #                //<NAXT_21155_LD>
        #                //<GGH> TFS:47089
        #                if (this.ReturnCondition == XAP_PICReturnConditions::RefillBuyBack && this.orig().SalesQty < this.SalesQty)
        #                {
        #                    this.SalesQty = this.orig().SalesQty;
        #                    checkFailed("@GGH20071");
        #                }
        #                //</GGH> TFS:47089
        #
        #                this.SalesPurchLine::salesQtyModified(this.inventDim());
        #                //</NAXT_21155_LD>
        #
        #                if (this.checkOWMPricing())
        #                {
        #                    this.calcPriceForOWM();
        #                    this.initSalesQty();
        #                }
        #                else
        #                {
        #                    this.salesQtyModifiedInteraction();
        #                }
        #
        #                //<NAXT_21155_LD>
        #                //this.SalesPurchLine::salesQtyModified(this.inventDim());
        #                //</NAXT_21155_LD>
        #
        #                if (!this.salesTable().DisableAutoReplacement)
        #                {
        #                    XAP_ItemReplacement::checkAndReplace(this);
        #                }
        #
        #                this.CalculatedWeight = this.SalesQty * this.inventTable().grossWeight();
        #                // </NAXT>
        #
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN(true);
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, PdsCWQty):
        #                this.pdsCWQtyConversion();
        #                SalesLine::modifySalesQty(this,this.inventDim());
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN(true);
        #                // </GIN>
        #                break;
        #            case fieldNum(SalesLine, SalesMarkup):
        #                this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, _fieldId);
        #                this.LineAmount = this.calcLineAmountForced();
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, MultiLnDisc):
        #                this.LineAmount = this.calcLineAmountForced();
        #                this.type().setPriceDiscChangePolicyMultiLine();
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, MultiLnPercent):
        #                this.LineAmount = this.calcLineAmountForced();
        #                this.type().setPriceDiscChangePolicyMultiLine();
        #                // <GIN>
        #                this.updateAndPackAccessableValue_IN();
        #                // </GIN>
        #                break;
        #
        #            case fieldNum(SalesLine, InventTransIdReturn):
        #                [inventQty, costAmount] = InventTransOrigin::calcInvoicedCostValue(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransIdReturn));
        #                if (inventQty)
        #                {
        #                    this.CostPrice = costAmount/inventQty;
        #                }
        #                break;
        #
        #            // <NAXT>
        #            case fieldNum(SalesLine, LineCategoryGroupId) :
        #                this.ProjCategoryId = XAP_SvcProjCategoryDefault::calcProjCategory(this.segmentId(), this.LineCategoryGroupId, XAP_SvcFlatRateType::Parts);
        #                this.projCategoryIdModified();
        #
        #                if (!this.RecId)
        #                {
        #                    this.setExcludeFromSvcQuote();
        #                }
        #            // </NAXT>
        #
        #            case fieldNum(SalesLine, ProjCategoryId):
        #                /*<SYS>
        #                this.setTaxItemGroup(this.TaxItemGroup);
        #                this.setProjLinePropertyId();
        #                <SYS>*/
        #                // <NAXT>
        #                this.projCategoryIdModified();
        #                // </NAXT>
        #                break;
        #
        #            case fieldNum(SalesLine, ActivityNumber):
        #                this.initFromProjActivity(ProjActivity::find(this.ActivityNumber));
        #                this.setTaxItemGroup(this.TaxItemGroup);
        #                this.setProjLinePropertyId();
        #                break;
        #
        #            case fieldNum(SalesLine, ProjId):
        #                this.projIdModified();
        #                break;
        #
        #            case fieldNum(SalesLine, PackingUnit):
        #                this.calcPackingUnitQty();
        #                break;
        #
        #            case fieldNum(SalesLine, DeliveryPostalAddress):
        #                LogisticsLocationSelectForm_SalesLine::construct(this).copyAddressToCaller(this.getDeliveryEntityRecord(),
        #                    this.DeliveryPostalAddress);
        #                taxGroup = LogisticsLocationExt::find(LogisticsPostalAddress::findRecId(this.DeliveryPostalAddress).Location).TaxGroup;
        #                if (taxGroup)
        #                {
        #                    this.setTaxGroup(taxGroup);
        #                }
        #
        #                // <GBR>
        #                if (BrazilParameters::isEnabled())
        #                {
        #                    this.onDeliveryPostalAddressChange_BR();
        #                }
        #                // </GBR>
        #
        #                // <NAXT>
        #                if (orderClassRecId && XAP_OrderClass::findOrderClass(orderClassRecId).UseDimRelSales)
        #                {
        #                    this.initDefaultDimension(XAP_SalesLineDimensionRule::ZipCode);
        #
        #                    // <GGH>
        #                    this.initDefaultDimensionIssue(XAP_SalesLineDimensionRule::ZipCode);
        #                    // </GGH>
        #                }
        #                // </NAXT>
        #
        #                break;
        #
        #            case fieldNum(SalesLine, ReceiptDateRequested):
        #                this.unlinkAgreementDeliveryDates(_fieldId);
        #                if (this.ShippingDateRequested > this.ReceiptDateRequested)
        #                {
        #                    this.ShippingDateRequested = this.ReceiptDateRequested;
        #                    this.ConfirmedDlv          = this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #                    this.checkPriceDate(fieldNum(SalesLine, ShippingDateRequested));
        #                }
        #                this.pdsUpdateReservationRequired(fieldNum(SalesLine, ReceiptDateRequested));
        #                this.checkPriceDate(_fieldId);
        #                break;
        #
        #            case fieldNum(SalesLine, ShippingDateRequested):
        #                this.unlinkAgreementDeliveryDates(_fieldId);
        #                this.ConfirmedDlv = this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #
        #                if (this.ShippingDateRequested > this.ReceiptDateRequested)
        #                {
        #                    this.ReceiptDateRequested = this.ShippingDateRequested;
        #                    this.pdsUpdateReservationRequired(fieldNum(SalesLine, ReceiptDateRequested));
        #
        #                    this.checkPriceDate(fieldNum(SalesLine, ReceiptDateRequested));
        #                }
        #                this.checkPriceDate(_fieldId);
        #                break;
        #
        #            case fieldNum(SalesLine, ShippingDateConfirmed):
        #                this.ConfirmedDlv = this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #
        #                if (this.ShippingDateConfirmed > this.ReceiptDateConfirmed)
        #                {
        #                    this.ReceiptDateConfirmed = this.ShippingDateConfirmed;
        #                    this.pdsUpdateReservationRequired(fieldNum(SalesLine, ReceiptDateConfirmed));
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, Reservation):
        #                //TFS10611 - begin
        #                if (this.Reservation != this.orig().Reservation)
        #                {
        #                    this.OrigReservation = this.Reservation;
        #                }
        #                //TFS10611 - end
        #                if (this.Reservation != ItemReservation::Automatic
        #                    && this.PdsBatchAttribAutoRes)
        #                {
        #                    this.PdsBatchAttribAutoRes = NoYes::No;
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, ReceiptDateConfirmed):
        #                if (this.ShippingDateConfirmed > this.ReceiptDateConfirmed)
        #                {
        #                    this.ShippingDateConfirmed = this.ReceiptDateConfirmed;
        #                    this.ConfirmedDlv          = this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #                }
        #                this.pdsUpdateReservationRequired(fieldNum(SalesLine, ReceiptDateConfirmed));
        #                break;
        #
        #            // Return - begin
        #            case fieldNum(SalesLine, ReturnDispositionCodeId):
        #                this.createReturnMarkupTrans(this.salesTable());
        #                this.returnUpdateBasedOnDispcode();
        #                // <GBR>
        #                if (this.ReturnDispositionCodeId && BrazilParameters::isEnabled())
        #                {
        #                    if (Box::yesNo("@GLS50989", DialogButton::Yes) == DialogButton::No)
        #                    {
        #                        this.ReturnDispositionCodeId = '';
        #                    }
        #                }
        #                // </GBR>
        #                break;
        #
        #            case fieldNum(SalesLine, ReturnAllowReservation):
        #                if (this.ReturnStatus == ReturnStatusLine::Awaiting)
        #                {
        #                    if (this.ReturnAllowReservation)
        #                    {
        #                        this.SalesQty = this.ExpectedRetQty;
        #                        this.PdsCWQty = this.PdsCWExpectedRetQty;
        #                    }
        #                    else
        #                    {
        #                        this.SalesQty = 0;
        #                        this.PdsCWQty = 0;
        #                    }
        #                    SalesLine::modifySalesQty(this,this.inventDim());
        #                }
        #                break;
        #            // Return - end
        #
        #            case fieldNum(SalesLine, DlvMode):
        #                dlvMode = DlvMode::find(this.DlvMode);
        #                this.ShipCarrierId          = dlvMode.ShipCarrierId;
        #                this.ShipCarrierDlvType     = dlvMode.ShipCarrierDlvType;
        #                this.ShipCarrierAccountCode = dlvMode.ShipCarrierAccountCode;
        #                // <NAXT>
        #                if (XWM_Parameters::find().EnableTecsysWMS == NoYes::Yes)
        #                {
        #                    if (this.orig().DlvMode != this.DlvMode)
        #                    {
        #                        this.DlvReasonId = '';
        #                        this.wmsOrderTypeRecId = 0;
        #                        this.DestinationCodeRecId = 0;
        #
        #                        this.ShipInstructions   = XAP_ShipInstructions::Default; //XAP 9418
        #                        this.TypeOfDelivery     = XAP_TypeOfDelivery::Shipping;
        #                        this.type().setDropBoxField(); //TFS9757
        #                    }
        #                }
        #                this.setDeliveryAddressFromWarehouse();
        #                // </NAXT>
        #                break;
        #            // <GEERU>
        #            case fieldNum(SalesLine, PriceAgreementDate_RU):
        #                SalesLine::modifySalesQty(this, this.inventDim());
        #                break;
        #            // </GEERU>
        #
        #            // <NAXT>
        #            case fieldNum(SalesLine,EquipmentId):
        #                if (this.EquipmentConfigId)
        #                {
        #                    XAP_EquipmentConfigurationHeader::updateEquipmentId(this.EquipmentConfigId,this.EquipmentId);
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine,SalesPoolId):
        #                SalesLine::modifySalesPoolId(this, this.inventDim());
        #                break;
        #
        #            case fieldNum(SalesLine, EstQty):
        #                this.modifyEstQty();
        #                break;
        #
        #            case fieldNum(SalesLine, FreezePrice) :
        #                if (XAP_SvcLineCategoryGroup::findRecId(this.inventTable().LineCategoryGroupId).MiscItem && this.ProjTransId)
        #                {
        #                    ttsbegin;
        #
        #                    projItemTrans = ProjItemTrans::find(this.ProjTransId, true);
        #
        #                    if (projItemTrans)
        #                    {
        #                        projItemTrans.FreezePrice = this.FreezePrice;
        #                        projItemTrans.update();
        #                    }
        #
        #                    ttscommit;
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, MarkupPercentage) :
        #            /* <NAXT> - Separated by GGH
        #            case fieldNum(SalesLine, Cost) :
        #            </NAXT> */
        #                if (this.checkOWMPricing())
        #                {
        #                    this.initSalesQty();
        #                    this.calcPriceForOWM();
        #                }
        #                break;
        #
        #            // <GGH>
        #            case fieldNum(SalesLine, PurchaseCurrUnitCost) :
        #                if (this.segmentId())
        #                {
        #                    if (this.PurchaseCurrencyCode != CustTable::getCurrency(this.CustAccount))
        #                    {
        #                        select firstonly ExchangeRateTypeId, ExchangeContractId from segmentTable
        #                            where segmentTable.RecId == this.segmentId();
        #
        #                        this.Cost                   = Currency::curPrice2CurPrice(
        #                                                                            this.PurchaseCurrUnitCost,
        #                                                                            this.PurchaseCurrencyCode,
        #                                                                            CustTable::getCurrency(this.CustAccount),
        #                                                                            systemDateGet(),
        #                                                                            true,
        #                                                                            segmentTable.ExchangeRateTypeId,
        #                                                                            segmentTable.ExchangeContractId);
        #                    }
        #                    else
        #                    {
        #                        this.Cost                   = this.PurchaseCurrUnitCost;
        #                    }
        #                }
        #
        #                if (this.checkOWMPricing())
        #                {
        #                    this.initSalesQty();
        #                    this.calcPriceForOWM();
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, Cost) :
        #                if (this.segmentId())
        #                {
        #                    if (this.PurchaseCurrencyCode != CustTable::getCurrency(this.CustAccount))
        #                    {
        #                        select firstonly ExchangeRateTypeId, ExchangeContractId from segmentTable
        #                            where segmentTable.RecId == this.segmentId();
        #
        #                        this.PurchaseCurrUnitCost = Currency::curPrice2CurPrice(
        #                                                                            this.Cost,
        #                                                                            CustTable::getCurrency(this.CustAccount),
        #                                                                            this.PurchaseCurrencyCode,
        #                                                                            systemDateGet(),
        #                                                                            true,
        #                                                                            segmentTable.ExchangeRateTypeId,
        #                                                                            segmentTable.ExchangeContractId);
        #                    }
        #                    else
        #                    {
        #                        this.PurchaseCurrUnitCost                   = this.Cost;
        #                    }
        #                }
        #
        #                if (this.checkOWMPricing())
        #                {
        #                    this.initSalesQty();
        #                    this.calcPriceForOWM();
        #                }
        #                break;
        #            // </GGH>
        #
        #            case fieldNum(SalesLine, RequiredQty):
        #                this.SalesPurchLine::requiredQtyModified(this.inventDim());
        #                break;
        #
        #            case fieldNum(SalesLine, EnableTEPS):
        #                // <NAXT CU1>
        #                this.setPriceDisc(this.inventDim());
        #                // </NAXT CU1>
        #                break;
        #
        #            case fieldNum(SalesLine, CostBreakdownTotalSales) :
        #                this.CostBreakdownTotalMargin = XAP_SalesCostBreakdownLinesHandler::calculateMargin(this.CostBreakdownTotalCost, this.CostBreakdownTotalSales);
        #                break;
        #            case fieldNum(SalesLine, CostBreakdownTotalCost)   :
        #            case fieldNum(SalesLine, CostBreakdownTotalMargin) :
        #                this.CostBreakdownTotalSales = XAP_SalesCostBreakdownLinesHandler::calculateRevenue(this.CostBreakdownTotalCost, this.CostBreakdownTotalMargin);
        #                break;
        #            case fieldNum(SalesLine, CostBreakdownCost)   :
        #            case fieldNum(SalesLine, CostBreakdownMargin) :
        #                this.SalesPrice = XAP_SalesCostBreakdownLinesHandler::calculateRevenue(this.CostBreakdownCost, this.CostBreakdownMargin);
        #                this.modifiedField(fieldNum(SalesLine,SalesPrice));
        #                break;
        #            case fieldNum(SalesLine, ReturnWarehouse) :
        #            case fieldNum(SalesLine, ReturnLocation)  :
        #                this.setDimensionByReturnWarehouseLocation();
        #                break;
        #
        #            case fieldNum(SalesLine, EquipmentSIS):
        #                this.initFromEquipmentTable(XAP_EquipmentTable::findRecId(this.EquipmentSIS));
        #                break;
        #
        #            case fieldNum(SalesLine, InventDimId) :
        #                if (XWM_Parameters::find().EnableTecsysWMS == NoYes::Yes)
        #                {
        #                    if (this.orig().InventDimId != this.InventDimId)
        #                    {
        #                        this.DlvReasonId = '';
        #                        this.wmsOrderTypeRecId = 0;
        #                        this.DestinationCodeRecId = 0;
        #
        #                        this.ShipInstructions   = XAP_ShipInstructions::Default; //XAP 9418
        #                        this.TypeOfDelivery     = XAP_TypeOfDelivery::Shipping;
        #                        this.type().setDropBoxField(); //TFS9757
        #                    }
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, DlvReasonId) :
        #                if (XWM_Parameters::find().EnableTecsysWMS == NoYes::Yes)
        #                {
        #                    if (this.orig().DlvReasonId != this.DlvReasonId)
        #                    {
        #                        this.wmsOrderTypeRecId = 0;
        #                        this.DestinationCodeRecId = 0;
        #
        #                        this.ShipInstructions   = XAP_ShipInstructions::Default; //XAP 9418
        #                        this.TypeOfDelivery     = XAP_TypeOfDelivery::Shipping;
        #                        this.type().setDropBoxField(); //TFS9757
        #
        #                    }
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, wmsOrderTypeRecId) :
        #                this.ShipInstructions   = XAP_OrderTypeTable::findByRecId(this.wmsOrderTypeRecId).ShipInstructions; //XAP 9418
        #                this.TypeOfDelivery     = XAP_OrderTypeTable::findByRecId(this.wmsOrderTypeRecId).TypeOfDelivery;
        #
        #                this.type().setDropBoxField();  //TFS9429 - typeofdlv - sza - 20130730
        #
        #                break;
        #
        #            case fieldNum(SalesLine, DropBoxCodeRecId) :
        #                this.type().setDropBoxField();
        #                break;
        #
        #            case fieldNum(SalesLine, TradeInEquipment) :
        #                this.updateTradeInFields();
        #                break;
        #            // </NAXT>
        #            // <NAXT CU3>
        #            case fieldNum(SalesLine, PSUnitCost):
        #                this.Cost = this.PSUnitCost * this.SalesQty;
        #                break;
        #            // <NAXT CU3>
        #
        #            // <NAXT CU4>
        #            case fieldnum(SalesLine, CATPWC):
        #                if (!this.CATPWC)
        #                {
        #                    this.CICCode = '';
        #                }
        #                break;
        #            // </NAXT CU4>
        #
        #            // <GGH>
        #            case fieldNum(SalesLine, InstalledOn) :
        #                if (InventParameters::find().PexFunctionality)
        #                {
        #                    this.InventSerialIdInstalledOn = XAP_EquipmentTable::getInventSerialId(this.InstalledOn);
        #                }
        #                break;
        #            case fieldNum(SalesLine, InventSerialIdInstalledOn) :
        #                if (InventParameters::find().PexFunctionality)
        #                {
        #                    this.InstalledOn = XAP_EquipmentTable::findByActiveSerial(this.InventSerialIdInstalledOn).RecId;
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, ExchangeRateType) :
        #                if(ExchangeRateType::find(this.ExchangeRateType).RateFillLogic != GGH_RateFillLogic::Contract)
        #                    this.RateContractId = '';
        #            case fieldNum(SalesLine, CurrencyCode) :
        #            case fieldNum(SalesLine, RateContractId) :
        #                this.type().initLineCurrencyFormHeader();
        #                break;
        #            // </GGH>
        #            //<GGH> TFS:47089
        #            case fieldNum(SalesLine, ReturnCondition) :
        #                if (!this.RecId && this.ReturnCondition == XAP_PICReturnConditions::RefillBuyBack)
        #                {
        #                    this.InstalledOn = XAP_EquipmentTable::findByActiveSerial(this.InventSerialIdInstalledOn).RecId;
        #                    this.ReturnCondition = XAP_PICReturnConditions::None;
        #                    checkFailed("@GGH20071");
        #                }
        #              break;
        #            //<GGH> TFS:47089
        #        }
        #        this.modifiedFieldDDC(_fieldId);
        #
        #        // <GBR>
        #        if (BrazilParameters::isEnabled())
        #        {
        #            this.postModifiedField_BR(_fieldId);
        #        }
        #        // </GBR>
        #    }
        #}
      ENDSOURCE
      SOURCE #modifiedFieldDDC
        #/// <summary>
        #/// Processes the modified field event for delivery date control fields.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID for the modified field.
        #/// </param>
        #public void modifiedFieldDDC(FieldId _fieldId) //Enhanced Delivery Date Control
        #{
        #    SalesCalcAvailableDlvDates  salesCalcAvailableDlvDates;
        #
        #    // on-demand loading of salesCalcAvailableDlvDates variable, to mitigate performance
        #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates()
        #    {
        #        if (!salesCalcAvailableDlvDates)
        #        {
        #            salesCalcAvailableDlvDates = SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(this, _fieldId);
        #        }
        #
        #        return salesCalcAvailableDlvDates;
        #    }
        #
        #    if (this.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #    {
        #        switch (_fieldId)
        #        {
        #            case fieldNum(SalesLine, DeliveryPostalAddress):    //fall through
        #            case fieldNum(SalesLine, DlvMode):                  //fall through
        #                if (!this.RecId)
        #                {
        #                    salesCalcAvailableDlvDates().modifiedFieldBeforeInsert(this);
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, DeliveryDateControlType):
        #                if(this.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #                {
        #                    salesCalcAvailableDlvDates().modifiedField(this);
        #                }
        #                break;
        #
        #            case fieldNum(SalesLine, ReceiptDateRequested):
        #                salesCalcAvailableDlvDates().modifiedField(this);
        #
        #                if (this.ShippingDateRequested > this.ReceiptDateRequested)
        #                {
        #                    this.ShippingDateRequested = this.ReceiptDateRequested;
        #                    this.checkPriceDate(fieldNum(SalesLine, ShippingDateRequested));
        #                }
        #
        #                this.checkPriceDate(_fieldId);
        #                break;
        #
        #            case fieldNum(SalesLine, ShippingDateRequested):
        #                salesCalcAvailableDlvDates().modifiedField(this);
        #
        #                if (this.ShippingDateRequested > this.ReceiptDateRequested)
        #                {
        #                    this.ReceiptDateRequested = this.ShippingDateRequested;
        #                    this.checkPriceDate(fieldNum(SalesLine, ReceiptDateRequested));
        #                }
        #
        #                this.checkPriceDate(_fieldId);
        #                break;
        #
        #            case fieldNum(SalesLine, ShippingDateConfirmed):
        #                salesCalcAvailableDlvDates().modifiedField(this);
        #
        #                if (this.ShippingDateConfirmed > this.ReceiptDateConfirmed)
        #                    this.ReceiptDateConfirmed = this.ShippingDateConfirmed;
        #                break;
        #
        #            case fieldNum(SalesLine, ReceiptDateConfirmed):
        #                salesCalcAvailableDlvDates().modifiedField(this);
        #
        #                if (this.ShippingDateConfirmed > this.ReceiptDateConfirmed)
        #                    this.ShippingDateConfirmed = this.ReceiptDateConfirmed;
        #                break;
        #
        #            default:
        #        }
        #    }
        #
        #    this.ConfirmedDlv = this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #}
      ENDSOURCE
      SOURCE #modifiedFieldValue
        #/// <summary>
        #/// Modifies a specified field.
        #/// </summary>
        #/// <param name="_fieldName">
        #/// The field name of the field to modify.
        #/// </param>
        #/// <param name="_arrayIndex">
        #/// The array index of the field to modify.
        #/// </param>
        #public void modifiedFieldValue(FieldName _fieldName, int _arrayIndex = 1)
        #{
        #    // <GIN>
        #    SalesLine_IN salesLine_IN;
        #    #ISOCountryRegionCodes
        #    // </GIN>
        #
        #    super(_fieldName, _arrayIndex);
        #
        #    switch(_fieldName)
        #    {
        #        // <GEERU> <GIN>
        #        case fieldStr(SalesLine, ItemId):
        #        // </GIN> </GEERU>
        #        // <GIN>
        #            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
        #            {
        #                salesLine_IN = this.salesLine_IN();
        #                salesLine_IN.setExciseFields(this);
        #                this.packSalesLine_IN(salesLine_IN);
        #            }
        #        // </GIN>
        #        // <GEERU>
        #            if (! this.isStocked())
        #            {
        #                this.CountryRegionName_RU   = '';
        #                this.InvoiceGTDId_RU        = '';
        #            }
        #        // </GEERU>
        #        // <GEERU> <GIN>
        #        break;
        #        // </GIN> </GEERU>
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #modifyAssetId
        #/// <summary>
        #/// Modifies the related field values when the value of the <c>AssetId</c> field is changed.
        #/// </summary>
        #/// <remarks>
        #/// The value of the <c>AssetGroup</c> field and the <c>AssetBookId</c> field will be updated based on
        #/// the new value of the <c>AssetId</c> field.
        #/// </remarks>
        #public void modifyAssetId()
        #{
        #    AssetBook       assetBook;
        #    AssetBookTable  assetBookTable;
        #    AssetBookId     bookIdDefault;
        #    AssetTable      assetTable;
        #
        #    select AssetGroup from assetTable
        #        where assetTable.AssetId == this.AssetId;
        #    if (assetTable)
        #    {
        #        this.AssetGroup = assetTable.AssetGroup;
        #
        #        // If asset is assigned, need to clear "createFixedAsset" flag.
        #        this.CreateFixedAsset = false;
        #    }
        #    else
        #    {
        #        this.AssetGroup = '';
        #    }
        #
        #    bookIdDefault = AssetParameters::find().BookIdDefault;
        #    assetBook = AssetBook::find(this.AssetId, bookIdDefault);
        #
        #    if (assetBook &&
        #       AssetBookTable::find(bookIdDefault).CurrentOperationsTax == CurrentOperationsTax::Current &&
        #       (assetBook.Status == AssetStatus::NoAcquisition ||
        #        assetBook.Status == AssetStatus::Open))
        #    {
        #        this.AssetBookId = bookIdDefault;
        #    }
        #    else
        #    {
        #        select firstonly assetBook
        #        where assetBook.AssetId == this.AssetId &&
        #              (assetBook.Status == AssetStatus::NoAcquisition ||
        #               assetBook.Status == AssetStatus::Open)
        #        join RecId from assetBookTable
        #        where assetBookTable.BookId               == assetBook.BookId &&
        #              assetBookTable.CurrentOperationsTax == CurrentOperationsTax::Current;
        #
        #        if (assetBook)
        #        {
        #            this.AssetBookId = assetBook.BookId;
        #        }
        #        else
        #        {
        #           this.AssetBookId = "";
        #        }
        #    }
        #    if (this.AssetId && this.AssetBookId)
        #    {
        #        this.DefaultDimension = this.mergeDimension(AssetTable::find(this.AssetId).defaultDimension(this.AssetBookId));
        #    }
        #}
      ENDSOURCE
      SOURCE #modifyEstQty
        #/// <summary>
        #/// Handle the modification of the estimated qty field.
        #/// </summary>
        #//XAP_311_AddStandardJobs
        #public void modifyEstQty()
        #{
        #    InventParameters    inventParameters = InventParameters::find();
        #    InventDim           inventDim        = this.inventDim();
        #    SalesLine           salesLineCheck;
        #
        #    if (this.EstQty)
        #    {
        #        if (inventParameters.RequiredQtyHandling == XAP_RequiredQtyHandling::OrderedQty)
        #        {
        #            this.SalesQty = this.EstQty;
        #
        #            if (!this.FreezePrice && InventTableModule::priceBasedOnActPurch(this.ItemId, ModuleInventPurchSales::Sales))
        #            {
        #                this.calcPriceForOWM();
        #                this.initSalesQty();
        #            }
        #            else
        #            {
        #                SalesLine::modifySalesQty(this, inventDim);
        #            }
        #
        #            this.SalesPurchLine::salesQtyModified(inventDim);
        #        }
        #        else if (inventParameters.RequiredQtyHandling == XAP_RequiredQtyHandling::RequiredQty)
        #        {
        #            this.RequiredQty = this.EstQty;
        #
        #            if (!this.FreezePrice && InventTableModule::priceBasedOnActPurch(this.ItemId, ModuleInventPurchSales::Sales))
        #            {
        #                this.SalesPurchLine::requiredQtyModified(inventDim, true);
        #                this.calcPriceForOWM();
        #            }
        #            else
        #            {
        #                SalesLine::modifySalesQty(this, inventDim);
        #                this.SalesPurchLine::requiredQtyModified(inventDim);
        #            }
        #        }
        #
        #        if (InventTable::getExchangeType(this.ItemId) == XAP_ExchangeTypes::Reman)
        #        {
        #            if (this.RecId)
        #                {
        #                    select forupdate salesLineCheck
        #                        where salesLineCheck.SalesId              == this.SalesId
        #                           && salesLineCheck.CoreInventTransId    == this.InventTransId;
        #
        #                    if (salesLineCheck)
        #                    {
        #                        ttsbegin;
        #                        salesLineCheck.EstQty = this.EstQty;
        #                        //<NAXT_Lifecycle>
        #                        if (salesLineCheck.validateWrite())
        #                        {
        #                            salesLineCheck.update();
        #                        }
        #                        else
        #                        {
        #                            throw Exception::Error;
        #                        }
        #                        //</NAXT_Lifecycle>
        #                        ttscommit;
        #
        #                    }
        #            }
        #        }
        #
        #    }
        #}
      ENDSOURCE
      SOURCE #modifyInventDim
        #/// <summary>
        #/// Updates the related fields when an inventory dimension field is modified.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// The new inventory dimension record.
        #/// </param>
        #/// <param name="_dimFieldId">
        #/// The ID of the modified <c>InventDim</c> field.
        #/// </param>
        #/// <param name="_resetPrice">
        #/// A Boolean value that indicates whether the price agreements are to be reset.
        #/// </param>
        #public void modifyInventDim(
        #    InventDim            _inventDim,
        #    FieldId              _dimFieldId,
        #    boolean              _resetPrice = true)
        #{
        #    InventDimGroupSetup         inventDimGroupSetup = InventDimGroupSetup::newItemId(this.ItemId);
        #    InventDim                   inventDimLocal = InventDim::findOrCreate(_inventDim);
        #    SalesReceiptDateRequested   receiptDateRequestedOrig;
        #    SalesReceiptDateConfirmed   receiptDateConfirmedOrig;
        #    SalesShippingDateRequested  shippingDateRequestedOrig;
        #    SalesShippingDateConfirmed  shippingDateConfirmedOrig;
        #    //<GGH>
        #    XAP_EquipmentTable          equipmentTabeLoc;
        #    //</GGH>
        #
        #    // <NAXT>
        #    XAP_EquipmentConfigurationHeader    configurationHeader;
        #    XAP_EquipmentTable                  equipmentTable;
        #
        #    XAP_FleetType                       newInventBatchFleetType;
        #    XAP_OrderClassRecId                 orderClassRecId = this.salesTable().OrderClassRecId;
        #
        #    if (this.CopyOfInventDimId && this.CopyOfInventDimId != this.InventDimId)
        #    {
        #        _inventDim     = InventDim::find(this.CopyOfInventDimId);
        #        inventDimLocal = InventDim::findOrCreate(_inventDim);
        #    }
        #    // </NAXT>
        #
        #    if (InventDim::isFieldIdInventItemSetupRelevant(_dimFieldId))
        #    {
        #        this.setDeliveryDateControlType(inventDimLocal.InventDimId);
        #    }
        #
        #    this.setInventDimId(inventDimLocal.InventDimId, inventDimLocal);
        #
        #    if (this.DeliveryDateControlType == SalesDeliveryDateControlType::ATP
        #        || this.DeliveryDateControlType == SalesDeliveryDateControlType::ATPPlusIssueMargin)
        #    {
        #        SalesLine::modifySalesQty(this, inventDimLocal, _resetPrice);
        #    }
        #
        #    if (!this.ItemId)
        #    {
        #        return;
        #    }
        #
        #    if (InventDim::isFieldIdProductDimension(_dimFieldId))
        #    {
        #        this.ExternalItemId = '';
        #        this.initFromProductDimensions(_inventDim);
        #    }
        #
        #    if (_dimFieldId == fieldNum(InventDim,InventSiteId))
        #    {
        #        this.calculateCostPrice(_inventDim);
        #    }
        #
        #    if (_dimFieldId == fieldNum(InventDim,InventLocationId) ||
        #        _dimFieldId == fieldNum(InventDim,InventSiteId)     ||
        #        _dimFieldId == fieldNum(InventDim,ConfigId)         ||
        #        _dimFieldId == fieldNum(InventDim,InventSizeId)     ||
        #        _dimFieldId == fieldNum(InventDim,InventStyleId)    ||
        #        _dimFieldId == fieldNum(InventDim,InventColorId))
        #    {
        #        this.modifyWMSLocation(_inventDim);
        #
        #        // <NAXT>
        #        this.initDefaultDimension(XAP_SalesLineDimensionRule::Warehouse);
        #        // </NAXT>
        #
        #        // <GGH>
        #        this.initDefaultDimensionIssue(XAP_SalesLineDimensionRule::Warehouse);
        #        // </GGH>
        #    }
        #
        #    if (_resetPrice
        #        && (InventDim::mustUseFieldSalesPriceDisc(_dimFieldId, inventDimGroupSetup)
        #            || !InventDim::isInventDimEqual(_inventDim, _inventDim.orig(), inventDimGroupSetup.activeSalesPriceFields()))
        #        && this.LineDeliveryType != LineDeliveryType::DeliveryLine)
        #    {
        #        if (this.RecId && this.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #        {
        #            receiptDateRequestedOrig  = this.ReceiptDateRequested;
        #            receiptDateConfirmedOrig  = this.ReceiptDateConfirmed;
        #            shippingDateRequestedOrig = this.ShippingDateRequested;
        #            shippingDateConfirmedOrig = this.ShippingDateConfirmed;
        #        }
        #
        #        this.SalesPurchLine::resetPriceAgreement();
        #        this.setPriceDisc(_inventDim);
        #
        #        if (this.RecId && this.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #        {
        #            // No update of delivery date fields for existing records. SalesCalcAvailableDlvDates::validateWritePrompt catches illegal changes.
        #            this.ReceiptDateRequested  = receiptDateRequestedOrig;
        #            this.ReceiptDateConfirmed  = receiptDateConfirmedOrig;
        #            this.ShippingDateRequested = shippingDateRequestedOrig;
        #            this.ShippingDateConfirmed = shippingDateConfirmedOrig;
        #        }
        #    }
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        this.postModifyInventDimBR(_inventDim, _dimFieldId, _resetPrice);
        #    }
        #    // </GBR>
        #
        #    // <NAXT>
        #    if (_dimFieldId == fieldNum(InventDim,InventSerialId) && this.EquipmentConfigId)
        #    {
        #        XAP_EquipmentConfigurationHeader::updateSerialNumber(this.EquipmentConfigId, _inventDim.InventSerialId);
        #    }
        #    //<GGH>
        #    if (_dimFieldId == fieldNum(InventDim,InventSerialId))
        #    {
        #        if (this.ItemId && _inventDim.InventSerialId)
        #        {
        #            equipmentTabeLoc               = XAP_EquipmentTable::findBySerial(_inventDim.InventSerialId, this.ItemId);
        #        }
        #
        #        if (!equipmentTabeLoc.RecId && _inventDim.InventSerialId)
        #        {
        #            equipmentTabeLoc               = XAP_EquipmentTable::findByActiveSerial(_inventDim.InventSerialId);
        #        }
        #
        #        this.InventSerialIdInstalledOn = equipmentTabeLoc.InventSerialIdInstalledOn;
        #        this.InstalledOn               = equipmentTabeLoc.InstalledOn;
        #    }
        #    //</GGH>
        #
        #    if (_dimFieldId == fieldNum(InventDim, InventEquipmentId))
        #    {
        #        this.DefaultDimension = XAP_DimensionHandler::updateDimension(this.DefaultDimension, XAP_DimensionEntryCode::Equipment, _inventDim.InventEquipmentId);
        #
        #        if (this.LineType == XAP_LineTypes::Equipment)
        #        {
        #            equipmentTable = XAP_EquipmentTable::find(_inventDim.InventEquipmentId);
        #
        #            if (this.EquipmentConfigId)
        #            {
        #                ttsbegin;
        #
        #                configurationHeader = XAP_EquipmentConfigurationHeader::find(this.EquipmentConfigId, true);
        #
        #                if (configurationHeader)
        #                {
        #                    configurationHeader.Equipment = equipmentTable.RecId;
        #                    //<NAXT_Lifecycle>
        #                    if (configurationHeader.validateWrite())
        #                    {
        #                        configurationHeader.update();
        #                    }
        #                    else
        #                    {
        #                        throw Exception::Error;
        #                    }
        #                    //</NAXT_Lifecycle>
        #                }
        #
        #                ttscommit;
        #            }
        #
        #            this.EquipmentId = _inventDim.InventEquipmentId;
        #
        #            if (equipmentTable.FleetType != XAP_FleetType::Customer)
        #            {
        #                this.changeEquipmentReservationStatus(this, _inventDim);
        #            }
        #
        #            if (InventDimSetupGrid::find(fieldNum(InventDim,InventSerialId)).InventDimInheritedFromEquipment)
        #            {
        #                _inventDim.InventSerialId = equipmentTable.InventSerialId;
        #            }
        #
        #            if (InventDimSetupGrid::find(fieldNum(InventDim,InventBatchId)).InventDimInheritedFromEquipment)
        #            {
        #                _inventDim.InventBatchId = XAP_FleetBatchRelation::find(equipmentTable.FleetType).BatchTemplateId;
        #
        #                if (!_inventDim.InventBatchId && equipmentTable.FleetType == XAP_FleetType::Customer)
        #                {
        #                    newInventBatchFleetType = XAP_FleetInventoryAccountHistory::findLastNotCustomerStatus(equipmentTable.RecId);
        #
        #                    if (newInventBatchFleetType != 255)
        #                    {
        #                        _inventDim.InventBatchId = enum2str(newInventBatchFleetType);
        #                    }
        #                }
        #            }
        #
        #            _inventDim = InventDim::findOrCreate(_inventDim);
        #
        #            this.InventDimId = _inventDim.InventDimId;
        #        }
        #
        #        if (orderClassRecId && XAP_OrderClass::findOrderClass(orderClassRecId).UseDimRelSales)
        #        {
        #            this.initDefaultDimension(XAP_SalesLineDimensionRule::Equipment, _inventDim.InventEquipmentId);
        #
        #            // <GGH>
        #            this.initDefaultDimensionIssue(XAP_SalesLineDimensionRule::Equipment, _inventDim.InventEquipmentId);
        #            // </GGH>
        #        }
        #    }
        #
        #    this.CopyOfInventDimId = '';
        #    // </NAXT>
        #
        #    this.SalesPurchLine::autoMatchAgreementLine(this.salesTable().MatchingAgreement);
        #}
      ENDSOURCE
      SOURCE #modifyWMSLocation
        #/// <summary>
        #/// Modifies an <c>InventDim</c> record with WMS values.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// The <c>InventDim</c> record to modify.
        #/// </param>
        #/// <param name="_resetWMSLocationId">
        #/// A Boolean value that indicates whether the <c>wMSLocationId</c> field is to be reset even when the
        #/// <c>LocationId</c> field is unchanged.
        #/// </param>
        #/// <remarks>
        #/// When changing the warehouse on a sales order line, the location is updated with default WMS values
        #/// for items where the attached dimension group has the location set to active.
        #/// </remarks>
        #public void modifyWMSLocation(InventDim            _inventDim,
        #                              boolean              _resetWMSLocationId = true)
        #{
        #    this.type().modifyWMSLocation(_inventDim, _resetWMSLocationId);
        #}
      ENDSOURCE
      SOURCE #moduleType
        #public ModuleInventPurchSales moduleType()
        #{
        #    return ModuleInventPurchSales::Sales;
        #}
      ENDSOURCE
      SOURCE #mustBeCovPlanned
        #public boolean  mustBeCovPlanned()
        #{
        #    return this.RemainSalesPhysical
        #    ||     this.RemainSalesFinancial;
        #}
      ENDSOURCE
      SOURCE #nextLineNum
        #public LineNum nextLineNum()
        #{
        #    SalesLine salesLine;
        #
        #    return this.SalesPurchLine::nextLineNum(salesLine);
        #}
      ENDSOURCE
      SOURCE #onAfterInitFromSalesQuotationLine
        #private void onAfterInitFromSalesQuotationLine(SalesLine _salesLine, SalesQuotationLine _salesQuotationLine)
        #{
        #}
      ENDSOURCE
      SOURCE #onCFOPChange_BR
        #/// <summary>
        #/// Fires several actions as a result of a change in <c>CFOPTable_BR</c> field in <c>SalesLine</c> table.
        #/// </summary>
        #/// <param name="_modifiedFieldId">
        #/// The field that caused the change in <c>CFOPTable_BR</c> field.
        #/// </param>
        #// <GBR>
        #public server void onCFOPChange_BR(FieldId _modifiedFieldId = fieldNum(SalesLine_BR, cfopTable_BR))
        #{
        #    if (this.salesLine_BR().cfopTable_BR)
        #    {
        #        this.updateDeliveryCFOP_BR();
        #        this.setTaxGroupAndTaxItemGroupFields_BR();
        #        this.onTaxChange_BR(_modifiedFieldId);
        #    }
        #
        #    this.type().updateFiscalDocumentText_BR(FiscalDocumentTextType_BR::CFOP);
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #onDeliveryPostalAddressChange_BR
        #/// <summary>
        #/// Updates CFOP as a consequence of address change if state and country differs from the previous address.
        #/// </summary>
        #/// <remarks>
        #/// It is not executed when item is not defined yet in the sales line.
        #/// </remarks>
        #// <GBR>
        #public void onDeliveryPostalAddressChange_BR()
        #{
        #    CFOPValidation_BR       cfopValidation;
        #    LogisticsPostalAddress  currentAddress, originAddress;
        #    SalesLine_BR            salesLine_BR;
        #
        #    if (this.ItemId)
        #    {
        #        currentAddress      = LogisticsPostalAddress::findRecId(this.DeliveryPostalAddress);
        #        originAddress       = LogisticsPostalAddress::findRecId(this.orig().DeliveryPostalAddress);
        #
        #        if (currentAddress.State != originAddress.State || currentAddress.CountryRegionId != originAddress.CountryRegionId)
        #        {
        #            cfopValidation      = CFOPValidation_BR::construct(this);
        #
        #            salesLine_BR = this.salesLine_BR();
        #            salesLine_BR.cfopTable_BR = cfopValidation.getDefaultCFOP();
        #
        #            this.packSalesLine_BR(salesLine_BR);
        #
        #            this.onCFOPChange_BR(fieldNum(SalesLine, DeliveryPostalAddress));
        #        }
        #    }
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #onOrder
        #/// <summary>
        #/// Gets the on order quantity for the line in sales unit.
        #/// </summary>
        #/// <returns>
        #/// The on order quantity for the line in inventory unit.
        #/// </returns>
        #public display InventQtyOnOrder onOrder()
        #{
        #    InventQtyOnOrder qtyOnOrder;
        #
        #    if (!this.InventTransId)
        #    {
        #        qtyOnOrder = 0;
        #    }
        #    else if(this.isStocked())
        #    {
        #        qtyOnOrder = -InventTransIdSumSingleStatus::qtyOnOrder(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #    }
        #    else
        #    {
        #        qtyOnOrder = this.SalesPurchLine::calcQtyOrdered(TradeNonStockedRegistrationHelper::getInventPendingRegistration(this.SourceDocumentLine).Quantity);
        #    }
        #
        #    return qtyOnOrder;
        #}
      ENDSOURCE
      SOURCE #onOrderInSalesUnit
        #/// <summary>
        #/// Gets an on order quantity for a line in sales unit.
        #/// </summary>
        #/// <returns>
        #/// The on order quantity for the line in sales unit.
        #/// </returns>
        #public display SalesQtyOnOrder onOrderInSalesUnit()
        #{
        #    InventQtyOnOrder    inventQtyOnOrder;
        #
        #    inventQtyOnOrder = this.onOrder();
        #
        #    if (!inventQtyOnOrder)
        #    {
        #        return 0;
        #    }
        #
        #    return this.unitConvertInvent2Sales(inventQtyOnOrder);
        #}
      ENDSOURCE
      SOURCE #onTaxChange_BR
        #/// <summary>
        #/// Updates tax information of sales line.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// Field identifier.
        #/// </param>
        #public void onTaxChange_BR(FieldId _fieldId)
        #{
        #    this.setSuframaDiscount_BR(_fieldId);
        #
        #    if (this.TaxGroup != this.orig().TaxGroup
        #        || this.TaxItemGroup != this.orig().TaxItemGroup)
        #    {
        #        this.updateMarkupTransTaxGroups_BR();
        #    }
        #}
      ENDSOURCE
      SOURCE #orderAccount
        #public CustAccount orderAccount()
        #{
        #    return this.CustAccount;
        #}
      ENDSOURCE
      SOURCE #originalInvoiceId_W
        #//BP Deviation documented
        #display InvoiceId originalInvoiceId_W(SalesLine _salesLine)
        #{
        #    InvoiceId ret;
        #    ;
        #
        #    if (_salesLine.RefReturnInvoiceTrans_W)
        #    {
        #        if(_salesLine.ProjId)
        #        {
        #            ret = ProjInvoiceItem::findRecId(_salesLine.RefReturnInvoiceTrans_W).ProjInvoiceId;
        #        }
        #        else
        #        {
        #            ret = CustInvoiceTrans::findRecId(_salesLine.RefReturnInvoiceTrans_W).InvoiceId;
        #        }
        #    }
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #overDeliveryPct
        #/// <summary>
        #/// Retrieves the over delivery percent that is allowed.
        #/// </summary>
        #/// <returns>
        #/// The over delivery percent that is defined on the sales order line if over delivery is enabled;
        #/// otherwise, zero.
        #/// </returns>
        #public Percent overDeliveryPct()
        #{
        #    if (!SalesParameters::find().OverDelivery)
        #    {
        #        return 0;
        #    }
        #
        #    return this.OverDeliveryPct;
        #}
      ENDSOURCE
      SOURCE #owmIsReturnable
        #// <NAXT>
        #public boolean owmIsReturnable()
        #{
        #    return  this.InventTransId
        #        &&  !this.InventTransIdReturn
        #        &&  this.SalesStatus == SalesStatus::Invoiced
        #        &&  InventTableModule::priceBasedOnActPurch(this.ItemId, ModuleInventPurchSales::Sales);
        #        /*<NAXT>
        #        &&  (select firstonly salesLine where salesLine.InventTransIdReturn == this.InventTransId).RecId == 0;
        #        <NAXT>*/
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #packSalesLine_BR
        #/// <summary>
        #/// Packs brazilian extension table into <c>PackedExtensions</c> field
        #/// </summary>
        #/// <param name="_salesLine_BR">
        #/// Extension table to be packed
        #/// </param>
        #// <GBR>
        #public void packSalesLine_BR(SalesLine_BR _salesLine_BR)
        #{
        #    _salesLine_BR.SalesLine = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesLine_BR);
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #packSalesLine_IN
        #/// <summary>
        #/// Packs the sales line information.
        #/// </summary>
        #/// <param name="_salesLine_IN">
        #/// The sales line reference.
        #/// </param>
        #// <GIN>
        #public void packSalesLine_IN(SalesLine_IN _salesLine_IN)
        #{
        #    _salesLine_IN.SalesLine = this.RecId;
        #
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesLine_IN);
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #packSalesLine_Intrastat
        #/// <summary>
        #/// Packs <c>SalesLine_Intrastat</c> extension table record.
        #/// </summary>
        #/// <param name="_salesLine_Intrastat">
        #/// The extension table record to pack.
        #/// </param>
        #public void packSalesLine_Intrastat(SalesLine_Intrastat _salesLine_Intrastat)
        #{
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesLine_Intrastat);
        #}
        #
      ENDSOURCE
      SOURCE #packSalesLinePricingCalculation
        #/// <summary>
        #/// Packs <c>PDSSalesLinePricingCalculation</c> extension table record.
        #/// </summary>
        #/// <param name="_salesLinePricingCalculation">
        #/// The extension table record to pack.
        #/// </param>
        #public void packSalesLinePricingCalculation(PDSSalesLinePricingCalculation _salesLinePricingCalculation)
        #{
        #    _salesLinePricingCalculation.SalesLine = this.RecId;
        #
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesLinePricingCalculation);
        #}
      ENDSOURCE
      SOURCE #pdsCalculatedLineAmount
        #/// <summary>
        #///     Displays the adjusted net amount  if the related item is potency enabled and has an an advanced-based pricing calculation.
        #/// </summary>
        #/// <returns>
        #///     The adjusted net amount.
        #/// </returns>
        #public PDSCalculatedLineAmount pdsCalculatedLineAmount()
        #{
        #    PDSCalculatedLineAmount         pdsCalculatedLineAmount;
        #    PDSSalesLinePricingCalculation  pdsSalesLinePricingCalculation;
        #
        #    if (this.inventTable().pdsBaseAttributeId)
        #    {
        #        pdsSalesLinePricingCalculation = this.pdsSalesLinePricingCalculation();
        #        if (pdsSalesLinePricingCalculation.PriceCalculation)
        #        {
        #            pdsCalculatedLineAmount = pdsSalesLinePricingCalculation.displayCalculatedLineAmount();
        #        }
        #    }
        #
        #    return pdsCalculatedLineAmount;
        #}
      ENDSOURCE
      SOURCE #pdsCalculatedUnitPrice
        #/// <summary>
        #///     Displays the adjusted unit price if the related item is potency enabled and has an an advanced-based pricing calculation.
        #/// </summary>
        #/// <returns>
        #///     The adjusted unit price.
        #/// </returns>
        #public PDSCalculatedUnitPrice pdsCalculatedUnitPrice()
        #{
        #    PDSCalculatedUnitPrice          pdsCalculatedUnitPrice;
        #    PDSSalesLinePricingCalculation  pdsSalesLinePricingCalculation;
        #
        #    if (this.inventTable().pdsBaseAttributeId)
        #    {
        #        pdsSalesLinePricingCalculation = this.pdsSalesLinePricingCalculation();
        #        if (pdsSalesLinePricingCalculation.PriceCalculation)
        #        {
        #            pdsCalculatedUnitPrice = pdsSalesLinePricingCalculation.displayCalculatedUnitedPrice();
        #        }
        #    }
        #
        #    return pdsCalculatedUnitPrice;
        #}
      ENDSOURCE
      SOURCE #pdsCalculationId
        #/// <summary>
        #///     Calculates and displays the calculation ID if the related item is potency enabled and has an an advanced-based pricing calculation.
        #/// </summary>
        #/// <returns>
        #///     The calculation ID.
        #/// </returns>
        #public PDSCalculationId pdsCalculationId()
        #{
        #    PDSCalculationId                pdsCalculationId;
        #    PDSSalesLinePricingCalculation  pdsSalesLinePricingCalculation;
        #
        #    if (this.inventTable().pdsBaseAttributeId)
        #    {
        #        pdsSalesLinePricingCalculation = this.pdsSalesLinePricingCalculation();
        #        if (pdsSalesLinePricingCalculation.PriceCalculation)
        #        {
        #            pdsCalculationId = pdsSalesLinePricingCalculation.calculationTable().CalculationId;
        #        }
        #    }
        #
        #    return pdsCalculationId;
        #}
      ENDSOURCE
      SOURCE #pdsCancelRemainWeight
        #/// <summary>
        #/// Set the remaining sales inventory quantity to 0 if the
        #/// catch weight quantity of a catch weight item goes to 0
        #/// </summary>
        #public void pdsCancelRemainWeight()
        #{
        #    if (pdsIsCWItem(this.ItemId)
        #        && this.RemainInventPhysical != 0
        #        && this.PdsCWRemainInventPhysical == 0)
        #    {
        #        this.RemainInventPhysical = 0;
        #        this.RemainSalesPhysical = 0;
        #        this.update();
        #    }
        #}
      ENDSOURCE
      SOURCE #pdsCopySalesLinePricingCalculation
        #/// <summary>
        #///     Copies a <c>PDSSalesLinePricingCalculation</c> buffer to the one associated with this sales order line.
        #/// </summary>
        #/// <param name="_source">
        #///     The <c>PDSSalesLinePricingCalculation</c> buffer to copy from.
        #/// </param>
        #/// <remarks>
        #///     This sales order line must pertain to an item configured for attribute-based pricing.
        #/// </remarks>
        #public void pdsCopySalesLinePricingCalculation(PDSSalesLinePricingCalculation _source)
        #{
        #    PDSSalesLinePricingCalculation salesLinePricingCalculation;
        #
        #    if (this.inventTable().pdsBaseAttributeId)
        #    {
        #        salesLinePricingCalculation                     = this.pdsSalesLinePricingCalculation();
        #        salesLinePricingCalculation.PriceCalculation    = _source.PriceCalculation;
        #        this.packSalesLinePricingCalculation(salesLinePricingCalculation);
        #    }
        #}
      ENDSOURCE
      SOURCE #pdsCWDeliveredInTotal
        #//BP Deviation documented
        #public display PdsCWDelivered pdsCWDeliveredInTotal()
        #{
        #    PdsCWDelivered  pdsCWDelivered = 0;
        #
        #    if (pdsIsCWItem(this.ItemId)
        #        && this.InventTransId)
        #    {
        #        pdsCWDelivered = this.pdsCWDeliveredInTotalServer();
        #    }
        #
        #    return pdsCWDelivered;
        #}
      ENDSOURCE
      SOURCE #pdsCWDeliveredInTotalServer
        #public server PdsCWDelivered pdsCWDeliveredInTotalServer()
        #{
        #    return this.type().pdsCWDeliveredInTotal();
        #}
      ENDSOURCE
      SOURCE #pdsCWExpRetQtyConversion
        #/// <summary>
        #/// Update the expected return quantity if this record's item is a catch weight item.
        #/// </summary>
        #/// <remarks>
        #/// <syntax>
        #/// public void pdsCWExpRetQtyConversion()
        #/// </syntax>
        #/// </remarks>
        #public server void pdsCWExpRetQtyConversion()
        #{
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        this.ExpectedRetQty = PdsCatchWeight::inventQty(
        #                                    this.ItemId,
        #                                    this.PdsCWExpectedRetQty,
        #                                    this.SalesUnit);
        #    }
        #}
      ENDSOURCE
      SOURCE #pdsCWInvoicedInTotal
        #//BP Deviation documented
        #display PdsCWInvoiced pdsCWInvoicedInTotal()
        #{
        #    PdsCWInvoiced  pdsCWInvoiced = 0;
        #
        #    if (pdsIsCWItem(this.ItemId)
        #        && this.InventTransId)
        #    {
        #        pdsCWInvoiced = this.type().pdsCWInvoicedInTotal();
        #    }
        #
        #    return pdsCWInvoiced;
        #}
        #
      ENDSOURCE
      SOURCE #pdsCWOnOrder
        #/// <summary>
        #/// Calculates the catch weight quantity that is on order for a given sales line.
        #/// </summary>
        #/// <returns>
        #/// The catch weight on order quantity.
        #/// </returns>
        #//BP Deviation documented
        #display PdsCWOnOrder pdsCWOnOrder()
        #{
        #    if (!this.InventTransId)
        #        return 0;
        #
        #    return -InventTransIdSumSingleStatus::pdsCWQtyOnOrder(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #}
        #
      ENDSOURCE
      SOURCE #pdsCWPickedInTotal
        #//BP Deviation documented
        #display PdsCWPicked pdsCWPickedInTotal()
        #{
        #    PdsCWPicked pdsCWPicked = 0;
        #
        #    if (pdsIsCWItem(this.ItemId)
        #        && this.InventTransId)
        #    {
        #        pdsCWPicked = this.type().pdsCWPickedInTotal();
        #    }
        #
        #    return pdsCWPicked;
        #}
      ENDSOURCE
      SOURCE #pdsCWQtyActivateRemainder
        #//BP Deviation Documented
        #display PdsCWQtyActivateRemainder pdsCWQtyActivateRemainder()
        #{
        #    return (this.pdsCWOnOrder()
        #        + this.pdsCWReservedPhysical()
        #        + this.pdsCWReservedOnOrder())
        #        - (this.pdsCWReservedOnPick()
        #            + this.pdsCWQtyOnPickNotReserved());
        #}
        #
      ENDSOURCE
      SOURCE #pdsCWQtyConversion
        #private server void pdsCWQtyConversion()
        #{
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        this.SalesQty = PdsCatchWeight::inventQty(
        #                            this.ItemId,
        #                            this.PdsCWQty,
        #                            this.SalesUnit);
        #    }
        #}
      ENDSOURCE
      SOURCE #pdsCWQtyOnPickNotReserved
        #/// <summary>
        #/// Calculates the catch weight quantity that is on warehouse management order but not reserved physical.
        #/// </summary>
        #/// <returns>
        #/// The catch weight quantity that is not reserverd physical.
        #/// </returns>
        #//BP Deviation Documented
        #display PdsCWQtyOnPickNotReserved pdsCWQtyOnPickNotReserved()
        #{
        #    InventTrans                 inventTrans;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    select sum(PdsCWQty) from inventTrans
        #        where inventTrans.TransChildType    == InventTransChildType::WMSOrder
        #        &&    inventTrans.StatusIssue       >  StatusIssue::ReservPhysical
        #        exists join inventTransOriginSalesLine
        #            where inventTransOriginSalesLine.InventTransOrigin      == inventTrans.InventTransOrigin
        #               && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #               && inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId;
        #
        #    return -inventTrans.PdsCWQty;
        #}
      ENDSOURCE
      SOURCE #pdsCWQtyValidation
        #[SysObsoleteAttribute('Use SalesLineType.pdsCWQtyValidation instead.', true)]
        #public void pdsCWQtyValidation()
        #{
        #}
      ENDSOURCE
      SOURCE #pdsCWRemainInventFinancial_RU
        #/// <summary>
        #///     Gets remain financial quantity in pdsCW units.
        #/// </summary>
        #/// <param name="_inventDimCriteria">
        #///     <c>InventDim</c> select criteria.
        #/// </param>
        #/// <param name="_inventDimParm">
        #///     <c>InventDimParm</c> select criteria.
        #/// </param>
        #/// <returns>
        #///     Remaining quantity for financial.
        #/// </returns>
        #public PdsCWInventQty pdsCWRemainInventFinancial_RU(InventDim _inventDimCriteria, InventDimParm _inventDimParm)
        #{
        #    InventTransOriginSalesLine inventTransOriginSalesLine;
        #    InventTrans inventTrans;
        #    InventDim   inventDim;
        #
        #    if (_inventDimParm.isAllFlagNo())
        #    {
        #        return this.PdsCWRemainInventFinancial;
        #    }
        #
        #    select TableId from inventTransOriginSalesLine
        #        where inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId
        #           && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #    join sum(PdsCWQty) from inventTrans
        #        where inventTrans.InventTransOrigin == inventTransOriginSalesLine.InventTransOrigin
        #           && (inventTrans.StatusReceipt    == StatusReceipt::Received ||
        #               inventTrans.StatusIssue      == StatusIssue::Deducted)
        #    #InventDimExistsJoin(InventTrans.InventDimId, inventDim, _inventDimCriteria, _inventDimParm);
        #
        #    return -inventTrans.PdsCWQty;
        #}
      ENDSOURCE
      SOURCE #pdsCWRemainInventPhysical_RU
        #/// <summary>
        #///     Gets remain physical quantity in pdsCW units.
        #/// </summary>
        #/// <param name="_inventDimCriteria">
        #///     <c>InventDim</c> select criteria.
        #/// </param>
        #/// <param name="_inventDimParm">
        #///     <c>InventDimParm</c> select criteria.
        #/// </param>
        #/// <returns>
        #///     Remaining quantity for physical.
        #/// </returns>
        #public PdsCWInventQty pdsCWRemainInventPhysical_RU(InventDim _inventDimCriteria, InventDimParm _inventDimParm)
        #{
        #    InventTransOriginSalesLine inventTransOriginSalesLine;
        #    InventTrans inventTrans;
        #    InventDim   inventDim;
        #
        #    if (_inventDimParm.isAllFlagNo())
        #    {
        #        return this.PdsCWRemainInventPhysical;
        #    }
        #
        #    select TableId from inventTransOriginSalesLine
        #        where inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId
        #           && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #    join sum(PdsCWQty) from inventTrans
        #        where inventTrans.InventTransOrigin == inventTransOriginSalesLine.InventTransOrigin
        #           && (inventTrans.StatusReceipt    > StatusReceipt::Received ||
        #               inventTrans.StatusIssue      > StatusIssue::Deducted)
        #    #InventDimExistsJoin(InventTrans.InventDimId, inventDim, _inventDimCriteria, _inventDimParm);
        #
        #    return -inventTrans.PdsCWQty;
        #}
      ENDSOURCE
      SOURCE #pdsCWReservedOnOrder
        #/// <summary>
        #/// Calculates the catch wieght quantity that has been reserved on expected receipts for a given sales order line.
        #/// </summary>
        #/// <returns>
        #/// The catch weight reserved quantity.
        #/// </returns>
        #//BP Deviation documented
        #display PdsCWReservOrdered pdsCWReservedOnOrder()
        #{
        #    if (!this.InventTransId)
        #        return 0;
        #
        #    return -InventTransIdSumSingleStatus::pdsCWQtyReserveOrdered(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #
        #}
        #
      ENDSOURCE
      SOURCE #pdsCWReservedOnPick
        #/// <summary>
        #/// Calculates the catch weight quantity that has been reserved on current on hand for the sales order line
        #/// and where the reservation is related to an output order.
        #/// </summary>
        #/// <returns>
        #/// The reserved catch weight quantity.
        #/// </returns>
        #// BP Deviation Documented
        #display PdsCWReservOrdered pdsCWReservedOnPick()
        #{
        #    if (!this.InventTransId)
        #        return 0;
        #
        #    return -InventTransIdSumSingleStatus::pdsCWQtyReservPhysicalAnyWMSOrder(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #
        #}
      ENDSOURCE
      SOURCE #pdsCWReservedPhysical
        #/// <summary>
        #/// Calculates the catch weight quantity that has been reserved on current on hand for the sales order line.
        #/// </summary>
        #/// <returns>
        #/// The reserved catch weight quantity.
        #/// </returns>
        #display PdsCWReservPhysical pdsCWReservedPhysical()
        #{
        #    if (!this.InventTransId)
        #        return 0;
        #
        #    return -InventTransIdSumSingleStatus::pdsCWQtyReservPhysical(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #}
        #
      ENDSOURCE
      SOURCE #pdsCWReserveQty
        #public PdsCWInventQty pdsCWReserveQty()
        #{
        #    PdsCWInventQty pdsCWReserveQty = -this.PdsCWRemainInventPhysical;
        #
        #    if (! this.Reservation)
        #    {
        #        pdsCWReserveQty = 0;
        #    }
        #
        #    if (pdsCWReserveQty
        #        && this.PdsCWRemainInventPhysical < 0)
        #    {
        #        pdsCWReserveQty = 0;
        #    }
        #
        #    return pdsCWReserveQty;
        #}
      ENDSOURCE
      SOURCE #pdsCWSalesDeliverNowConversion
        #private server void pdsCWSalesDeliverNowConversion(boolean _fromCW = false)
        #{
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        if (_fromCW)
        #        {
        #            this.SalesDeliverNow = PdsCatchWeight::inventQty(
        #                                        this.ItemId,
        #                                        this.PdsCWInventDeliverNow,
        #                                        this.SalesUnit);
        #        }
        #        else if (!this.PdsCWInventDeliverNow)
        #        {
        #            this.PdsCWInventDeliverNow = PdsCatchWeight::cwQty(
        #                                            this.ItemId,
        #                                            this.InventDeliverNow);
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #pdsCWUnitId
        #/// <summary>
        #/// Gets the catch weight unit for the item.
        #/// </summary>
        #/// <returns>
        #/// The catch weight unit for the item.
        #/// </returns>
        #//BP Deviation documented
        #public display PdsCWUnitId pdsCWUnitId()
        #{
        #    return PdsCatchWeight::cwUnitId(this.ItemId);
        #}
      ENDSOURCE
      SOURCE #pdsSalesLinePricingCalculation
        #/// <summary>
        #///     Get the <c>PDSSalesLinePricingCalculation</c> table.
        #/// </summary>
        #/// <returns>
        #///     The table <c>PDSSalesLinePricingCalculation</c> associated with the current record.
        #/// </returns>
        #public PDSSalesLinePricingCalculation pdsSalesLinePricingCalculation()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(PDSSalesLinePricingCalculation));
        #}
      ENDSOURCE
      SOURCE #pdsSellableDays
        #/// <summary>
        #/// Determines the number of days from the sales line's shipping date that the product must be sellable.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// An alternative dimension to use for the check instead of the sales orders' dimension; optional.
        #/// </param>
        #/// <returns>
        #/// The number of days from the shipping date that the product must be sellable.
        #/// </returns>
        #/// <remarks>
        #/// This can be used for adjusting a required date for planning purposes
        #/// into the date needed by the receipt point. It should only be used in shelf-life enabled scenarios.
        #/// </remarks>
        #public PdsSellableDays pdsSellableDays(InventDim _inventDim = this.inventDim())
        #{
        #    PdsSellableDays     sellDays;
        #
        #    sellDays = PdsCustSellableDays::findValidRec(this.ItemId,
        #                                                this.CustAccount,
        #                                                _inventDim).SellableDays;
        #
        #    sellDays += this.ReceiptDateRequested - this.ShippingDateRequested;
        #
        #    return sellDays;
        #}
      ENDSOURCE
      SOURCE #pdsSetPricingCalculation
        #/// <summary>
        #///     Sets the pricing calculation extension table with the specified attribute pricing ID.
        #/// </summary>
        #/// <param name="_calculationId">
        #///     The attribute pricing ID.
        #/// </param>
        #/// <remarks>
        #///     The modified pricing calculation extenion table is packed and made part of the sales line record.
        #/// </remarks>
        #public void pdsSetPricingCalculation(PDSCalculationId _calculationId)
        #{
        #    PDSSalesLinePricingCalculation priceCalc = this.pdsSalesLinePricingCalculation();
        #
        #    priceCalc.PriceCalculation = PDSCalculationTable::find(_calculationId).RecId;
        #    this.packSalesLinePricingCalculation(priceCalc);
        #}
      ENDSOURCE
      SOURCE #pdsUpdateReservation
        #[SysObsoleteAttribute('Unused method removed in AX 2012 R2', true)]
        #public server boolean pdsUpdateReservation(
        #    LineNum             _lineNum = 0,
        #    SalesDlvDateType    _dateType = SalesDlvDateType::RequestedReceipt)
        #{
        #    throw error(Error::wrongUseOfFunction(funcName()));
        #}
      ENDSOURCE
      SOURCE #pdsUpdateReservationRequired
        #/// <summary>
        #/// Indicates whether the field update in progress requires a re-reservation of inventory.
        #/// </summary>
        #/// <param name="_fieldBeingUpdated">
        #/// The ID of the field being updated.
        #/// </param>
        #/// <returns>
        #/// false if the validation does not allow the field being updated; otherwise, true.
        #/// </returns>
        #public boolean pdsUpdateReservationRequired(FieldId _fieldBeingUpdated)
        #{
        #    boolean ret = true;
        #    // the fetch hits the cache so can return in the same tier if its not a shelf life item.
        #    if (this.inventTable().isShelfLifeItem())
        #    {
        #        ret = this.pdsUpdateReservationServer(_fieldBeingUpdated, this.isFormDataSource());
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #pdsUpdateReservationServer
        #private server boolean pdsUpdateReservationServer(FieldId _fieldBeingUpdated, boolean _calledFromDataSource, PdsShelfLifeDateChangeValidatorFactory _factory = PdsShelfLifeDateChangeValidatorFactory::construct())
        #{
        #    PdsShelfLifeIDateChangeValidator dateValidator = _factory.createDateValidatorFromOrderLine(this);
        #    return dateValidator.validateDateValueChanged(_fieldBeingUpdated, !_calledFromDataSource);
        #}
      ENDSOURCE
      SOURCE #pdsUpdReservePrompt
        #[SysObsoleteAttribute('Reservation update process now is executed on server, there is no need to call pdsUpdReservePrompt method.', true)]
        #public void pdsUpdReservePrompt()
        #{
        #}
      ENDSOURCE
      SOURCE #pickedInTotalInventUnit
        #public display SalesQty pickedInTotalInventUnit()
        #{
        #    if (!this.InventTransId || !this.isStocked())
        #    {
        #        return 0;
        #    }
        #
        #    return this.pickedInTotalInventUnitServer();
        #}
      ENDSOURCE
      SOURCE #pickedInTotalInventUnitServer
        #server public SalesQty pickedInTotalInventUnitServer(
        #SalesTable _salesTable = this.salesTable()
        #)
        #{
        #    return this.type(
        #    _salesTable
        #    ).pickedInTotalInventUnit();
        #}
      ENDSOURCE
      SOURCE #pickedInTotalSalesUnit
        #public display SalesQty pickedInTotalSalesUnit()
        #{
        #    if (!this.InventTransId || !this.isStocked())
        #    {
        #        return 0;
        #    }
        #
        #    return this.pickedInTotalSalesUnitServer();
        #}
      ENDSOURCE
      SOURCE #pickedInTotalSalesUnitServer
        #server public SalesQty pickedInTotalSalesUnitServer(
        #SalesTable _salesTable = this.salesTable()
        #)
        #{
        #    return this.type(
        #    _salesTable
        #    ).pickedInTotalSalesUnit();
        #}
      ENDSOURCE
      SOURCE #populateReplaceLineTaxInfo_IN
        #/// <summary>
        #/// Populates replace line tax info.
        #/// </summary>
        #/// <param name="_replaceItemRef">
        #/// The ReturnReplaceItemRef instance
        #/// </param>
        #// <GIN>
        #public void populateReplaceLineTaxInfo_IN(ReturnReplaceItemRef _replaceItemRef)
        #{
        #    SalesLine_IN salesLine_IN = this.salesLine_IN();
        #
        #    salesLine_IN.setTaxInformationFromReplaceRef(_replaceItemRef);
        #
        #    this.packSalesLine_IN(salesLine_IN);
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #postingGoodsInRouteOffset_RU
        #public LedgerPostingType postingGoodsInRouteOffset_RU()
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.postingGoodsInRouteOffset_RU();
        #}
        #
      ENDSOURCE
      SOURCE #postingOperations
        #public LedgerPostingType postingOperations()
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.postingOperations();
        #}
      ENDSOURCE
      SOURCE #postingSales
        #public LedgerPostingType postingSales()
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    return salesLineType.postingSales();
        #}
      ENDSOURCE
      SOURCE #postModifiedField_BR
        #/// <summary>
        #/// Executes after a modification in a Brazilian field.
        #/// </summary>
        #/// <param name="_fieldId">The modified field ID.</param>
        #public void postModifiedField_BR(FieldId _fieldId)
        #{
        #    switch(_fieldId)
        #    {
        #        case fieldNum(SalesLine, DeliveryPostalAddress):
        #            this.onDeliveryPostalAddressChange_BR();
        #            break;
        #
        #        case fieldNum(SalesLine, TaxItemGroup):
        #        case fieldNum(SalesLine, TaxGroup):
        #            this.onTaxChange_BR(_fieldId);
        #            break;
        #
        #        case fieldNum(SalesLine, ReturnDispositionCodeId):
        #            if (this.ReturnDispositionCodeId)
        #            {
        #                if (Box::yesNo("@GLS50989", DialogButton::Yes) == DialogButton::No)
        #                {
        #                    this.ReturnDispositionCodeId = '';
        #                }
        #            }
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #postModifyInventDimBR
        #/// <summary>
        #/// Sets fiscal document type for passed invent dim.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// The <c>InventDim</c> record.
        #/// </param>
        #/// <param name="_dimFieldId">
        #/// The <c>FieldId</c> value of a dimension field.
        #/// </param>
        #/// <param name="_resetPrice">
        #/// A Boolean value that indicates if price should be reset; optional.
        #/// </param>
        #public void postModifyInventDimBR(
        #    InventDim            _inventDim,
        #    FieldId              _dimFieldId,
        #    boolean              _resetPrice = true)
        #{
        #    if (_dimFieldId == fieldNum(InventDim, InventSiteId))
        #    {
        #        this.setCFOP_BR();
        #        this.onCFOPChange_BR();
        #
        #        this.initFiscalDocumentType_BR(_inventDim);
        #    }
        #}
      ENDSOURCE
      SOURCE #priceBasedOnActPurch
        #public boolean priceBasedOnActPurch()
        #{
        #    boolean ret;
        #
        #    if (this.ItemId)
        #    {
        #        ret = InventTableModule::priceBasedOnActPurch(this.ItemId, ModuleInventPurchSales::Sales);
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #priceDate
        #/// <summary>
        #/// Retrieves the date for which price must be calculated according to the price date type setting.
        #/// </summary>
        #/// <returns>
        #/// The date for which to calculate price.
        #/// </returns>
        #/// <remarks>
        #/// Price date type can be set up to use either today, requested shipping, or requested receipt date as
        #/// the price date.
        #/// </remarks>
        #public PriceDate priceDate()
        #{
        #    SalesParameters salesParameters;
        #    PriceDate priceDate;
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #
        #    if (this.PriceAgreementDate_RU &&
        #        SysCountryRegionCode::isLegalEntityInCountryRegion([ #isoRU ]))
        #    {
        #        return this.PriceAgreementDate_RU;
        #    }
        #    // <GEERU>
        #
        #    salesParameters = SalesParameters::find();
        #
        #    switch (salesParameters.PriceDateType)
        #    {
        #        case SalesPriceDateType::ShippingDateRequested:
        #            priceDate = this.ShippingDateRequested;
        #            break;
        #
        #        case SalesPriceDateType::ReceiptDateRequested:
        #            priceDate = this.ReceiptDateRequested;
        #            break;
        #
        #        default:
        #            priceDate = systemDateGet();
        #    }
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]) && this.PriceAgreementDate_RU)
        #    {
        #        priceDate = this.PriceAgreementDate_RU;
        #    }
        #    // </GEERU>
        #
        #    return priceDate;
        #}
      ENDSOURCE
      SOURCE #priceGroupId
        #public PriceGroupId  priceGroupId()
        #{
        #    return this.salesTable().PriceGroupId;
        #}
      ENDSOURCE
      SOURCE #priceUpdateCostBreakdownCheck
        #// <NAXT-2012-DCG>
        #public void priceUpdateCostBreakdownCheck()
        #{
        #    this.SalesPurchLine::priceUpdateCostBreakdownCheck();
        #}
        #// </NAXT-2012-DCG>
      ENDSOURCE
      SOURCE #prodConsumedInventTransOriginIds
        #public ListIterator prodConsumedInventTransOriginIds(NoYesCombo _endedProductionsOnly = NoYesCombo::No)
        #{
        #    List                        il = new List(Types::Int64);
        #    ListIterator                it;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    InventTrans                 inventTrans;
        #    InventTransOriginProdTable  inventTransOriginProdTable;
        #    ProdTable                   prodTable;
        #
        #    while select TableId from inventTransOriginSalesLine
        #        group by inventTrans.MarkingRefInventTransOrigin
        #        where   inventTransOriginSalesLine.SalesLineDataAreaId      == this.DataAreaId
        #             && inventTransOriginSalesLine.SalesLineInventTransId   == this.InventTransId
        #        join MarkingRefInventTransOrigin from inventTrans
        #            where inventTrans.InventTransOrigin                     == inventTransOriginSalesLine.InventTransOrigin
        #               && inventTrans.MarkingRefInventTransOrigin
        #        exists join TableId from inventTransOriginProdTable
        #            where inventTransOriginProdTable.InventTransOrigin      == inventTrans.MarkingRefInventTransOrigin
        #        join TableId from prodTable
        #            where prodTable.ProdId                                  == inventTransOriginProdTable.ProdOrderId
        #               && prodTable.DataAreaId                              == inventTransOriginProdTable.ProdOrderDataAreaId
        #               && prodTable.ProjPostingType                         == ProjProdPostingType::ConsumedMethod
        #               && prodTable.ProjLinkedToOrder                       == NoYes::Yes
        #               && (_endedProductionsOnly == NoYesCombo::No  || prodTable.ProdStatus == ProdStatus::Completed)
        #    {
        #        il.addEnd(inventTrans.MarkingRefInventTransOrigin);
        #    }
        #
        #    it = new ListIterator (il);
        #
        #    return it;
        #}
      ENDSOURCE
      SOURCE #projCategoryIdModified
        #/// <summary>
        #/// Handle the modification of the ProjCategoryId field.
        #/// </summary>
        #/// <param name="_resetPrice">
        #/// A Boolean value that indicates whether to reset the prices or not.
        #/// </param>
        #// <NAXT>
        #public void projCategoryIdModified(boolean      _resetPrice = true)
        #{
        #    this.setTaxItemGroup(this.TaxItemGroup);
        #    this.setProjLinePropertyId();
        #    SalesLine::modifySalesQty(this, this.inventDim(), _resetPrice);
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #projIdChanged
        #public void projIdChanged()
        #{
        #    SalesShippingDateConfirmed      shippingDateConfirmed = this.ShippingDateConfirmed;
        #    SalesShippingDateRequested      shippingDateRequested = this.ShippingDateRequested;
        #    SalesReceiptDateConfirmed       receiptDateConfirmed  = this.ReceiptDateConfirmed;
        #    SalesReceiptDateRequested       receiptDateRequested  = this.ReceiptDateRequested;
        #    SalesDeliveryDateControlType    deliveryDateControl   = this.DeliveryDateControlType;
        #    SalesShippingDate               shippingDate          = this.ConfirmedDlv;
        #
        #    this.initFromProjTable(this.projTable(),false);
        #
        #    this.ShippingDateConfirmed   = shippingDateConfirmed;
        #    this.ShippingDateRequested   = shippingDateRequested;
        #    this.ReceiptDateConfirmed    = receiptDateConfirmed;
        #    this.ReceiptDateRequested    = receiptDateRequested;
        #    this.DeliveryDateControlType = deliveryDateControl;
        #    this.ConfirmedDlv            = shippingDate;
        #}
      ENDSOURCE
      SOURCE #projIdModified
        #/// <summary>
        #/// Modifies the sales line, depending on the changes in the project ID unit field.
        #/// </summary>
        #/// <remarks>
        #/// This method is called from the <c>modifiedField</c> method.
        #/// </remarks>
        #public void projIdModified()
        #{
        #    boolean modifyProjId = true;
        #    if (this.RecId && !this.refreshAgreementLink())
        #    {
        #        if (!this.unLinkAgreementLinePrompt(fieldNum(SalesLine, ProjId)))
        #        {
        #            modifyProjId = false;
        #        }
        #    }
        #
        #    if (modifyProjId)
        #    {
        #        if (this.SalesType  == SalesType::ItemReq)
        #        {
        #            this.CurrencyCode       = this.projTable().currencyId();
        #            this.projIdChanged();
        #            this.LineDisc          = 0;
        #            this.LinePercent       = 0;
        #            this.SalesMarkup       = 0;
        #            if (this.projTable().Type  == ProjType::FixedPrice)
        #                this.SalesPrice    = 0;
        #        }
        #
        #        this.setTaxItemGroup(this.TaxItemGroup);
        #    }
        #}
      ENDSOURCE
      SOURCE #projProposalId
        #public display ProjProposalId projProposalId()
        #{
        #    return ProjTrans::newSalesLine(this).proposalId();
        #}
      ENDSOURCE
      SOURCE #projTable
        #public ProjTable projTable(boolean _update = false)
        #{
        #    return ProjTable::find(this.ProjId, _update);
        #}
      ENDSOURCE
      SOURCE #purchPoolId
        #/// <summary>
        #/// Gets the value of the <c>PurchPoolId</c> field from the related purchase order.
        #/// </summary>
        #/// <returns>
        #/// The value of the <c>PurchPoolId</c> field from the related purchase order.
        #/// </returns>
        #// <NAXT>
        #// BP Deviation Documented
        #public display PurchPoolId purchPoolId()
        #{
        #    PurchPoolId             ret;
        #
        #    if (this.InventTransId
        #     && this.InventRefId
        #     && this.InventRefType  == InventRefType::Purch)
        #    {
        #        ret = PurchTable::getPurchPoolId(this.InventRefId);
        #    }
        #
        #    return ret;
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #qtyActivateRemainder
        #public display InventQty qtyActivateRemainder()
        #{
        #    return this.qtyEstimatedIssue() - this.qtyOnPick();
        #}
      ENDSOURCE
      SOURCE #qtyEstimatedIssue
        #private InventQty qtyEstimatedIssue()
        #{
        #    InventTransOriginId inventTransOriginId = InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId);
        #    InventTransIdSum    inventTransIdSum = InventTransIdSum::newTransOriginId(inventTransOriginId);
        #
        #    return -inventTransIdSum.estimatedIssue();
        #}
      ENDSOURCE
      SOURCE #qtyMarked
        #/// <summary>
        #/// Retrieves the amount of the inventory items that are marked for the sales order line.
        #/// </summary>
        #/// <returns>
        #/// The amount of the inventory that is marked for the inventory transaction that is related to the
        #/// sales order line.
        #/// </returns>
        #public InventQtyMarked qtyMarked()
        #{
        #    InventTransOriginId     inventTransOriginId;
        #    InventQtyMarked         inventQtyMarked;
        #
        #    if (this.isStocked())
        #    {
        #        inventTransOriginId = InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId);
        #        if (inventTransOriginId)
        #        {
        #            inventQtyMarked = InventTransOrigin::qtyMarked(inventTransOriginId);
        #        }
        #    }
        #
        #    return inventQtyMarked;
        #}
      ENDSOURCE
      SOURCE #qtyOnPick
        #private InventQty qtyOnPick()
        #{
        #    InventTrans                 inventTrans;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #
        #    select sum(Qty) from inventTrans
        #        where   inventTrans.TransChildType    == InventTransChildType::WMSOrder
        #            &&  inventTrans.StatusIssue == StatusIssue::None
        #            &&  (inventTrans.StatusIssue == StatusIssue::OnOrder
        #                || inventTrans.StatusIssue == StatusIssue::ReservOrdered
        #                || inventTrans.StatusIssue == StatusIssue::ReservPhysical)
        #        exists join inventTransOriginSalesLine
        #            where inventTransOriginSalesLine.InventTransOrigin      == inventTrans.InventTransOrigin
        #               && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #               && inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId;
        #
        #    return -inventTrans.Qty;
        #}
      ENDSOURCE
      SOURCE #qtyOnPickNotReserved
        #public display InventQty qtyOnPickNotReserved()
        #{
        #    InventTrans                 inventTrans;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    select sum(Qty) from inventTrans
        #        where inventTrans.TransChildType    == InventTransChildType::WMSOrder
        #        &&    inventTrans.StatusIssue       >  StatusIssue::ReservPhysical
        #        exists join inventTransOriginSalesLine
        #            where inventTransOriginSalesLine.InventTransOrigin      == inventTrans.InventTransOrigin
        #               && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #               && inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId;
        #
        #    return -inventTrans.Qty;
        #}
      ENDSOURCE
      SOURCE #qualityOrderStatusDisplay
        #/// <summary>
        #/// Retrieves the status of the associated quality orders if the quality management is being used.
        #/// </summary>
        #/// <returns>
        #/// The current quality order status.
        #/// </returns>
        #public display InventTestOrderStatusDisplay qualityOrderStatusDisplay()
        #{
        #    if (!InventParameters::find().UseQualityManagement)
        #    {
        #        return InventTestOrderStatusDisplay::None;
        #    }
        #
        #    return InventQualityOrderTable::referenceDocumentStatusDisplay(this);
        #}
      ENDSOURCE
      SOURCE #referenceWarningTxt
        #public str referenceWarningTxt()
        #{
        #    ProdTable   prodTable;
        #    PurchLine   purchLine;
        #    SalesLine   salesLine;
        #
        #    if (this.InventRefId)
        #    {
        #        switch (this.InventRefType)
        #        {
        #            case InventRefType::Production:
        #                prodTable = ProdTable::find(this.InventRefId);
        #                if (prodTable)
        #                {
        #                    return strFmt("@SYS27052", prodTable.ProdId, prodTable.ProdStatus, this.ItemId);
        #                }
        #                break;
        #            case InventRefType::Sales:
        #                salesLine = SalesLine::findInventTransId(this.InventRefTransId);
        #                if (salesLine)
        #                {
        #                    return strFmt("@SYS75609", salesLine.SalesId, salesLine.SalesStatus, this.ItemId);
        #                }
        #                break;
        #            case InventRefType::Purch:
        #                purchLine = PurchLine::findInventTransId(this.InventRefTransId);
        #                if (purchLine)
        #                {
        #                    return strFmt("@SYS75607", purchLine.PurchId, purchLine.PurchStatus, this.ItemId);
        #                }
        #                break;
        #        }
        #    }
        #
        #    return '';
        #}
      ENDSOURCE
      SOURCE #refreshAgreementLink
        #/// <summary>
        #/// Refreshes the link between the <c>AgreementLine</c> and the <c>SalesLine</c>. If the current link has
        #/// become invalid, or if there is no current link, this will search for the best matching <c>AgreementLine</c>
        #/// and possibly update the <c>PurchLine</c> if a new match is found.
        #/// </summary>
        #/// <param name="_showInfolog">
        #/// A flag that indicates whether to print the errors in the Infolog; optional.
        #/// </param>
        #/// <returns>
        #/// false if the link could not be refreshed; this happens when the current link is invalid and no better match could be found
        #/// </returns>
        #public server boolean refreshAgreementLink(boolean _showInfolog = true)
        #{
        #    return this.SalesPurchLine::refreshAgreementLink(new AgreementAutolinkHelperSalesLine(), _showInfolog);
        #}
      ENDSOURCE
      SOURCE #registeredInSalesUnit
        #/// <summary>
        #/// Calculates the registered quantity for the sales line in the sales unit.
        #/// </summary>
        #/// <returns>
        #/// The registered quantity for the sales line in the sales unit.
        #/// </returns>
        #server public SalesQty registeredInSalesUnit()
        #{
        #    SalesQty salesQtyRegistered;
        #
        #    if(this.isStocked())
        #    {
        #        salesQtyRegistered = this.unitConvertInvent2Sales(InventTransIdSumSingleStatus::qtyRegistered(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId)));
        #    }
        #    else
        #    {
        #        salesQtyRegistered = TradeNonStockedRegistrationHelper::qtyRegistered(this.SourceDocumentLine);
        #    }
        #
        #    return salesQtyRegistered;
        #}
      ENDSOURCE
      SOURCE #relatedToSvcCall
        #//PCs_XAP_312_CreatePOForOWM
        #public boolean relatedToSvcCall()
        #{
        #    return (select firstonly RecId from salesTable
        #                where salesTable.SalesId == this.SalesId
        #                  &&  salesTable.SvcCallRecId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #remainInventFinancial_RU
        #InventQty remainInventFinancial_RU(InventDim _inventDimCriteria, InventDimParm _inventDimParm)
        #{
        #    InventTransOriginSalesLine inventTransOriginSalesLine;
        #    InventTrans       inventTrans;
        #    InventDim         inventDim;
        #
        #    if (_inventDimParm.isAllFlagNo())
        #    {
        #        return this.RemainInventFinancial;
        #    }
        #
        #    select TableId from inventTransOriginSalesLine
        #        where inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId
        #           && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #    join sum(Qty) from inventTrans
        #        where inventTrans.InventTransOrigin == inventTransOriginSalesLine.InventTransOrigin
        #           && (inventTrans.StatusReceipt    == StatusReceipt::Received ||
        #               inventTrans.StatusIssue      == StatusIssue::Deducted)
        #    #InventDimExistsJoin(InventTrans.InventDimId, inventDim, _inventDimCriteria, _inventDimParm);
        #
        #    return -inventTrans.Qty;
        #}
        #
      ENDSOURCE
      SOURCE #remainInventPhysical_RU
        #InventQty remainInventPhysical_RU(InventDim _inventDimCriteria, InventDimParm _inventDimParm)
        #{
        #    InventTransOriginSalesLine inventTransOriginSalesLine;
        #    InventTrans inventTrans;
        #    InventDim   inventDim;
        #
        #    if (_inventDimParm.isAllFlagNo())
        #    {
        #        return this.RemainInventPhysical;
        #    }
        #
        #    select TableId from inventTransOriginSalesLine
        #        where inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId
        #           && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId
        #    join sum(Qty) from inventTrans
        #        where inventTrans.InventTransOrigin == inventTransOriginSalesLine.InventTransOrigin
        #           && (inventTrans.StatusReceipt    > StatusReceipt::Received ||
        #               inventTrans.StatusIssue      > StatusIssue::Deducted)
        #    #InventDimExistsJoin(InventTrans.InventDimId, inventDim, _inventDimCriteria, _inventDimParm);
        #
        #    return -inventTrans.Qty;
        #}
        #
      ENDSOURCE
      SOURCE #remainReturnLotQty
        #public ReturnExpectedRetQty remainReturnLotQty(SalesLine _salesLine)
        #{
        #    return abs((select sum(ExpectedRetQty) from salesLine where
        #                    salesLine.InventTransIdReturn == this.InventTransId &&
        #                    salesLine.InventTransId != _salesLine.InventTransId).ExpectedRetQty);
        #}
      ENDSOURCE
      SOURCE #remainSalesFinancial_RU
        #SalesQty remainSalesFinancial_RU(InventDim _inventDimCriteria, InventDimParm _inventDimParm)
        #{
        #    if (_inventDimParm.isAllFlagNo())
        #    {
        #        return this.RemainSalesFinancial;
        #    }
        #
        #    return UnitOfMeasureConverter::convert(this.remainInventFinancial_RU(_inventDimCriteria, _inventDimParm),
        #                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.inventTable().inventUnitId()),
        #                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #                            NoYes::Yes,
        #                            InventTable::itemProduct(this.ItemId));
        #}
      ENDSOURCE
      SOURCE #remainSalesPhysical_RU
        #SalesQty remainSalesPhysical_RU(InventDim _inventDimCriteria, InventDimParm _inventDimParm)
        #{
        #    if (_inventDimParm.isAllFlagNo())
        #    {
        #        return this.RemainSalesPhysical;
        #    }
        #
        #    return UnitOfMeasureConverter::convert(this.remainInventPhysical_RU(_inventDimCriteria, _inventDimParm),
        #                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.inventTable().inventUnitId()),
        #                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #                            NoYes::Yes,
        #                            InventTable::itemProduct(this.ItemId));
        #}
      ENDSOURCE
      SOURCE #remanItemId
        #// <GGH>
        #public ItemId remanItemId()
        #{
        #    SalesLine               salesLineReman;
        #    XAP_CoreChargeTrans     coreChargeTrans;
        #    XAP_ExchangeTypes       exchangeType;
        #
        #    if (this.ItemId)
        #    {
        #        exchangeType    = InventTable::getExchangeType(this.ItemId);
        #        if (exchangeType == XAP_ExchangeTypes::WornCore)
        #        {
        #            select firstOnly InventTransId from coreChargeTrans
        #                where coreChargeTrans.ReferenceTransId == this.inventTransId;
        #
        #            if (coreChargeTrans.InventTransId)
        #            {
        #                select firstonly ItemId from salesLineReman
        #                    index hint TransIdIdx
        #                    where salesLineReman.InventTransId == coreChargeTrans.InventTransId;
        #            }
        #        }
        #        else if (exchangeType == XAP_ExchangeTypes::CoreCharge)
        #        {
        #            select forupdate ItemId from salesLineReman
        #                where salesLineReman.SalesId        == this.SalesId
        #                  &&  salesLineReman.InventTransId  == this.CoreInventTransId;
        #        }
        #    }
        #
        #    return salesLineReman.ItemId;
        #}
        #// </GGH>
      ENDSOURCE
      SOURCE #removeReservation
        #/// <summary>
        #/// Remove reservation
        #/// </summary>
        #// <NAXT>
        #
        #public void removeReservation()
        #{
        #    SalesLine               salesLine;
        #    boolean                 reservationRemoved;
        #    ;
        #
        #    ttsbegin;
        #    while select salesLine
        #        where salesLine.SalesId == this.SalesId
        #    {
        #        // <NAXT_26851>
        #        reservationRemoved = salesLine.type().removeReservation();
        #        // </NAXT_26851>
        #    }
        #    ttscommit;
        #
        #    if(reservationRemoved)
        #    {
        #        info("@XAP15976");
        #    }
        #
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #replacementIcon
        #/// <summary>
        #/// Display method for the multiple replacement icon.
        #/// </summary>
        #/// <returns>
        #/// The id of the icon, or zero.
        #/// </returns>
        #//PCs_20111103_22285_AddEstimateToSegments
        #// BP Deviation documented
        #display server ResourceId replacementIcon()
        #{
        #    // <NAXT CU4>
        #    #ResAppl
        #
        #    if (this.ReplacedItemId)
        #    {
        #        return #ImageMatchingError;
        #    }
        #    // </NAXT CU4>
        #
        #    return XAP_MultipleReplacement::isMultipleReplacement(this.ItemId);
        #}
      ENDSOURCE
      SOURCE #reqTrans
        #/// <summary>
        #/// Finds the corresponding record in the <c>ReqTrans</c> table for the current sales line record.
        #/// </summary>
        #/// <param name="_reqPlanVersionRefRecId">
        #/// The record ID of the record in the <c>ReqPlanVersion</c> table to find.
        #/// </param>
        #/// <param name="_forupdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>ReqTrans</c> table; otherwise, an empty record.
        #/// </returns>
        #public ReqTrans reqTrans(
        #    RefRecId _reqPlanVersionRefRecId = ReqPlanVersion::findActiveReqPlanIdDynamic().RecId,
        #    boolean  _forupdate              = false)
        #{
        #    ReqTrans                    reqTrans;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #
        #    reqTrans.selectForUpdate(_forupdate);
        #
        #    select firstonly reqTrans
        #        where reqTrans.PlanVersion  == _reqPlanVersionRefRecId
        #           && reqTrans.RefType      == ReqRefType::Sales
        #           && reqTrans.RefId        == this.SalesId
        #        exists join inventTransOriginSalesLine
        #            where inventTransOriginSalesLine.InventTransOrigin      == reqTrans.InventTransOrigin
        #               && inventTransOriginSalesLine.SalesLineDataAreaId    == this.DataAreaId
        #               && inventTransOriginSalesLine.SalesLineInventTransId == this.InventTransId;
        #
        #    return reqTrans;
        #}
      ENDSOURCE
      SOURCE #reservedOnOrder
        #public display InventQtyReservOrdered reservedOnOrder()
        #{
        #    if (!this.InventTransId || !this.isStocked())
        #    {
        #        return 0;
        #    }
        #
        #    return -InventTransIdSumSingleStatus::qtyReserveOrdered(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #}
      ENDSOURCE
      SOURCE #reservedOnOrderInSalesUnit
        #public display SalesQtyReservOrdered reservedOnOrderInSalesUnit()
        #{
        #    InventQtyReservOrdered  inventQtyReservOrdered;
        #
        #    inventQtyReservOrdered = this.reservedOnOrder();
        #
        #    if (!inventQtyReservOrdered)
        #    {
        #        return 0;
        #    }
        #
        #    return this.unitConvertInvent2Sales(inventQtyReservOrdered);
        #}
      ENDSOURCE
      SOURCE #reservedOnPick
        #public display InventQtyReservOrdered reservedOnPick()
        #{
        #    if (!this.InventTransId || !this.isStocked())
        #    {
        #        return 0;
        #    }
        #
        #    return -InventTransIdSumSingleStatus::qtyReservPhysicalAnyWMSOrder(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #}
        #
      ENDSOURCE
      SOURCE #reservedPhysical
        #public display InventQtyReservPhysical reservedPhysical()
        #{
        #    if (!this.InventTransId || !this.isStocked())
        #    {
        #        return 0;
        #    }
        #
        #    return -InventTransIdSumSingleStatus::qtyReservPhysical(InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId));
        #}
      ENDSOURCE
      SOURCE #reservedPhysicalInSalesUnit
        #public display SalesQtyReservPhysical reservedPhysicalInSalesUnit()
        #{
        #    SalesQtyReservPhysical  salesQtyReservPhysical;
        #    // NACT CU3
        #    SalesTable salesTable = this.SalesTable();
        #
        #    if (salesTable.TEPSOrderType != XAP_TEPSOrderType::TEPSStock)
        #    {
        #     // NACT CU3
        #        salesQtyReservPhysical = this.reservedPhysical();
        #    }
        #
        #    if (!salesQtyReservPhysical)
        #    {
        #        return 0;
        #    }
        #
        #    return this.unitConvertInvent2Sales(salesQtyReservPhysical);
        #}
      ENDSOURCE
      SOURCE #reserveQty
        #public InventQty   reserveQty()
        #{
        #    if (! this.Reservation)
        #    {
        #        return 0;
        #    }
        #
        #    if (this.RemainInventPhysical < 0)
        #    {
        #        return 0;
        #    }
        #
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        return -this.PdsCWRemainInventPhysical
        #            * PdsCatchWeight::minInventQty(this.ItemId, 1);
        #    }
        #
        #    return -this.RemainInventPhysical;
        #}
      ENDSOURCE
      SOURCE #resetInvent
        #client server
        #void  resetInvent(boolean _update = true)
        #{
        #    this.SalesQty      = 0;
        #    this.QtyOrdered    = 0;
        #    this.SalesPrice    = 0;
        #    this.LineAmount    = 0;
        #
        #    this.RemainSalesPhysical    = this.SalesQty;
        #    this.RemainSalesFinancial   = 0;
        #    this.RemainInventPhysical   = this.QtyOrdered;
        #
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        this.PdsCWRemainInventPhysical = 0;
        #    }
        #
        #    InventMovement::bufferSetTransQtyUnit(this);
        #    this.setInventDeliverNow();
        #
        #    if (_update)
        #    {
        #        this.update();
        #        this.SalesStatus   = SalesStatus::Canceled;
        #        this.doUpdate();
        #
        #        InterCompanyUpdateStatus::synchronize(this);
        #    }
        #    else
        #    {
        #        this.SalesStatus   = SalesStatus::Canceled;
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #returnConditionCustomValidation
        #public boolean returnConditionCustomValidation(boolean _result = false)
        #{
        #    //<GGH> TFS:47089
        #    if (_result)
        #    {
        #        if (this.ReturnCondition == XAP_PICReturnConditions::RefillBuyBack && this.existsRefillLine())
        #        {
        #            _result = checkFailed("@XPC20194");
        #        }
        #    }
        #    //</GGH> TFS:47089
        #
        #    return _result;
        #}
      ENDSOURCE
      SOURCE #returnCreateReplacement
        #/// <summary>
        #/// Determines whether a replacement order should be created for the sales line in scope.
        #/// </summary>
        #/// <returns>
        #/// true if a replacement order should be created; otherwise, false.
        #/// </returns>
        #public boolean returnCreateReplacement()
        #{
        #    boolean    ret;
        #
        #    ret = this.salesTable().returnCreateReplacement() &&
        #          this.returnDispositionCode().createReplacement();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #returnCreateScrap
        #/// <summary>
        #/// Determines whether the items returned on the <c>SalesLine</c> record in scope should be scrapped.
        #/// </summary>
        #/// <returns>
        #/// true if the lot should be scrapped; otherwise, false.
        #/// </returns>
        #public boolean returnCreateScrap()
        #{
        #    boolean ret;
        #
        #    if (this.interCompanySalesLineExist())
        #    {
        #        ret = false;
        #    }
        #    else
        #    {
        #        ret = this.SalesPurchLine::isStocked()
        #              && this.returnDispositionCode().createScrap();
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #returnDeleteReservationLine
        #/// <summary>
        #/// Deletes the return reservation lines.
        #/// </summary>
        #/// <returns>
        #/// true if the reservation has been removed; otherwise, false.
        #/// </returns>
        #public boolean returnDeleteReservationLine()
        #{
        #    InventTransOriginId salesLineInventTransOriginId;
        #    SalesLine           reservationLine;
        #    boolean             ret;
        #
        #if (this.isStocked()
        #    && this.qtyMarked())
        #    {
        #        salesLineInventTransOriginId = InventTransOriginSalesLine::findInventTransOriginId(this.DataAreaId, this.InventTransId);
        #        InventTransOrigin::deleteMarking(salesLineInventTransOriginId, salesLineInventTransOriginId, this.QtyOrdered *-1
        #                , false
        #                , null
        #                , null
        #                , false
        #                , false
        #                , -this.PdsCWQty
        #        );
        #
        #        select forupdate firstonly reservationLine where reservationLine.InventRefTransId == this.InventTransId;
        #        if (reservationLine.isReturnReservationLine())
        #        {
        #            reservationLine.delete();
        #        }
        #
        #        ret = true;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #returnDispositionCode
        #/// <summary>
        #/// Finds the <c>ReturnDispositionCode</c> record related to the <c>SalesLine</c> record in scope.
        #/// </summary>
        #/// <param name="_forupdate">
        #/// A Boolean value that determines whether the <c>ReturnDispositionCode</c> code should be selected
        #/// with the <c>forupdate</c> flag; uses false.
        #/// </param>
        #/// <returns>
        #/// A <c>ReturnDispositionCode</c> table buffer identified by the <c>ReturnDispositionCodeId</c>
        #/// applied to the <c>SalesLine</c> record in scope.
        #/// </returns>
        #public ReturnDispositionCode returnDispositionCode(boolean _forupdate = false)
        #{
        #    return ReturnDispositionCode::find(this.ReturnDispositionCodeId,_forupdate);
        #}
      ENDSOURCE
      SOURCE #returnExistMoreOpenLines
        #/// <summary>
        #/// Determines whether any more open return lines exist for a sales order.
        #/// </summary>
        #/// <returns>
        #/// true if more open return lines exist; otherwise, false.
        #/// </returns>
        #public boolean returnExistMoreOpenLines()
        #{
        #    SalesLine salesLineMore;
        #
        #    select firstonly RecId from salesLineMore
        #        where salesLineMore.SalesId         == this.SalesId
        #           && salesLineMore.RecId           != this.RecId
        #           && salesLineMore.SalesType       == SalesType::ReturnItem
        #           && salesLineMore.ReturnStatus    != ReturnStatusLine::Awaiting
        #           && salesLineMore.ExpectedRetQty  < 0;
        #
        #    return salesLineMore.RecId;
        #}
      ENDSOURCE
      SOURCE #returnItem
        #/// <summary>
        #/// Determines whether the current item is a return item.
        #/// </summary>
        #/// <returns>
        #/// true when the current item is a return item; otherwise false.
        #/// </returns>
        #public boolean returnItem()
        #{
        #    //ReturnItem() is using the order type and not salesTable to determine whether the order is a return order, passing null to avoid lookup on salesTable.
        #    return this.type(null).returnItem();
        #}
      ENDSOURCE
      SOURCE #returnLineAmount
        #/// <summary>
        #/// Calculates the line amount for the return of items.
        #/// </summary>
        #/// <param name="_returnQty">
        #/// The quantity of items being returned. By default the full expected return quantity is used in the
        #/// calculation.
        #/// </param>
        #/// <returns>
        #/// The calculated line amount for the return of items.
        #/// </returns>
        #public LineAmount returnLineAmount(Qty  _returnQty = this.ExpectedRetQty)
        #{
        #    return this.calcLineAmount(_returnQty);
        #}
      ENDSOURCE
      SOURCE #returnLineArrivalUpdate
        #/// <summary>
        #/// Determines based on the sign of the parameter if called as part of a registration or a cancellation and call the appropriate instance method.
        #/// </summary>
        #/// <param name="_inventQty">
        #/// An <c>InventQtyRegistered</c> data type.
        #/// </param>
        #/// <param name="_cwQty">
        #/// An arrived quantity in catch weight unit.
        #/// </param>
        #/// <param name="_inventDim">
        #/// An <c>InventDim</c> table buffer, optional.
        #/// </param>
        #/// <exception cref="Exception::Error">
        #/// Function returnLineArrivalUpdate has been incorrectly called.
        #/// </exception>
        #public void returnLineArrivalUpdate(InventQtyRegistered _inventQty
        #    , PdsCWQtyRegistered _cwQty
        #    , InventDim _inventDim = null)
        #{
        #
        #    if (!this.RecId
        #        || !_inventQty
        #        || (pdsIsCWItem(this.ItemId) && !_cwQty)
        #        || !this.returnItem())
        #    {
        #        throw error(strFmt("@SYS22828", funcName()));
        #    }
        #
        #    if (_inventQty > 0) //Registration.
        #    {
        #        if(this.InventTransIdReturn
        #            && _inventDim)
        #        {   // In this scenario we're inside a transaction scope and the inventory transaction to be registred is already created hence no quantity should be passed.
        #            if (!SalesLine::canRegisterReturnQtyTrackingDim(this.InventTransIdReturn, _inventDim))
        #            {   //The quantity that you have entered exceeds the quantity that it is possible to return for the batch or serial number.
        #                throw error("@SYS341821");
        #            }
        #        }
        #
        #        this.returnLineRegisterUpdate(_inventQty
        #            , _cwQty
        #            );
        #    }
        #    else
        #    if (_inventQty < 0) //Cancellation.
        #    {
        #       this.returnLineResetToExpected(_inventQty
        #            , _cwQty
        #            );
        #    }
        #}
      ENDSOURCE
      SOURCE #returnLineRegisterUpdate
        #/// <summary>
        #/// Updates return related fields in the product registration scenario.
        #/// </summary>
        #/// <param name="_qtyRegistered">
        #/// A <c>InventQtyRegistered</c> data type.
        #/// </param>
        #/// <param name="_cwQtyRegistered">
        #/// A registered quantity in catch weight unit.
        #/// </param>
        #public void returnLineRegisterUpdate(InventQtyRegistered _qtyRegistered
        #    , PdsCWQtyRegistered _cwQtyRegistered
        #    )
        #{
        #    Qty expectedRetQty;
        #    ReturnDispositionCodeId returnDispositionCodeId = this.ReturnDispositionCodeId;
        #    DispositionAction       dispositionAction       = ReturnDispositionCode::find(returnDispositionCodeId).DispositionAction;
        #    SalesTable              salesTableUpdate        = this.salesTable(true);
        #
        #    if (!this.ReturnDispositionCodeId)
        #    {
        #        throw error("@SYS332910");
        #    }
        #    //Convert expected return qty to same unit as qtyregistered which is always in inventory unit before comparison
        #    expectedRetQty = this.calcQtyOrdered(this.ExpectedRetQty);
        #
        #    if (0-_qtyRegistered > expectedRetQty
        #        || -_cwQtyRegistered > this.PdsCWExpectedRetQty
        #        )
        #    {
        #        SalesLine::splitReturnLine(this.InventTransId, _qtyRegistered + expectedRetQty
        #            , _cwQtyRegistered + this.PdsCWExpectedRetQty
        #            );
        #        this.data(SalesLine::findInventTransId(this.InventTransId));
        #    }
        #
        #    //Resetting the disposition code in case it was cleared in a previous code block.
        #    if (this.ReturnDispositionCodeId)
        #    {
        #        this.ReturnDispositionCodeId = returnDispositionCodeId;
        #    }
        #
        #    this.ReturnDispositionCodeId = returnDispositionCodeId;
        #    this.ReturnStatus            = ReturnStatusLine::Registered;
        #    this.ReturnArrivalDate       = systemDateGet();
        #    this.createReturnMarkupTrans(this.salesTable());
        #    this.update();
        #
        #    // Process the disposition code
        #    if (dispositionAction == DispositionAction::Scrap
        #        || dispositionAction == DispositionAction::ReplaceScrap
        #        || dispositionAction == DispositionAction::ReturnToCust)
        #    {
        #        this.createReturnReservationLine();
        #        this.data(SalesLine::findInventTransId(this.InventTransId));
        #    }
        #
        #    // Set the delivery address to customer
        #    if (dispositionAction == DispositionAction::ReturnToCust)
        #    {
        #        salesTableUpdate.initFromCustTableMandatoryFields();
        #        salesTableUpdate.update();
        #    }
        #
        #    salesTableUpdate.returnChangeStatus(ReturnStatusHeader::Open);
        #}
      ENDSOURCE
      SOURCE #returnLineResetToExpected
        #/// <summary>
        #/// Updates the return related fields in the product cancel registration scenario.
        #/// </summary>
        #/// <param name="_qtyRegistered">
        #/// An <c>InventQtyRegistered</c> data type.
        #/// </param>
        #/// <param name="_cwQtyRegistered">
        #/// A registered quantity in catch weight unit.
        #/// </param>
        #/// <exception cref="M:Exception::Error">
        #/// Only lines that have return status registered can be reset to status open.
        #/// </exception>
        #/// <exception cref="M:Exception::Error">
        #/// Only negative quantities can be register canceled.
        #/// </exception>
        #public void returnLineResetToExpected(InventQtyRegistered _qtyRegistered
        #    , PdsCWQtyRegistered _cwQtyRegistered
        #    )
        #{
        #    SalesLine           reservationLine;
        #    DispositionAction   dispositionAction = this.returnDispositionCode().DispositionAction;
        #    SalesTable          salesTableUpdate  = this.salesTable(true);
        #
        #    void processDispositionCode()
        #    {
        #        if (dispositionAction    == DispositionAction::ReplaceScrap
        #            || dispositionAction == DispositionAction::ReturnToCust
        #            || dispositionAction == DispositionAction::Scrap)
        #        {
        #            //If the reservationLine hasn't been posted, it was deleted earlier.
        #            //Otherwise it's a ReturnToCust scenario and it needs special attention from the user.
        #            select forupdate firstonly reservationLine where reservationLine.InventRefTransId == this.InventTransId;
        #
        #            if (reservationLine)
        #            {
        #                warning(strFmt("@SYS332346", this.returnDispositionCode().Description));
        #            }
        #
        #            //In this case partial cancellation is done and a reservation line for the remaining quantity should be created.
        #            if (this.SalesQty)
        #            {
        #                this.createReturnReservationLine();
        #                this.data(SalesLine::findInventTransId(this.InventTransId));
        #            }
        #        }
        #    }
        #
        #    if(!this.ReturnStatus == ReturnStatusLine::Registered)
        #    {
        #        throw error(strFmt("@SYS332322", ReturnStatusLine::Registered));
        #    }
        #
        #    if (_qtyRegistered > 0
        #        || _cwQtyRegistered > 0
        #        )
        #    {
        #        throw error(strFmt("@SYS332323"));
        #    }
        #
        #    if (_qtyRegistered > this.ExpectedRetQty
        #        || _cwQtyRegistered > this.PdsCWExpectedRetQty
        #        )
        #    {
        #        SalesLine::splitReturnLine(this.InventTransId, _qtyRegistered
        #            , _cwQtyRegistered
        #            );
        #        this.data(SalesLine::findInventTransId(this.InventTransId));
        #        processDispositionCode();
        #    }
        #    else
        #    {
        #        if (!this.ReturnAllowReservation)
        #        {
        #            this.SalesQty = 0;
        #            this.PdsCWQty = 0;
        #            this.salesQtyModified();
        #
        #            if (!this.isStocked())
        #            {
        #                this.RemainSalesPhysical    = 0;
        #            }
        #        }
        #
        #        processDispositionCode();
        #
        #        this.ReturnStatus            = ReturnStatusLine::Awaiting;
        #        this.ReturnDispositionCodeId = '';
        #        this.ReturnArrivalDate       = dateNull();
        #        this.update();
        #    }
        #
        #    if (dispositionAction    == DispositionAction::ReplaceScrap
        #        || dispositionAction == DispositionAction::ReplaceCredit)
        #    {
        #        ReturnReplaceItemRef::deleteReplaceSetup(this.SalesId, this.LineNum);
        #    }
        #
        #    // Set delivery address to self company
        #    if (dispositionAction == DispositionAction::ReturnToCust
        #        && !this.salesTable().returnExistReturnToCustLines())
        #    {
        #        salesTableUpdate.setReturnAddressFromInventLocationId(salesTableUpdate.InventLocationId);
        #        salesTableUpdate.update();
        #    }
        #
        #    //Reset header status if this was the only open line.
        #    if (this.ReturnStatus == ReturnStatusLine::Awaiting
        #        && !this.returnExistMoreOpenLines())
        #    {
        #        salesTableUpdate.returnChangeStatus(ReturnStatusHeader::Created);
        #    }
        #}
      ENDSOURCE
      SOURCE #returnLineScrap
        #/// <summary>
        #/// Scraps the lot that is returned on the <c>SalesLine</c> in scope.
        #/// </summary>
        #/// <remarks>
        #/// If a reservation line exists it will be deleted and if other markings exists they will be
        #/// canceled.The lot in question is send to quarantine and then scrapped.
        #/// </remarks>
        #public void returnLineScrap()
        #{
        #    InventTrans                     inventTrans;
        #    InventTransOriginId             salesLineInventTransOriginId;
        #    InventTransOriginId             quarantineInventTransOriginId;
        #    InventDim                       inventDimQuarantine, inventDim;
        #    InventQuarantineOrder           quarantineOrder;
        #    InventParmQuarantineOrder       inventParmQuarantineOrder;
        #    InventQuarantineOrder_Scrap     inventQuarantineOrder_Scrap = InventQuarantineOrder_Scrap::construct();
        #    InventQuarantineUpdStartUp      inventQuarantineUpdStartUp;
        #    InventLocation                  inventLocation;
        #
        #    ttsbegin;
        #    this.returnDeleteReservationLine();
        #
        #    // Create the Quarantine order.
        #    inventTrans = InventTrans::findTransId(this.InventTransId);
        #    quarantineOrder.initFromInventTable(InventTable::find(inventTrans.ItemId));
        #    quarantineOrder.initFromInventTrans(inventTrans);
        #    quarantineOrder.initValue();
        #    quarantineOrder.InventDimId = inventTrans.InventDimId;
        #    inventDim.data(InventDim::find(quarantineOrder.InventDimId));
        #    inventDimQuarantine.data(inventDim);
        #    inventLocation                        = InventLocation::find(inventDim.InventLocationId);
        #    inventDimQuarantine.InventSiteId      = inventLocation.InventSiteId;
        #    inventDimQuarantine.InventLocationId  = inventLocation.InventLocationIdQuarantine;
        #    inventDimQuarantine.wmsLocationId     = WMSLocation::defaultItemLocation(this.ItemId, InventDirection::Receipt, inventDimQuarantine).wmsLocationId;
        #
        #    quarantineOrder.InventDimId           = InventDim::findOrCreate(inventDim).InventDimId;
        #    quarantineOrder.InventDimIdQuarantine = InventDim::findOrCreate(inventDimQuarantine).InventDimId;
        #    quarantineOrder.InventTransIdRef      = this.InventTransId;
        #    quarantineOrder.DefaultDimension      = this.DefaultDimension;
        #    quarantineOrder.insert();
        #    quarantineInventTransOriginId = InventTransOriginQuarantineOrder::findInventTransOriginId(quarantineOrder.DataAreaId, quarantineOrder.QuarantineId);
        #
        #    //Establish hard marking betwen this Return order line and the Quarantine order which will scrap the lot in question.
        #    InventTransOrigin::updateMarking(quarantineInventTransOriginId, salesLineInventTransOriginId, -quarantineOrder.Qty
        #        , ''
        #        , SortOrder::Ascending
        #        , false
        #        , null
        #        , null
        #        , -quarantineOrder.PdsCWQty
        #        );
        #    InventTransOrigin::updateMarking(salesLineInventTransOriginId, quarantineInventTransOriginId, quarantineOrder.Qty
        #        , ''
        #        , SortOrder::Ascending
        #        , false
        #        , null
        #        , null
        #        , quarantineOrder.PdsCWQty
        #        );
        #
        #    // Start the Quarantine order.
        #    inventParmQuarantineOrder.QuarantineId = quarantineOrder.QuarantineId;
        #    inventParmQuarantineOrder.TransDate    = quarantineOrder.QuarantineDate;
        #    inventQuarantineUpdStartUp             = InventQuarantineUpdStartUp::newParmBuffer(inventParmQuarantineOrder);
        #    inventQuarantineUpdStartUp.run();
        #
        #    // Scrap the Quarantine order.
        #    inventQuarantineOrder_Scrap.parmInventQuarantineId(quarantineOrder.QuarantineId);
        #    inventQuarantineOrder_Scrap.parmScrapQty(quarantineOrder.RemainQty);
        #    inventQuarantineOrder_Scrap.parmCWScrapQty(quarantineOrder.PdsCWRemainQty);
        #    inventQuarantineOrder_Scrap.parmTransDate(systemDateGet());
        #    inventQuarantineOrder_Scrap.run();
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #returnLineUpdate
        #/// <summary>
        #/// Handles the special actions that are needed for return orders.
        #/// </summary>
        #/// <param name="_documentStatus">
        #/// A <c>DocumentStatus</c> base enumeration value.
        #/// </param>
        #/// <returns>
        #/// A buffer of the <c>SalesLine</c> table;
        #/// </returns>
        #/// <remarks>
        #/// This method handles the special actions that are needed for return orders.
        #/// </remarks>
        #/// <exception cref="M:Exception::Error">
        #/// A replacement order setup is missing.
        #/// </exception>
        #public SalesLine returnLineUpdate(DocumentStatus _documentStatus)
        #{
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #    // </GEERU>
        #
        #    DispositionAction           dispositionAction;
        #    ReturnReplaceItemRef        replaceItemRef;
        #
        #    if (_documentStatus == DocumentStatus::PackingSlip && this.ReturnStatus == ReturnStatusLine::Received)
        #    {
        #        // packing slip was corrected
        #        dispositionAction = this.returnDispositionCode().DispositionAction;
        #
        #        if (dispositionAction    == DispositionAction::ReplaceScrap
        #            || dispositionAction == DispositionAction::ReplaceCredit)
        #        {
        #            while select forupdate replaceItemRef
        #                where replaceItemRef.OrigSalesId        == this.SalesId
        #                    && replaceItemRef.OrigSalesLineNum  == this.LineNum
        #            {
        #                if (replaceItemRef.ReplaceSalesId != '')
        #                {
        #                    info(strFmt("@SYS334605", replaceItemRef.ReplaceSalesId));
        #                }
        #                replaceItemRef.delete();
        #            }
        #        }
        #    }
        #    else
        #    {
        #        // <GEERU>
        #        if ((_documentStatus == DocumentStatus::Invoice ||
        #              (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]) && _documentStatus == DocumentStatus::Facture_RU))
        #            // </GEERU>
        #            && this.returnCreateScrap()
        #            && !this.isReturnLineScrapped())
        #        {
        #            this.returnLineScrap();
        #            this.data(SalesLine::findInventTransId(this.InventTransId));
        #            this.setSalesStatus();
        #        }
        #
        #        if (this.returnCreateReplacement())
        #        {
        #            if (ReturnReplaceItemRef::existOrigSalesLine(this.SalesId, this.LineNum))
        #            {
        #                this.createReplacement();
        #            }
        #            else
        #            {   // Replacement order setup is missing for return order number %1, line number %2.
        #                throw error(strFmt("@SYS123029", this.salesTable().ReturnItemNum, this.LineNum));
        #            }
        #        }
        #    }
        #
        #    return this.setReturnLineStatus(_documentStatus);
        #}
      ENDSOURCE
      SOURCE #returnUpdateBasedOnDispcode
        #/// <summary>
        #///     Updates the return status on both <c>SalesTable</c> and <c>SalesLine</c> records.
        #/// </summary>
        #/// <remarks>
        #///     This method is only used when the credit only disposition code (NoItem) is manually applied or cleared in the <c>ReturnTable</c> form.
        #/// </remarks>
        #public void returnUpdateBasedOnDispcode()
        #{
        #    SalesTable          salesTable;
        #    boolean             scrap;
        #    boolean             resetHeaderStaus;
        #    ReturnStatusHeader  statusHeader;
        #
        #    scrap = ReturnDispositionCode::find(this.ReturnDispositionCodeId).DispositionAction == DispositionAction::CreditOnly ? NoYes::Yes : NoYes::No;
        #
        #    if (this.ReturnAllowReservation && scrap)
        #    {
        #        this.ReturnAllowReservation = !scrap;
        #    }
        #
        #    if (!this.interCompanySalesLineExist())
        #    {
        #        this.RemainSalesPhysical    = scrap ? this.ExpectedRetQty : 0;
        #        this.SalesQty               = scrap ? this.ExpectedRetQty : 0;
        #        this.QtyOrdered             = scrap ? this.calcQtyOrdered(this.ExpectedRetQty) : 0;
        #        this.RemainInventPhysical   = this.QtyOrdered;
        #        this.Scrap                  = scrap;
        #        this.PdsCWQty                  = scrap ? this.PdsCWExpectedRetQty : 0;
        #        this.PdsCWRemainInventPhysical = scrap ? this.PdsCWExpectedRetQty : 0;
        #
        #    }
        #
        #    this.ReturnArrivalDate  = this.ReturnStatus == ReturnStatusLine::Awaiting && !this.ReturnArrivalDate && scrap ? systemDateGet() : dateNull();
        #
        #    if (scrap)
        #    {
        #        this.ReturnStatus = ReturnStatusLine::Received;
        #        statusHeader      = ReturnStatusHeader::Open;
        #    }
        #    else
        #    {
        #        this.ReturnStatus = ReturnStatusLine::Awaiting;
        #
        #        resetHeaderStaus  = (select firstonly RecId from salesLine
        #                                where salesLine.SalesId                 == this.SalesId
        #                                   && salesLine.RecId                   != this.RecId
        #                                   && salesLine.ReturnDispositionCodeId != '').RecId == 0;
        #        if (resetHeaderStaus)
        #        {
        #            statusHeader = ReturnStatusHeader::Created;
        #        }
        #    }
        #
        #    if (statusHeader != salesTable.ReturnStatus)
        #    {
        #        salesTable              = this.salesTable(true);
        #        salesTable.ReturnStatus = statusHeader;
        #        salesTable.update();
        #    }
        #}
      ENDSOURCE
      SOURCE #returnUpdateLinePrePosting
        #/// <summary>
        #/// Performs the posting of preliminary updates to a record.
        #/// </summary>
        #/// <param name="_documentStatus">
        #/// A <c>DocumentStatus</c> enumeration.
        #/// </param>
        #/// <returns>
        #/// true if the record has been updated; otherwise, false.
        #/// </returns>
        #public boolean returnUpdateLinePrePosting(DocumentStatus _documentStatus)
        #{
        #    DispositionAction   dispositionAction;
        #    boolean             ret;
        #
        #    if (this.returnItem()
        #        && _documentStatus  == DocumentStatus::PackingSlip
        #        && this.ReturnStatus == ReturnStatusLine::Received)
        #        {
        #             // In process of packing correction
        #
        #            dispositionAction = this.returnDispositionCode().DispositionAction;
        #
        #            if (dispositionAction    == DispositionAction::ReplaceScrap
        #                || dispositionAction == DispositionAction::Scrap)
        #            {
        #                ret = this.returnDeleteReservationLine();
        #            }
        #        }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #runPriceDiscPolicyDialog
        #/// <summary>
        #/// Calls the <c>runPriceDiscPolicyDialog</c> method of the <c>PriceDiscResultFields</c> table map.
        #/// </summary>
        #/// <param name="_skipcheck">
        #/// A Boolean value that indicates whether to skip the field change validation before the dialog box is
        #/// started; optional.
        #/// </param>
        #/// <returns>
        #/// true if the user presses the OK button or no policy exists; otherwise, false.
        #/// </returns>
        #public boolean runPriceDiscPolicyDialog(boolean _skipcheck = false)
        #{
        #    return this.PriceDiscResultFields::runPriceDiscPolicyDialog(0,
        #                                                                false,
        #                                                                _skipcheck);
        #}
      ENDSOURCE
      SOURCE #salesLine_BR
        #/// <summary>
        #/// Recovers brazilian extension table
        #/// </summary>
        #/// <returns>
        #/// A record of <c>SalesLine_BR</c>
        #/// </returns>
        #// <GBR>
        #public SalesLine_BR salesLine_BR()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesLine_BR));
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #salesLine_IN
        #/// <summary>
        #/// Get the <c>SalesLine_IN</c> table.
        #/// </summary>
        #/// <returns>
        #/// The table <c>SalesLine_IN</c> associated with the current record.
        #/// </returns>
        #// <GIN>
        #public SalesLine_IN salesLine_IN()
        #{
        #    #ISOCountryRegionCodes
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
        #    {
        #        return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesLine_IN));
        #    }
        #
        #    return null;
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #salesLine_Intrastat
        #/// <summary>
        #/// Retrieves <c>SalesLine_Intrastat</c> extension table record.
        #/// </summary>
        #/// <returns>
        #/// The extension table record related to current record.
        #/// </returns>
        #public SalesLine_Intrastat salesLine_Intrastat()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesLine_Intrastat));
        #}
        #
      ENDSOURCE
      SOURCE #salesLineView_IN
        #/// <summary>
        #/// Returns a view associated with the current record.
        #/// </summary>
        #/// <returns>
        #/// The <c>SalesLineView_IN</c>.
        #/// </returns>
        #public SalesLineView_IN salesLineView_IN()
        #{
        #    SalesLineView_IN salesLineView_IN;
        #    #ISOCountryRegionCodes
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
        #    {
        #        salesLineView_IN.initFromSalesLine(this);
        #
        #        // If the view doesn't have a RecId then it will assume
        #        // this is an insert scenario when it isn't.  So we will
        #        // let the view borrow the RecId from the SalesLine.  Since
        #        // no writes are done using this view this will work okay.
        #        salesLineView_IN.RecId = this.RecId;
        #        return salesLineView_IN;
        #    }
        #
        #    return salesLineView_IN;
        #}
      ENDSOURCE
      SOURCE #salesPurchTable
        #public SalesPurchTable salesPurchTable()
        #{
        #    return this.salesTable();
        #}
      ENDSOURCE
      SOURCE #salesQtyCustomValidation
        #public boolean salesQtyCustomValidation(boolean _result = false)
        #{
        #    return _result;
        #}
      ENDSOURCE
      SOURCE #salesQtyModified
        #public void salesQtyModified()
        #{
        #    this.initSalesQty();
        #
        #    this.LineAmount = this.calcLineAmount();
        #
        #    InventMovement::bufferSetTransQtyUnit(this);
        #
        #    this.setInventDeliverNow();
        #    InventMovement::bufferSetRemainQty(this);
        #
        #    this.CalculatedWeight = this.SalesQty * this.inventTable().grossWeight(); //TFS2235 - PTI - 20120919
        #}
      ENDSOURCE
      SOURCE #salesQtyModifiedInteraction
        #/// <summary>
        #/// Executes the code that relates to changes in the sales line when the sales quantity is changed by
        #/// user interaction when the associated link to an agreement line is invalid.
        #/// </summary>
        #/// <remarks>
        #/// A prompt is displayed if the linked sales agreement line is set to enforce a maximum quantity.
        #/// </remarks>
        #public void salesQtyModifiedInteraction()
        #{
        #    boolean     calledFromWeb;
        #    boolean     isAgreementLinkRefreshed;
        #    AmountCur   localOrigLineAmount = this.LineAmount; //This variable is needed for the uncommitted scenario.
        #
        #    if (!this.isTmp() && this.salesTable().MatchingAgreement)
        #    {
        #        //The impact on line amount should be included in the agreement link validation.
        #        this.LineAmount      = this.calcLineAmountForced(this.SalesQty);
        #        isAgreementLinkRefreshed = this.refreshAgreementLink();
        #        this.LineAmount      = localOrigLineAmount;
        #
        #        if (isAgreementLinkRefreshed)
        #        {
        #            SalesLine::modifySalesQty(this,this.inventDim());
        #        }
        #        else
        #        {
        #            calledFromWeb = webSession() ? true : false;
        #
        #            if (calledFromWeb)
        #            {
        #                warning("@SYS135751");
        #            }
        #            else
        #            {
        #
        #                if(this.unLinkAgreementLinePrompt(fieldNum(SalesLine,SalesQty)))
        #                {
        #                    if (this.LineDeliveryType != LineDeliveryType::DeliveryLine
        #                        && this.doReCalcPricesFromBasePrompt())
        #                    {
        #                        SalesLine::modifySalesQty(this,this.inventDim());
        #                    }
        #                    else
        #                    {
        #                        SalesLine::modifySalesQty(this,this.inventDim(),false);
        #                    }
        #                }
        #                else
        #                {
        #                    this.SalesQty = this.orig().SalesQty;
        #                }
        #            }
        #        }
        #    }
        #    else
        #    {
        #        SalesLine::modifySalesQty(this,this.inventDim());
        #    }
        #}
      ENDSOURCE
      SOURCE #salesTable
        #public SalesTable  salesTable(boolean  _update = false)
        #{
        #    return SalesTable::find(this.SalesId, _update);
        #}
      ENDSOURCE
      SOURCE #salesTableName
        #// PBa
        #public display Name salesTableName()
        #{
        #    return this.salesTable().SalesName;
        #}
      ENDSOURCE
      SOURCE #salesUnitModified
        #/// <summary>
        #/// Changes the sales line, depending on changes in the sales unit field.
        #/// </summary>
        #/// <remarks>
        #/// Called from the <c>modifiedField</c> method.
        #/// </remarks>
        #public void salesUnitModified()
        #{
        #    SalesLine::modifySalesQty(this,this.inventDim(), !this.isLinkedToAgreement());
        #    InventMovement::bufferSetTransQtyUnit(this);
        #    this.setInventDeliverNow();
        #}
      ENDSOURCE
      SOURCE #segmentId
        #/// <summary>
        #/// Get the record id of the related <c>XAP_SvcSegmentTable</c> if it exists.
        #/// </summary>
        #/// <returns>
        #/// If the current sales line connected to a segment sales order or a tool sales order,
        #/// than the record id of the related <c>XAP_SvcSegmentTable</c> table, otherwise 0.
        #/// </returns>
        #//PCs_2915_ToolHandlingOnStandardJob
        #public XAP_SvcSegmentRecId segmentId()
        #{
        #    XAP_SvcSegmentRecId     ret;
        #    SalesTable              salesTable;
        #    XAP_SvcSegmentTable     segmentTable;
        #
        #    select firstonly RecId from segmentTable
        #        exists join salesTable
        #            where salesTable.SvcSegmentRecId    == segmentTable.RecId
        #              &&  salesTable.SalesId            == this.SalesId;
        #
        #    ret = segmentTable.RecId;
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #setAddressFromProjTable
        #public void setAddressFromProjTable(ProjTable _projTable)
        #{
        #    LogisticsLocationEntity location = LogisticsLocationEntity::constructFromLocationRecId(_projTable.DeliveryLocation);
        #
        #    this.DeliveryName               = _projTable.DlvName;
        #    this.DeliveryPostalAddress      = location.getPostalAddress().RecId;
        #}
      ENDSOURCE
      SOURCE #setAddressFromSalesLine
        #public void setAddressFromSalesLine(SalesLine  _salesLine)
        #{
        #    this.DeliveryPostalAddress      = _salesLine.DeliveryPostalAddress;
        #    this.DeliveryName               = _salesLine.DeliveryName;
        #    this.AddressRefRecId            = _salesLine.AddressRefRecId;
        #    this.AddressRefTableId          = _salesLine.AddressRefTableId;
        #}
      ENDSOURCE
      SOURCE #setAddressFromSalesTable
        #public void  setAddressFromSalesTable(SalesTable  _salesTable = this.salesTable())
        #{
        #    if (LogisticsPostalAddress::zipCityCountyRegionDifferent(
        #        this.DeliveryPostalAddress, _salesTable.DeliveryPostalAddress))
        #    {
        #        this.DeliveryDateControlType = SalesDeliveryDateControlType::None;
        #        this.DeliveryPostalAddress   = _salesTable.DeliveryPostalAddress;
        #    }
        #    else if (this.DeliveryPostalAddress != _salesTable.DeliveryPostalAddress)
        #    {
        #        this.DeliveryPostalAddress = _salesTable.DeliveryPostalAddress;
        #    }
        #
        #    this.DeliveryName               = _salesTable.DeliveryName;
        #    this.AddressRefRecId            = _salesTable.AddressRefRecId;
        #    this.AddressRefTableId          = _salesTable.AddressRefTableId;
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        this.setAddressFromSalesTable_BR();
        #    }
        #    // </GBR>
        #
        #    // NAXT EQ0048 Default financial dimension (KT8539) - begin
        #    if (_salesTable.OrderClassRecId && XAP_OrderClass::findOrderClass(_salesTable.OrderClassRecId).UseDimRelSales)
        #    {
        #        this.initDefaultDimension(XAP_SalesLineDimensionRule::ZipCode);
        #
        #        // <GGH>
        #        this.initDefaultDimensionIssue(XAP_SalesLineDimensionRule::ZipCode);
        #        // </GGH>
        #    }
        #    // NAXT EQ0048 Default financial dimension (KT8539) - end
        #}
      ENDSOURCE
      SOURCE #setAddressFromSalesTable_BR
        #/// <summary>
        #/// Executes after the execution of the original setAddressFromSalesTable_BR method.
        #/// </summary>
        #// <GBR>
        #public void setAddressFromSalesTable_BR()
        #{
        #    this.onDeliveryPostalAddressChange_BR();
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #setAlternativeItem
        #/// <summary>
        #/// Encapsulates the logic that replaces the items with an alternative item setup.
        #/// </summary>
        #/// <param name="_salesAlternativeItem">
        #/// An instance of a <c>SalesAlternativeItem</c> class.
        #/// </param>
        #/// <param name="_showInfo">
        #/// A Boolean value that determines whether information should be given to the user.
        #/// </param>
        #/// <remarks>
        #/// The default value of the <paramref name="_showInfo" /> parameter is false, and no information is
        #/// exposed.
        #/// </remarks>
        #public void setAlternativeItem(SalesAlternativeItem _salesAlternativeItem, boolean _showInfo = false)
        #{
        #    ItemId                          itemId, itemIdOrig;
        #    InventDim                       localInventDim;
        #    EcoResProductDimGroupSetup      dimSetup;
        #
        #    itemIdOrig              = this.ItemId;
        #    itemId                  = _salesAlternativeItem.alternativeItemId();
        #    localInventDim          = _salesAlternativeItem.parmInventDim();
        #    dimSetup                = EcoResProductDimGroupSetup::newItemId(itemId);
        #
        #    dimSetup.copyProductDimensions(_salesAlternativeItem.alternativeProductDimension(dimSetup, localInventDim), localInventDim);
        #    this.setInventDimIdFromInventDim(localInventDim);
        #    this.ItemId             = itemId;
        #    this.itemIdChanged();
        #
        #    if (_showInfo)
        #    {
        #        info(strFmt("@SYS79522", itemIdOrig, this.ItemId));
        #    }
        #}
      ENDSOURCE
      SOURCE #setCFOP_BR
        #/// <summary>
        #/// It is responsible for setting CFOP code
        #/// </summary>
        #/// <param name="_askToUser">
        #/// boolean to define if should request user intereaction
        #/// </param>
        #// <GBR>
        #public server void setCFOP_BR(boolean _askToUser = false)
        #{
        #    SalesLine_BR salesLine_BR;
        #
        #    salesLine_BR = this.salesLine_BR();
        #    salesLine_BR.cfopTable_BR = CFOPValidation_BR::construct(this).getDefaultCFOP(_askToUser);
        #
        #    this.packSalesLine_BR(salesLine_BR);
        #
        #    this.updateDeliveryCFOP_BR();
        #    this.setTaxGroupAndTaxItemGroupFields_BR();
        #    this.type().updateFiscalDocumentText_BR(FiscalDocumentTextType_BR::CFOP);
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #setCFOPFromSalesTable_BR
        #/// <summary>
        #///  It sets CFOP field based on SalesTable
        #/// </summary>
        #/// <param name="_salesTable">
        #/// PurchTable used to get CFOP data
        #/// </param>
        #// <GBR>
        #public void setCFOPFromSalesTable_BR(SalesTable  _salesTable = this.salesTable())
        #{
        #    this.updateDeliveryCFOP_BR();
        #    this.setTaxGroupAndTaxItemGroupFields_BR();
        #    this.type().updateFiscalDocumentText_BR(FiscalDocumentTextType_BR::CFOP);
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #setDeliveryAddressFromWarehouse
        #/// <summary>
        #/// Setup the address, and contact informations based on Inventlocation, and/or customer.
        #/// If Deliverymode is Pickup, then the delivery informations come from InventLocation.
        #/// </summary>
        #public void setDeliveryAddressFromWarehouse()
        #{
        #    XAP_InventLocationAddress::construct(this).setDeliveryAddressFromWarehouse();
        #}
      ENDSOURCE
      SOURCE #setDeliveryDateControlType
        #/// <summary>
        #/// Sets the delivery date control type for the current sales line.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The inventory dimension to use to find the delivery date control type.
        #/// </param>
        #/// <remarks>
        #/// For category based lines, delivery date control type is defaulted from the sales table.
        #/// </remarks>
        #public void setDeliveryDateControlType(InventDimId _inventDimId = this.InventDimId)
        #{
        #    SalesATPSettingsMap             salesATPSettingsMap;
        #    SalesDeliveryDateControlType    deliveryDateControlType;
        #
        #    if(this.isCategoryBased())
        #    {
        #        deliveryDateControlType = this.salesTable().DeliveryDateControlType;
        #    }
        #    else
        #    {
        #        salesATPSettingsMap = SalesATPCalculation::findSalesOrderSettings(this.ItemId, _inventDimId);
        #
        #        deliveryDateControlType = salesATPSettingsMap.IsItemSpecific ?
        #            salesATPSettingsMap.DeliveryDateControlType
        #            : this.salesTable().DeliveryDateControlType;
        #
        #    }
        #
        #    if ((deliveryDateControlType == SalesDeliveryDateControlType::ATP || deliveryDateControlType == SalesDeliveryDateControlType::ATPPlusIssueMargin)
        #        && (!this.isStocked() || this.inventTable().inventItemType().isServiceItem()) )
        #    {
        #        deliveryDateControlType = SalesDeliveryDateControlType::None;
        #    }
        #
        #    this.DeliveryDateControlType = deliveryDateControlType;
        #}
      ENDSOURCE
      SOURCE #setDeliveryName
        #/// <summary>
        #/// Sets the delivery name field based on a specified logistic location.
        #/// </summary>
        #public void setDeliveryName()
        #{
        #    this.TradePostalAddress::setDeliveryName();
        #}
      ENDSOURCE
      SOURCE #setDimensionByReturnWarehouseLocation
        #//<NAXT-2012-DCG>
        #private void setDimensionByReturnWarehouseLocation()
        #{
        #    InventDim inventDim = this.inventDim();
        #
        #    if (XAP_SvcParameters::find().UseReturnWarehouse)
        #    {
        #        inventDim.InventLocationId = this.ReturnWarehouse;
        #        inventDim.wmsLocationId = this.ReturnLocation;
        #        this.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
        #    }
        #}
        #//</NAXT-2012-DCG>
      ENDSOURCE
      SOURCE #setExcludeFromSvcQuote
        #/// <summary>
        #/// Set the default value of the ExcludeFromSvcQuote field.
        #/// </summary>
        #//PCs_3547_AllowSppressionOfMiscCharge
        #public void setExcludeFromSvcQuote()
        #{
        #    XAP_SvcSegmentTable         segmentTable;
        #    XAP_SvcExcludeFromSvcQuote  excludeFromSvcQuote;
        #
        #    select firstonly InvoiceAccount, CustCategoryGroupId, RecId from segmentTable
        #        where segmentTable.RecId == this.segmentId();
        #
        #    if (segmentTable.RecId)
        #    {
        #        excludeFromSvcQuote = XAP_SvcExcludeMiscChargesFromQuoteTable::excludeLineCategory(this.LineCategoryGroupId,
        #                                                                                           segmentTable.InvoiceAccount,
        #                                                                                           segmentTable.CustCategoryGroupId);
        #    }
        #
        #    this.ExcludeFromSvcQuote = excludeFromSvcQuote;
        #}
      ENDSOURCE
      SOURCE #setExpectedReturnQuantityFromCWQuantity
        #/// <summary>
        #/// Sets the expected return quantity from the CW return quantity.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// The inventory dimension to use for finding expected return quantity from.
        #/// </param>
        #public void setExpectedReturnQuantityFromCWQuantity(InventDim _inventDim)
        #{
        #    ReturnExpectedRetQty                    returnExpectedRetQty;
        #    InventQty                               inventQty;
        #    InventTable                             inventTable;
        #
        #    if (pdsIsCWItem(this.ItemId))
        #    {
        #        inventQty = -SalesLine::getInventQtyFromCWUnit(this,this.PdsCWExpectedRetQty,_inventDim,true);
        #        inventTable = this.inventTable();
        #        returnExpectedRetQty = UnitOfMeasureConverter::convert(inventQty,
        #                                            UnitOfMeasure::unitOfMeasureIdBySymbol(inventTable.inventUnitId()),
        #                                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #                                            NoYes::Yes,
        #                                            inventTable.Product);
        #
        #        if (returnExpectedRetQty)
        #        {
        #            this.ExpectedRetQty = returnExpectedRetQty;
        #        }
        #        else
        #        {
        #            this.pdsCWExpRetQtyConversion();
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #setInventDeliverNow
        #public void  setInventDeliverNow()
        #{
        #    this.InventDeliverNow = UnitOfMeasureConverter::convert(this.SalesDeliverNow,
        #                                             UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #                                             UnitOfMeasure::unitOfMeasureIdBySymbol(this.inventTable().inventUnitId()),
        #                                             NoYes::Yes,
        #                                             InventTable::itemProduct(this.ItemId));
        #}
      ENDSOURCE
      SOURCE #setInventDimId
        #/// <summary>
        #/// Applies the <paramref name="InventDimId" /> parameter to the <c>SalesLine.inventDimId</c> field and
        #/// defaults, depending on the new inventory dimensions.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The <c>InventDimId</c> value that should be applied to the <c>SalesLine.InventDimId</c> field.
        #/// </param>
        #/// <param name="_inventDim">
        #/// The <c>InventDim</c> record buffer related to the <paramref name="InventDimId" /> parameters;
        #/// optional.
        #/// </param>
        #public void setInventDimId(InventDimId _inventDimId, InventDim _inventDim = InventDim::find(_inventDimId))
        #{
        #    InventDim   currentInventDim = this.InventDimId == _inventDimId ? _inventDim : this.inventDim();
        #
        #    this.InventDimId = _inventDimId;
        #    this.linkInventDim2Dimension(_inventDim, currentInventDim);
        #}
      ENDSOURCE
      SOURCE #setInventDimIdFromInventDim
        #/// <summary>
        #/// Finds or creates an <c>InventDimId</c> value for the given <c>InventDim</c> table and applies the
        #/// found <c>InventDimId</c> to the <c>SalesLine.inventDimId</c> field.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// An <c>InventDim</c> record buffer that should be referenced by the current <c>SalesLine</c> record
        #/// buffer.
        #/// </param>
        #public void setInventDimIdFromInventDim(InventDim _inventDim)
        #{
        #    InventDim   inventDim;
        #
        #    inventDim = InventDim::findOrCreate(_inventDim);
        #    this.setInventDimId(inventDim.InventDimId, inventDim);
        #}
      ENDSOURCE
      SOURCE #setInventSumLogTTS
        #/// <summary>
        #/// Implements logic to control whether changes to the sales line are tracked.
        #/// </summary>
        #/// <remarks>
        #/// The records are inserted into the <c>InventSumLogTTS</c> table when changes are tracked.
        #/// </remarks>
        #public void setInventSumLogTTS()
        #{
        #    if (   this.Reservation             == ItemReservation::Explosion
        #        && this.DeliveryDateControlType != SalesDeliveryDateControlType::CTP)
        #    {
        #        // If DeliveryDateControlType == SalesDeliveryDateControlType::CTP the explosion is done after commit
        #        appl.inventUpdateOnhandGlobal().inventUpdateOnhand().parmSkipInventSumLogTTS(true); // Skip inventSumLogTTS because reqTrans(es) deleted and inserted directly
        #    }
        #    else
        #    {
        #        appl.inventUpdateOnhandGlobal().inventUpdateOnhand().parmSkipInventSumLogTTS(false); // to make sure that inventSumLogTTS is not skipped, if it was skipped earlier
        #    }
        #}
      ENDSOURCE
      SOURCE #setListCode
        #void  setListCode()
        #{
        #//    this.listcode = EUSalesList::resolveListCode(this.deliveryCountry, this.payer().country);
        #}
      ENDSOURCE
      SOURCE #setLocation
        #/// <summary>
        #/// Sets the delivery address information and the related information.
        #/// </summary>
        #/// <param name="_location">
        #/// The record ID of the logistics location.
        #/// </param>
        #/// <remarks>
        #/// If the <c>SalesType</c> is <c>ReturnItem</c>, the address will be set to a default value by using a
        #/// receiving address.
        #/// </remarks>
        #public void  setLocation(LogisticsLocationRecId _location)
        #{
        #    LogisticsLocationEntity location = LogisticsLocationEntity::constructFromLocationRecId(_location);
        #    Common transferFromTable;
        #
        #    if (location.parmLocationDescription())
        #    {
        #        this.DeliveryName = location.parmLocationDescription();
        #    }
        #
        #    this.DeliveryPostalAddress = location.getPostalAddress().RecId;
        #
        #    if (this.SalesType == SalesType::ReturnItem)
        #    {
        #        transferFromTable = this.getDeliveryEntityRecord();
        #        this.AddressRefRecId = transferFromTable.RecId;
        #        this.AddressRefTableId = transferFromTable.TableId;
        #    }
        #    else
        #    {
        #        this.AddressRefRecId            = location.parmLocationRecId();
        #        this.AddressRefTableId          = tableNum(LogisticsLocation);
        #    }
        #
        #    this.setListCode();
        #    this.setTaxGroup(TaxSales::custTaxGroup(this.deliveryTerm(), this.TaxGroup, _location));
        #}
      ENDSOURCE
      SOURCE #setPdsSameLot
        #/// <summary>
        #/// Sets the same batch parameter for the sales line.
        #/// </summary>
        #public void setPdsSameLot()
        #{
        #    this.type().setPdsSameLot();
        #}
      ENDSOURCE
      SOURCE #setPostingProfile_RU
        #void setPostingProfile_RU()
        #{
        #    InventProfileId_RU inventProfile = this.inventDim().InventProfileId_RU;
        #
        #    if (inventProfile && (! this.RecId || inventProfile != this.orig().inventDim().InventProfileId_RU))
        #    {
        #        this.PostingProfile_RU = InventProfileCustVendLedger_RU::custPostingProfile(inventProfile);
        #    }
        #}
      ENDSOURCE
      SOURCE #setPriceAgreement
        #client server void  setPriceAgreement(InventDim _inventDim,
        #    PriceDiscPolicyCheckPolicy  _checkPolicy = null,
        #    boolean _initDateFields = true)
        #{
        #    this.SalesPurchLine::setPriceAgreement(_inventDim, true, _checkPolicy, _initDateFields);
        #}
      ENDSOURCE
      SOURCE #setPriceDisc
        #server public void setPriceDisc(InventDim _inventDim, boolean _initDateFields = true
        #                                // <NAXT CU4> T20846
        #                                , container _forceUpdateFieldCon = conNull()
        #                                // </NAXT CU4>
        #                                )
        #{
        #    // <NAXT CU5>
        #    PriceDiscPolicyCheckPolicy  checkPolicy;
        #
        #
        #    _forceUpdateFieldCon += [fieldNum(SalesLine, EnableTeps)];
        #    checkPolicy = PriceDiscPolicyCheckPolicy::newFromParm(this.PriceDiscResultFields::parmPriceDiscResultFields(), _forceUpdateFieldCon); // NAXT CU4 T20846
        #    // </NAXT CU5>
        #
        #    if (this.returnItem())
        #    {
        #        if (!this.InventTransIdReturn)
        #        {
        #            // <GEEU>
        #            if (!this.CreditNoteInternalRef_PL)
        #            {
        #            // </GEEU>
        #                this.setPriceAgreement(_inventDim, checkPolicy, _initDateFields);
        #            // <GEEU>
        #            }
        #            // </GEEU>
        #
        #        }
        #        this.LineAmount = this.returnLineAmount();
        #    }
        #    else
        #    {
        #        // <GEEU>
        #        if (!this.CreditNoteInternalRef_PL)
        #        {
        #        // </GEEU>
        #            this.setPriceAgreement(_inventDim, checkPolicy, _initDateFields);
        #        // <GEEU>
        #        }
        #        // </GEEU>
        #        this.LineAmount = this.calcLineAmountForced(this.SalesQty, checkPolicy);
        #    }
        #
        #    // <GIN>
        #    this.updateAndPackAccessableValue_IN();
        #    // </GIN>
        #}
      ENDSOURCE
      SOURCE #setPriceDiscChangePolicy
        #/// <summary>
        #/// Calls the <c>createPriceDiscChangePolicy</c> method of the <c>PriceDiscResultFields</c> table.
        #/// </summary>
        #/// <param name="_policySource">
        #/// A <c>PriceDiscSystemSource</c> enumeration value that indicates the source of the policy.
        #/// </param>
        #/// <param name="_fieldId">
        #/// A field ID.
        #/// </param>
        #client server void setPriceDiscChangePolicy(PriceDiscSystemSource _policySource, RefFieldId _fieldId = 0)
        #{
        #    if (!this.isInterCompanyOrder() || this.isLinkedToAgreement())
        #    {
        #        this.PriceDiscResultFields::createPriceDiscChangePolicy(ModuleSalesPurch::Sales, _policySource, _fieldId);
        #    }
        #}
      ENDSOURCE
      SOURCE #setPriceDiscMarkup
        #/// <summary>
        #/// Calls the <c>setPriceDiscMarkup</c> method of the <c>SalesPurchLine</c> table map.
        #/// </summary>
        #/// <param name="_priceDisc">
        #/// An instance of the <c>PriceDisc</c> class.
        #/// </param>
        #/// <param name="_checkPolicy">
        #/// An instance of the <c>PriceDiscPolicyCheckPolicy</c> class.
        #/// </param>
        #void setPriceDiscMarkup(PriceDisc_Price _priceDisc, PriceDiscPolicyCheckPolicy _checkPolicy)
        #{
        #    this.SalesPurchLine::setPriceDiscMarkup(_priceDisc, _checkPolicy);
        #}
      ENDSOURCE
      SOURCE #setPriceDiscPriceUnit
        #/// <summary>
        #/// Calls the <c>setPriceDiscPriceUnit</c> method of the <c>SalesPurchLine</c> table map.
        #/// </summary>
        #/// <param name="_priceDisc">
        #/// An instance of the <c>PriceDisc</c> class.
        #/// </param>
        #/// <param name="_checkPolicy">
        #/// An instance of the <c>PriceDiscPolicyCheckPolicy</c> class.
        #/// </param>
        #public void setPriceDiscPriceUnit(PriceDisc_Price _priceDisc, PriceDiscPolicyCheckPolicy _checkPolicy)
        #{
        #    this.SalesPurchLine::setPriceDiscPriceUnit(_priceDisc, _checkPolicy);
        #}
      ENDSOURCE
      SOURCE #setProjLinePropertyId
        #server void setProjLinePropertyId()
        #{
        #    this.ProjLinePropertyId    = ProjLinePropertySetup::findLinePropertyId(this.ProjId,this.ProjCategoryId);
        #}
      ENDSOURCE
      SOURCE #setRate
        #public void setRate()
        #{
        #    switch (ExchangeRateType::find(this.ExchangeRateType).RateFillLogic)
        #    {
        #        case GGH_RateFillLogic::Contract :
        #            this.ExchangeRate = GGH_ExchangeRateSearchHelper::getSpecificExchangeRate(this.CurrencyCode,
        #                                        CompanyInfo::standardCurrency(),
        #                                        this.ExchangeRateType,
        #                                        systemDateGet(),
        #                                        this.RateContractId);
        #            break;
        #        case GGH_RateFillLogic::Fix :
        #            this.ExchangeRate = GGH_ExchangeRateSearchHelper::getSpecificExchangeRate(this.CurrencyCode,
        #                                        CompanyInfo::standardCurrency(),
        #                                        this.ExchangeRateType,
        #                                        systemDateGet());
        #            break;
        #        case GGH_RateFillLogic::Standard :
        #            this.ExchangeRate = GGH_ExchangeRateSearchHelper::getSpecificExchangeRate(this.CurrencyCode,
        #                                        CompanyInfo::standardCurrency(),
        #                                        this.ExchangeRateType,
        #                                        systemDateGet());
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #setReturnLineStatus
        #/// <summary>
        #/// Sets a return line status that is based on an update document.
        #/// </summary>
        #/// <param name="_documentStatus">
        #/// A <c>DocumentStatus</c> enumeration value.
        #/// </param>
        #/// <returns>
        #/// The <c>SalesLine</c> table.
        #/// </returns>
        #/// <exception cref="M:Exception::Error">
        #/// The return order lines do not have a <c>Registered</c> or <c>Received</c> enumeration value return
        #/// status.
        #/// </exception>
        #public SalesLine setReturnLineStatus(DocumentStatus _documentStatus)
        #{
        #    switch (_documentStatus)
        #    {
        #        case DocumentStatus::PackingSlip :
        #            if (this.ReturnStatus == ReturnStatusLine::Registered)
        #            {
        #                this.ReturnStatus = ReturnStatusLine::Received;
        #                this.doUpdate();
        #            }
        #            else if (this.ReturnStatus == ReturnStatusLine::Awaiting
        #                && InventTrans::findTransId(this.InventTransId).StatusReceipt == StatusReceipt::Received)
        #            {
        #                this.ReturnStatus = ReturnStatusLine::Received;
        #                this.doUpdate();
        #                SalesTable::returnUpdatedHeaderStatus(this.SalesId,_documentStatus);
        #            }
        #            else if (this.ReturnStatus == ReturnStatusLine::Received)
        #            {
        #                this.ReturnStatus = ReturnStatusLine::Registered;
        #
        #                this.returnLineResetToExpected(this.ExpectedRetQty
        #                    , this.PdsCWExpectedRetQty
        #                    );
        #                this.doUpdate();
        #            }
        #            break;
        #
        #        case DocumentStatus::Invoice :
        #        // <GEERU>
        #        case DocumentStatus::Facture_RU  :
        #        // </GEERU>
        #            if (this.ReturnStatus == ReturnStatusLine::Registered || this.ReturnStatus == ReturnStatusLine::Received )
        #            {
        #                this.ReturnStatus = ReturnStatusLine::Invoiced;
        #                this.ReturnClosedDate = systemDateGet();
        #                this.doUpdate();
        #                SalesTable::returnUpdatedHeaderStatus(this.SalesId, _documentStatus);
        #            }
        #            else
        #            {
        #                throw error(strFmt("@SYS120281", enum2str(ReturnStatusLine::Registered), enum2str(ReturnStatusLine::Received)));
        #            }
        #            break;
        #    }
        #
        #    return this;
        #}
      ENDSOURCE
      SOURCE #setSalesStatus
        #public void  setSalesStatus()
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.setSalesStatus(this);
        #}
      ENDSOURCE
      SOURCE #setServiceCodeId_BR
        #/// <summary>
        #///     Calls the method to set <c>TaxServiceCode_BR</c> field in its extension table and packs it.
        #/// </summary>
        #/// <param name="_serviceCodeOnDlvAddress">
        #///     Defines the which method will be called to search <c>TaxServiceCode_BR</c>
        #/// </param>
        #/// <param name="_inventTable">
        #///     Item details.
        #/// </param>
        #server void setServiceCodeId_BR(boolean _serviceCodeOnDlvAddress, InventTable _inventTable = this.inventTable())
        #{
        #    this.packSalesLine_BR(this.salesLine_BR().setServiceCodeId_BR(_serviceCodeOnDlvAddress, _inventTable));
        #}
      ENDSOURCE
      SOURCE #setStockedProduct
        #/// <summary>
        #/// Sets the <c>StockedProduct</c> field for the line, depending on line type and item model group for
        #/// the associated item.
        #/// </summary>
        #public void setStockedProduct()
        #{
        #    this.type().setStockedProduct();
        #}
      ENDSOURCE
      SOURCE #setSuframaDiscount_BR
        #// <GBR>
        #private void setSuframaDiscount_BR(FieldId _fieldId)
        #{
        #    TaxValue    discICMS;
        #    TaxValue    discPIS;
        #    TaxValue    discCOFINS;
        #
        #    if (this.TaxGroup != this.orig().TaxGroup
        #        || this.TaxItemGroup != this.orig().TaxItemGroup)
        #    {
        #        [discICMS, discPIS, discCOFINS] = Tax::getSuframaDiscount_BR(   this.TaxGroup,
        #                                                                        this.TaxItemGroup,
        #                                                                        this.salesTable().custTable_InvoiceAccount().Suframa_BR,
        #                                                                        this.salesTable().custTable_InvoiceAccount().SuframaPISCOFINS_BR);
        #        this.packSalesLine_BR(this.salesLine_BR().setSuframaDiscount_BR(discICMS + discPIS + discCOFINS));
        #        this.LineAmount         = this.calcLineAmountForcedInteraction(_fieldId);
        #    }
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #setTaxGroup
        #public void setTaxGroup(TaxGroup _taxGroup)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.setTaxGroup(_taxGroup);
        #}
      ENDSOURCE
      SOURCE #setTaxGroupAndTaxItemGroupFields_BR
        #/// <summary>
        #/// Set SalesQuotationLine.TaxGroup and SalesQuotationLine.TaxItemGroup based on <c>TaxesMatrix</c>
        #/// </summary>
        #public void setTaxGroupAndTaxItemGroupFields_BR()
        #{
        #    TaxGroup            taxGroup;
        #    TaxItemGroup        taxItemGroup;
        #
        #    [taxGroup, taxItemGroup] = TaxesMatrix_BR::findTaxGroupAndTaxItemGroup(this.salesLine_BR().cfopTable_BR,
        #                                                                           this.salesTable().salesTable_BR().SalesPurchOperationType_BR,
        #                                                                           SalesPurchTrntype_BR::Sales,
        #                                                                           CustVendType_BR::Customer,
        #                                                                           this.salesTable().CustAccount,
        #                                                                           this.ItemId,
        #                                                                           this.inventDim().inventSite().fiscalEstablishment().fiscalEstablishmentGroup());
        #
        #    this.TaxGroup      = taxGroup     ? taxGroup     : this.salesTable().TaxGroup;
        #    this.TaxItemGroup  = taxItemGroup ? taxItemGroup : this.inventTable().salesTaxItemGroupId();
        #}
      ENDSOURCE
      SOURCE #setTaxItemGroup
        #public void setTaxItemGroup(TaxItemGroup _taxItemGroup)
        #{
        #    SalesLineType  salesLineType;
        #
        #    salesLineType = this.type();
        #    salesLineType.setTaxItemGroup(_taxItemGroup);
        #}
      ENDSOURCE
      SOURCE #setThirdPartyAddressFromSalesTable
        #public void setThirdPartyAddressFromSalesTable(SalesTable  _salesTable = this.salesTable())
        #{
        #    if (_salesTable.ShipCarrierPostalAddress)
        #    {
        #        this.ShipCarrierPostalAddress = _salesTable.ShipCarrierPostalAddress;
        #    }
        #}
      ENDSOURCE
      SOURCE #shipCarrierLocation
        #/// <summary>
        #/// Gets the record ID of the <c>LogisticsLocationRecId</c> value that is associated with the selected
        #/// <c>ShipCarrierPostalAddress</c> field value.
        #/// </summary>
        #/// <returns>
        #/// The record ID of the <c>LogisticsLocationRecId</c> value that is associated with the selected
        #/// <c>ShipCarrierPostalAddress</c> field value.
        #/// </returns>
        #public LogisticsLocationRecId shipCarrierLocation()
        #{
        #    return LogisticsPostalAddress::getLocation(this.ShipCarrierPostalAddress);
        #}
      ENDSOURCE
      SOURCE #stockedProductChanged
        #/// <summary>
        #/// Applies default values or sets the inventory related field values to null when the <c>StockedProduct</c> field value is changed.
        #/// </summary>
        #public void stockedProductChanged()
        #{
        #    if(this.isStocked())
        #    {
        #        // default inventory fields
        #        this.QtyOrdered             = this.calcQtyOrdered();
        #        this.RemainInventPhysical   = this.QtyOrdered;
        #        this.RemainInventFinancial  = 0;
        #        this.Scrap                  = NoYes::No;
        #        this.ItemPBAId              = '';
        #        this.type().initTagging(this.inventTable());
        #        this.setInventDeliverNow();
        #        TradeNonStockedRegistrationHelper::newFromSalesPurchLine(this).deletePendingRegistration();
        #    }
        #    else
        #    {
        #        // blank out inventory fields
        #        this.QtyOrdered             = 0;
        #        this.InventDeliverNow      = 0;
        #        this.RemainInventPhysical   = 0;
        #        this.RemainInventFinancial  = 0;
        #        this.Scrap                  = NoYes::No;
        #        this.ItemTagging            = NoYes::No;
        #        this.CaseTagging            = NoYes::No;
        #        this.PalletTagging          = NoYes::No;
        #        this.ItemPBAId              = '';
        #        this.ItemBOMId              = '';
        #        this.ItemRouteId            = '';
        #        this.Reservation            = ItemReservation::None;
        #        this.DeliveryDateControlType    = SalesDeliveryDateControlType::None;
        #    }
        #}
      ENDSOURCE
      SOURCE #strategicPartsPricing
        #public Price strategicPartsPricing(InventDim _inventDim,
        #                                    boolean _isCoreCharge = false) //<NAXT_26900_LD>
        #{
        #    return this.SalesPurchLine::strategicPartsPricing(_inventDim,
        #                                                      _isCoreCharge); //<NAXT_26900_LD>
        #}
      ENDSOURCE
      SOURCE #taxDate
        #public TransDate taxDate(TransDate _transDate)
        #{
        #    TaxCalculationDateType taxCalculationDateType = TaxParameters::find().TaxCalculationDateType;
        #    if (taxCalculationDateType == TaxCalculationDateType::DocumentDate && this.salesTable().CreatedDateTime)
        #    {
        #        return DateTimeUtil::date(this.salesTable().CreatedDateTime);
        #    }
        #    else
        #    {
        #        return taxCalculationDateType == TaxCalculationDateType::DeliveryDate ? this.deliveryDate(_transDate) : _transDate;
        #    }
        #}
      ENDSOURCE
      SOURCE #taxPcsPrice
        #public PriceCur taxPcsPrice(TransDate _transDate = systemDateGet(), Tax _tax = null)
        #{
        #    return this.SalesPurchLine::taxPcsPrice(_transDate, _tax);
        #}
      ENDSOURCE
      SOURCE #timeZoneSite
        #public display Timezone timeZoneSite()
        #{
        #    return InventSite::timeZoneSite(InventDim::find(this.InventDimId).InventSiteId);
        #}
      ENDSOURCE
      SOURCE #transferEquipmentConfiguration
        #// NAXT 5.0 - KT4925 Turn the quote to sales order - inherit the fields - concept change
        #XAP_EquipmentConfigId transferEquipmentConfiguration(SalesQuotationLine _salesQuotationLine)
        #{
        #    XAP_EquipmentConfigurationHeader    oldConfigurationHeader;
        #    XAP_EquipmentConfigurationHeader    newConfigurationHeader;
        #    XAP_EquipmentConfigurationLines     configurationLine;
        #
        #    RefRecId                            inventTransOriginRefRecId   = InventTransOrigin::findByInventTransId(_salesQuotationLine.InventTransId).RecId;
        #    boolean                             powerSystemConsistCopy      = _salesQuotationLine.PrimeProductLine && SalesQuotationTable::isPowerSystem(_salesQuotationLine.QuotationId);
        #
        #    ttsbegin;
        #
        #    while select forupdate oldConfigurationHeader
        #        where oldConfigurationHeader.ReferenceType     == XAP_EquipmentConfigReferenceType::SalesQuotation &&
        #              oldConfigurationHeader.ReferenceNumber   == _salesQuotationLine.QuotationId                  &&
        #              oldConfigurationHeader.InventTransOrigin == inventTransOriginRefRecId
        #    {
        #        newConfigurationHeader.data(oldConfigurationHeader);
        #
        #        newConfigurationHeader.ConfigId             = NumberSeq::newGetNum(InventParameters::numRefEquipmentConfigId()).num();
        #        newConfigurationHeader.ReferenceType        = XAP_EquipmentConfigReferenceType::Sales;
        #        newConfigurationHeader.ReferenceNumber      = this.SalesId;
        #        newConfigurationHeader.InventTransOrigin    = InventTransOrigin::findByInventTransId(this.InventTransId).RecId;
        #        // <GGH>
        #        newConfigurationHeader.Transfered           = true;
        #        // </GGH>
        #
        #        /* <NAXT>
        #        if (!powerSystemConsistCopy)
        #        {
        #            newConfigurationHeader.EquipmentClosed      = NoYes::No;
        #        }
        #        </NAXT> */
        #        // <NAXT CU4>
        #        // EQ consist of Power system related item requirement cannot be editable.
        #        newConfigurationHeader.EquipmentClosed = powerSystemConsistCopy ? NoYes::Yes : NoYes::No;
        #        // </NAXT CU4>
        #
        #        newConfigurationHeader.insert();
        #
        #        while select configurationLine
        #            where configurationLine.ConfigHeader == oldConfigurationHeader.RecId
        #        {
        #            configurationLine.ConfigHeader  = newConfigurationHeader.RecId;
        #
        #            /* <NAXT>
        #            configurationLine.insert();
        #            </NAXT> */
        #            // <NAXT CU4>
        #            configurationLine.insert(true, false);
        #            // </NAXT CU4>
        #        }
        #
        #        // <NAXT CU4>
        #        XAP_EquipmentConfigurationHeader::refreshTotals(newConfigurationHeader.RecId);
        #        newConfigurationHeader.reread(); // Because it was updated
        #        // </NAXT CU4>
        #
        #        oldConfigurationHeader.EquipmentClosed = NoYes::Yes;
        #        //<NAXT_Lifecycle>
        #        if (oldConfigurationHeader.validateWrite())
        #        {
        #            oldConfigurationHeader.update();
        #        }
        #        else
        #        {
        #            throw Exception::Error;
        #        }
        #        //</NAXT_Lifecycle>
        #    }
        #
        #    ttscommit;
        #
        #    return newConfigurationHeader.ConfigId;
        #}
      ENDSOURCE
      SOURCE #transferPrimeProductToProject
        #public void transferPrimeProductToProject()
        #{
        #    ProjTable   projTable = ProjTable::find(this.ProjId, true);
        #
        #    ttsbegin;
        #
        #    projTable.EquipmentId = XAP_EquipmentTable::find(this.EquipmentId).RecId;
        #
        #    projTable.update();
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #type
        #public SalesLineType  type(SalesTable salesTable = this.salesTable())
        #{
        #    return SalesLineType::construct(this, salesTable);
        #}
      ENDSOURCE
      SOURCE #underDeliveryPct
        #/// <summary>
        #/// Calculates the under delivery percent that is allowed.
        #/// </summary>
        #/// <returns>
        #/// The under delivery percent that is defined on the sales order line if under delivery is enabled;
        #/// otherwise, zero.
        #/// </returns>
        #public Percent underDeliveryPct()
        #{
        #    if (!SalesParameters::find().SubDelivery)
        #    {
        #        return 0;
        #    }
        #
        #    return this.UnderDeliveryPct;
        #}
      ENDSOURCE
      SOURCE #unitConvertInvent2Sales
        #public SalesQty unitConvertInvent2Sales(InventQty _inventQty)
        #{
        #    return UnitOfMeasureConverter::convert(_inventQty,
        #                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.inventTable().inventUnitId()),
        #                            UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #                            NoYes::Yes,
        #                            InventTable::itemProduct(this.ItemId));
        #}
      ENDSOURCE
      SOURCE #unitConvertSales2Invent
        #/// <summary>
        #/// Converts the specified quantity from a sales unit to an inventory unit.
        #/// </summary>
        #/// <param name="_salesQty">
        #/// The quantity to be converted.
        #/// </param>
        #/// <returns>
        #/// The quantity in an inventory unit.
        #/// </returns>
        #public SalesQty unitConvertSales2Invent(SalesQty _salesQty)
        #{
        #    if(this.ItemId)
        #    {
        #        return UnitOfMeasureConverter::convert(
        #            _salesQty,
        #            UnitOfMeasure::unitOfMeasureIdBySymbol(this.SalesUnit),
        #            UnitOfMeasure::unitOfMeasureIdBySymbol(this.inventTable().inventUnitId()),
        #            NoYes::Yes,
        #            InventTable::itemProduct(this.ItemId));
        #    }
        #    else
        #    {
        #        return _salesQty;
        #    }
        #}
      ENDSOURCE
      SOURCE #unlinkAgreementDeliveryDates
        #/// <summary>
        #/// Validates whether the link to the agreement line is valid after the changes and gives the user an
        #/// option to remove the link to the associated agreement line to make the changes valid.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID for the delivery date field that has been changed.
        #/// </param>
        #public void unlinkAgreementDeliveryDates(FieldId _fieldId)
        #{
        #    anytype     FieldValue;
        #    boolean     calledFromWeb;
        #    boolean     canRecalculatePrices = true;
        #    SalesTable  salesTable;
        #    InterCompanyEndpointActionPolicy    interCompanyEndpointActionPolicy;
        #
        #    if (this.RecId && !this.isTmp() && !this.refreshAgreementLink())
        #    {
        #        calledFromWeb = webSession() ? true : false;
        #        if (calledFromWeb)
        #        {
        #            warning("@SYS306898");
        #        }
        #        else
        #        {
        #            if (this.unLinkAgreementLinePrompt(_fieldId)
        #                && this.LineDeliveryType != LineDeliveryType::DeliveryLine)
        #            {
        #                salesTable = this.salesTable();
        #                if (salesTable.isInterCompanyOrder())
        #                {
        #                    interCompanyEndpointActionPolicy = salesTable.interCompanyEndpointActionPolicy();
        #
        #                    canRecalculatePrices = interCompanyEndpointActionPolicy.PriceDiscountSearch ? true : false;
        #                }
        #
        #                if (canRecalculatePrices
        #                    && this.doReCalcPricesFromBasePrompt())
        #                {
        #                    FieldValue = this.(_fieldId);
        #                    SalesLine::modifySalesQty(this,this.inventDim());
        #                    this.(_fieldId) = FieldValue;
        #                }
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #unLinkAgreementLine
        #/// <summary>
        #/// Deletes the link between the sales order line and an agreement line.
        #/// </summary>
        #/// <param name="_updateLine">
        #/// A Boolean value that indicates whether to execute an update for the <c>SalesLine</c> buffer;
        #/// optional.
        #/// </param>
        #public server void unLinkAgreementLine(boolean _updateLine = false)
        #{
        #    AgreementLineReleasedLine agreementLineReleasedLine;
        #
        #    // Set Price Discount Change Policy originated by PriceDiscSystemSource::Agreement.
        #    this.setPriceDiscChangePolicy(PriceDiscSystemSource::Agreement);
        #    if (this.ManualEntryChangepolicy
        #        && this.SystemEntryChangePolicy)
        #    {
        #        this.PriceDiscResultFields::mergerPriceDiscPolicies(ModuleSalesPurch::Sales);
        #    }
        #
        #    switch (this.LineDeliveryType)
        #    {
        #        case LineDeliveryType::OrderLineWithMultipleDeliveries:
        #            AgreementLineReleasedLine::unlinkSalesDeliverySchedule(this.InventTransId);
        #            this.reread();
        #            break;
        #        case LineDeliveryType::DeliveryLine:
        #            AgreementLineReleasedLine::unlinkSalesDeliverySchedule(SalesDeliverySchedule::findOrderLineForDeliveryLine(this.InventTransId).InventTransId);
        #            break;
        #        default:
        #            ttsbegin;
        #
        #            if (this.RecId)
        #            {
        #                delete_from agreementLineReleasedLine
        #                    where agreementLineReleasedLine.SalesLineInventTransId == this.InventTransId
        #                       && agreementLineReleasedLine.SalesLineDataAreaId    == this.DataAreaId
        #                       && agreementLineReleasedLine.ReferenceRelationType  == tableNum(SalesLine);
        #            }
        #
        #            this.MatchingAgreementLine = 0;
        #
        #            if (_updateLine)
        #            {
        #                this.update();
        #            }
        #
        #            ttscommit;
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #unLinkAgreementLinePrompt
        #/// <summary>
        #/// Displays a text box that asks the user whether to delete the link between the agreement line and
        #/// sales order line.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID for the field that has the changes that have introduced conflict with regard to the
        #/// linked agreement line; optional.
        #/// </param>
        #/// <param name="_tableId">
        #/// The table ID for the field that has the changes that have introduced conflict with regard to the
        #/// linked agreement line; optional.
        #/// </param>
        #/// <param name="_doUpdate">
        #/// boolean indicating if an update of the sales order line should be performed when unlinking the agreement line; optional.
        #/// </param>
        #/// <returns>
        #/// true if the user wants to delete the link between the agreement line and the sales order line;
        #/// otherwise, false.
        #/// </returns>
        #public boolean unLinkAgreementLinePrompt(FieldId _fieldId = 0, TableId _tableId = tableNum(SalesLine), boolean _doUpdate = true)
        #{
        #    boolean     unlink;
        #    DictField   dictField;
        #    boolean     restorePriceDiscChagnePolicy = true;
        #    SalesLine   localSalesLine;
        #
        #    void unlink()
        #    {
        #        this.unLinkAgreementLine();
        #        unlink = true;
        #    }
        #
        #    if (_fieldId)
        #    {
        #        dictField = new DictField(_tableId,_fieldId);
        #        unlink    = Box::okCancel(strFmt("@SYS305713", dictField.label()),DialogButton::No,"@SYS135154") == DialogButton::Ok;
        #
        #        if (unlink)
        #        {
        #            this.unLinkAgreementLine();
        #        }
        #        else
        #        {
        #            if (_tableId == tableNum(InventDim))
        #            {
        #                _fieldId = fieldNum(SalesLine, InventDimId);
        #            }
        #
        #            if (this.RecId)
        #            {
        #                this.(_fieldId) = this.orig().(_fieldId);
        #            }
        #            else
        #            {
        #                localSalesLine.con2buf(this.buf2con());
        #                localSalesLine.initFromAgreementLine(AgreementLine::find(localSalesLine.MatchingAgreementLine));
        #                this.(_fieldId) = localSalesLine.(_fieldId);
        #            }
        #        }
        #    }
        #    else
        #    {
        #        if (Box::yesNo(strFmt("@SYS305714"),DialogButton::No) == DialogButton::Yes)
        #        {
        #            // The price discount fixed policies will block recalculation of certain TA values when a sales line is related to an agreement hence, we need to unlink before recalc.
        #            unlink();
        #
        #            // Run the price discount policy dialog in order to let the user determine which agreement values to recalulate.
        #            this.runPriceDiscPolicyDialog(true);
        #
        #            SalesLine::modifySalesQty(this,this.inventDim());
        #
        #            if (_doUpdate)
        #            {
        #                this.update();
        #            }
        #        }
        #    }
        #
        #    return unlink;
        #}
      ENDSOURCE
      SOURCE #unLinkReleasedAgreementLine
        #/// <summary>
        #/// Deletes the links between a sales order line and an agreement line.
        #/// </summary>
        #/// <remarks>
        #/// Deleting the link to the agreement line from the forms might require a research on the
        #/// <c>AgreementLineReleasedLine</c> data source of the form.
        #/// </remarks>
        #public void unLinkReleasedAgreementLine()
        #{
        #    AgreementLineReleasedLine   agreementLineReleasedLine;
        #
        #    ttsbegin;
        #
        #    switch (this.LineDeliveryType)
        #    {
        #        case LineDeliveryType::OrderLineWithMultipleDeliveries:
        #            AgreementLineReleasedLine::unlinkSalesDeliverySchedule(this.InventTransId);
        #            break;
        #        case LineDeliveryType::DeliveryLine:
        #            AgreementLineReleasedLine::unlinkSalesDeliverySchedule(SalesDeliverySchedule::findOrderLineForDeliveryLine(this.InventTransId).InventTransId);
        #            break;
        #        default:
        #            delete_from agreementLineReleasedLine
        #                where agreementLineReleasedLine.SalesLineInventTransId == this.InventTransId
        #                   && agreementLineReleasedLine.SalesLineDataAreaId    == this.DataAreaId;
        #            break;
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #update
        #public void  update(boolean  _dropInvent                         = false,
        #                    Common   _childBuffer                        = null,
        #                    /* <SYS>
        #                    boolean  _updateOrderLineOfDeliverySchedule  = true)
        #                    </SYS> */
        #                    // <NAXT>
        #                    boolean  _updateOrderLineOfDeliverySchedule  = true,
        #                    boolean  _skipBOupdate                       = false)
        #                    // </NAXT>
        #{
        #    SalesLineType  salesLineType;
        #    // <GGH>
        #    SalesLine      origSalesLine = this.orig();
        #    // </GGH>
        #
        #    this.setInventSumLogTTS();
        #    salesLineType = this.type();
        #    /* <SYS>
        #    salesLineType.update(_dropInvent, _childBuffer, false, _updateOrderLineOfDeliverySchedule);
        #    </SYS> */
        #    // <NAXT>
        #    salesLineType.update(_dropInvent, _childBuffer, false, _updateOrderLineOfDeliverySchedule, _skipBOupdate);
        #    // </NAXT>
        #
        #    // <GEEPL>
        #    PlInventPackageParm::updateFromSalesLine(this);
        #    // </GEEPL>
        #
        #    // <GGH>
        #    if(origSalesLine.SalesQty != this.SalesQty)
        #    {
        #        GGH_SalesLineLog::insertHistory(this);
        #    }
        #    // </GGH>
        #}
      ENDSOURCE
      SOURCE #updateAndPackAccessableValue_IN
        #/// <summary>
        #/// 	Update and pack the AccessableValue_IN
        #/// </summary>
        #/// <param name="_updateExciseFields">
        #/// 	Indicator of whether to set excise fields
        #/// </param>
        #// <GIN>
        #private void updateAndPackAccessableValue_IN(boolean _updateExciseFields = false)
        #{
        #    SalesLine_IN salesLine_IN;
        #
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        salesLine_IN = this.salesLine_IN();
        #        if (_updateExciseFields)
        #        {
        #            salesLine_IN.setExciseFields(this);
        #        }
        #        salesLine_IN.assessableValue(this);
        #        this.packSalesLine_IN(salesLine_IN);
        #    }
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #updateCreditNoteMarking_PL
        #// <GEEU>
        #/// <summary>
        #///     Updates the inventory marking for the current credit note transaction.
        #/// </summary>
        #/// <param name="_origSalesQty">
        #///     Sales quantity of the orignal transaction line
        #/// </param>
        #server public void updateCreditNoteMarking_PL(SalesQty _origSalesQty)
        #{
        #    SalesLine           origSalesLine;
        #    Qty                 markingQty;
        #    InventTransOrigin   inventTransOrigin_Current;
        #    InventTransOrigin   inventTransOrigin_Orig;
        #    InventTrans         inventTrans;
        #
        #    if (this.CreditNoteInternalRef_PL && !this.InventTransIdReturn)
        #    {
        #        select firstonly SalesQty, InventTransId from origSalesLine
        #            where origSalesLine.SalesId                 == this.SalesId                     &&
        #                origSalesLine.CreditNoteInternalRef_PL  == this.CreditNoteInternalRef_PL    &&
        #                origSalesLine.RecId                     != this.RecId;
        #
        #        markingQty = min(this.SalesQty, -origSalesLine.SalesQty) - _origSalesQty;
        #
        #        if (origSalesLine.InventTransId && markingQty > 0)
        #        {
        #            inventTransOrigin_Current = InventTransOrigin::findByInventTransId(this.InventTransId);
        #            inventTransOrigin_Orig = InventTransOrigin::findByInventTransId(origSalesLine.InventTransId);
        #
        #            ttsbegin;
        #            // we should clear marking in case they refer to absent InventTransOrigin, otherwise new marking will fail
        #            InventTransOrigin::clearUnboundMarking(inventTransOrigin_Orig.RecId);
        #
        #            inventTrans = InventTrans::findTransId(this.InventTransId, true);
        #            inventTrans.InventDimId = InventTrans::findTransId(origSalesLine.InventTransId).InventDimId;
        #            inventTrans.update();
        #
        #            InventTransOrigin::updateMarking(inventTransOrigin_Current.RecId, inventTransOrigin_Orig.RecId, -markingQty);
        #            InventTransOrigin::updateMarking(inventTransOrigin_Orig.RecId, inventTransOrigin_Current.RecId, markingQty);
        #
        #            InventTrans::findTransId(this.InventTransId, true).updateSumUp();
        #            InventTrans::findTransId(origSalesLine.InventTransId, true).updateSumUp();
        #            ttscommit;
        #        }
        #    }
        #}
        #// </GEEU>
      ENDSOURCE
      SOURCE #updateDeliveryCFOP_BR
        #// <GBR>
        #public void updateDeliveryCFOP_BR()
        #{
        #    this.packSalesLine_BR(this.salesLine_BR().updateDeliveryCFOP_BR());
        #    this.updateDeliveryCFOPTax_BR();
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #updateDeliveryCFOPTax_BR
        #/// <summary>
        #/// Determines the taxgroup and taxitemgroup from CFOPMatrix_BR table
        #/// updates it to the salesline tax groups for Sales and itemRequirement cases.
        #/// </summary>
        #// <GBR>
        #public void updateDeliveryCFOPTax_BR()
        #{
        #    SalesLine_BR salesLine_BR;
        #
        #    switch (this.SalesType)
        #    {
        #        case SalesType::Sales:
        #            salesLine_BR = this.salesLine_BR();
        #
        #            this.DeliveryTaxGroup_BR      = TaxesMatrix_BR::findByCFOPGroup_BR(
        #                                                CFOPMatrix_BR::findCfopMatrixRegardlessOperationType(salesLine_BR.DeliveryCFOPTable_BR,
        #                                                SalesPurchTrntype_BR::Sales).cfopGroup_BR).TaxGroup;
        #            this.DeliveryTaxItemGroup_BR  = TaxesMatrix_BR::findByCFOPGroup_BR(
        #                                                    CFOPMatrix_BR::findCfopMatrixRegardlessOperationType(salesLine_BR.DeliveryCFOPTable_BR,
        #                                                    SalesPurchTrntype_BR::Sales).cfopGroup_BR).TaxItemGroup;
        #
        #            break;
        #
        #        case SalesType::ItemReq:
        #            salesLine_BR = this.salesLine_BR();
        #
        #            this.DeliveryTaxGroup_BR      = TaxesMatrix_BR::findByCFOPGroup_BR(
        #                                                CFOPMatrix_BR::findCfopMatrixRegardlessOperationType(salesLine_BR.DeliveryCFOPTable_BR,
        #                                                SalesPurchTrntype_BR::ItemRequirement).cfopGroup_BR).TaxGroup;
        #            this.DeliveryTaxItemGroup_BR  = TaxesMatrix_BR::findByCFOPGroup_BR(
        #                                                CFOPMatrix_BR::findCfopMatrixRegardlessOperationType(salesLine_BR.DeliveryCFOPTable_BR,
        #                                                SalesPurchTrntype_BR::ItemRequirement).cfopGroup_BR).TaxItemGroup;
        #            break;
        #    }
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #updateMarkupTransTaxGroups_BR
        #// <GBR>
        #private void updateMarkupTransTaxGroups_BR()
        #{
        #    MarkupTrans markupTrans;
        #    MarkupTable markupTable;
        #    ;
        #    ttsbegin;
        #    while select forupdate markupTrans
        #        where markupTrans.TransTableId == this.TableId
        #           && markupTrans.TransRecId   == this.RecId
        #           && (markupTrans.TaxGroup != '' || markupTrans.TaxItemGroup != '')
        #        exists join markupTable
        #            where markupTable.MarkupCode == markupTrans.MarkupCode
        #                    && markupTable.ModuleType == markupTrans.ModuleType
        #                    && markupTable.CustType   == MarkupType::CustVend
        #                    && markupTable.VendType   == MarkupType::LedgerAccount
        #    {
        #        markupTrans.TaxGroup = this.TaxGroup;
        #        markupTrans.TaxItemGroup = this.TaxItemGroup;
        #        markupTrans.update();
        #    }
        #    ttscommit;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #updateTradeInFields
        #/// <summary>
        #/// Update the trade-in fields based on the selected trade-in equipment.
        #/// </summary>
        #// <NAXT>
        #public void updateTradeInFields()
        #{
        #    XAP_EquipmentTable          equipmentTable;
        #    XAP_EquipmentTechnicalInfo  technicalInfo;
        #    XAP_EquipmentUsageTable     equipmentUsageTable;
        #    XAP_MachineType             machineType;
        #
        #    select firstonly MachineType,EquipmentId,InventSerialId from equipmentTable
        #        where equipmentTable.RecId == this.TradeInEquipment
        #        join MachineManufactureYear from technicalInfo
        #            where technicalInfo.Equipment == equipmentTable.RecId
        #        join smuLast from equipmentUsageTable
        #            where equipmentUsageTable.Equipment == equipmentTable.RecId
        #        join MachineManufacturer,TypeId from machineType
        #            where equipmentTable.MachineType == machineType.RecId;
        #
        #    this.TradeInSerialNumber  = equipmentTable.InventSerialId;
        #    this.TradeInMake          = machineType.MachineManufacturer;
        #    this.TradeInModel         = machineType.TypeId;
        #    this.TradeInYear          = technicalInfo.MachineManufactureYear ? int2str(technicalInfo.MachineManufactureYear) : '';
        #    this.TradeInHours         = strFmt("%1", equipmentUsageTable.smuLast);
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #useWMSOrder
        #public NoYes useWMSOrder()
        #{
        #    InventItemLocation  inventItemLocation  = InventItemLocation::find(this.ItemId, this.InventDimId);
        #    return inventItemLocation.useWMSOrder(this.inventDim());
        #}
      ENDSOURCE
      SOURCE #validateDelete
        #/* <SYS>
        #boolean  validateDelete(boolean _interCompanyForce = false)
        #</SYS> */
        #// <NAXT>
        #boolean  validateDelete(boolean _interCompanyForce = false, boolean _skipCoreCheck = false)
        #// </NAXT>
        #{
        #    boolean         ok = true;
        #    SalesLineType   salesLineType;
        #
        #    ok = super();
        #
        #    if (ok)
        #    {
        #        salesLineType = this.type();
        #        /* <SYS>
        #        ok = salesLineType.validateDelete(_interCompanyForce);
        #        </SYS> */
        #        // <NAXT>
        #        ok = salesLineType.validateDelete(_interCompanyForce, _skipCoreCheck);
        #        // </NAXT>
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateField
        #public boolean  validateField(FieldId  _fieldId)
        #{
        #    boolean         ok = true;
        #
        #    //XAP - PTI - 20110806 - begin
        #    switch (_fieldId)
        #    {
        #    case fieldNum(SalesLine, ItemId):
        #        //<GGH>
        #        this.ItemId = InventTable::getBarcodeItemId(this.ItemId);
        #        //</GGH>
        #        ok = this.XAP_SOSItem::preValidateItem();
        #        break;
        #    }
        #    //XAP - PTI - 20110806 - end
        #
        #    ok = super(_fieldId);
        #
        #    //<GGH>
        #    switch (_fieldId)
        #    {
        #
        #        case fieldNum(SalesLine, SalesPrice):
        #        case fieldNum(SalesLine, LineDisc):
        #        case fieldNum(SalesLine, LinePercent):
        #            ok = this.validateMargin();
        #            break;
        #
        #    }
        #    //</GGH>
        #    ok = ok && this.validateField_Server(_fieldId);
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateField_Server
        #server boolean  validateField_Server(FieldId  fieldId)
        #{
        #    boolean         ok;
        #    SalesLineType   salesLineType;
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #    // </GEERU>
        #
        #    // <GBR>
        #    SalesLine_BR salesLine_BR;
        #    // </GBR>
        #
        #    salesLineType = this.type();
        #    ok = salesLineType.validateField(fieldId);
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        if (ok && fieldId == fieldNum(SalesLine, AssetId_RU) && this.AssetId_RU)
        #        {
        #            ok = RAssetTable::find(this.AssetId_RU).isOkToSell(this.creditNoteLine());
        #        }
        #    }
        #    // </GEERU>
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled() && this.SalesType == SalesType::ItemReq)
        #    {
        #        salesLine_BR = this.salesLine_BR();
        #
        #        if (CFOPMatrix_BR::findCfopMatrixRegardlessOperationType(salesLine_BR.DeliveryCFOPTable_BR, SalesPurchTrntype_BR::ItemRequirement))
        #        {
        #            ok = true;
        #        }
        #        else if(salesLine_BR.DeliveryCFOPTable_BR)
        #        {
        #            throw error(strFmt("@GLS510089"
        #                                ,CFOPTable_BR::find(salesLine_BR.DeliveryCFOPTable_BR).cfopId));
        #        }
        #    }
        #    // </GBR>
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateMargin
        #//<GGH>
        #/*<GGH_30795_LD>
        #private boolean validateMargin()
        #*/
        #public boolean validateMargin()
        #//<GGH_30795_LD>
        #{
        #    InventTable             inventTable;
        #    InventTableModule       inventTableModule;
        #    Percent                 margin;
        #    LineAmount              lineAmount;
        #
        #    boolean ret = true;
        #
        #    if(!this.dataSource())
        #    {
        #        return true;
        #    }
        #
        #    inventTable = this.inventTable();
        #
        #    if (inventTable.MinimimSalesMargin)
        #    {
        #        lineAmount = this.calcLineAmount();
        #
        #        inventTableModule = inventTable.inventTableModulePurch();
        #        if (inventTableModule.AverageLandedCost)
        #        {
        #            /*<GGH_29968_LD>
        #            if(this.SalesQty)
        #            */
        #            if(this.SalesQty && lineAmount)
        #            //<GGH_29968_LD>
        #            {
        #                margin = ((lineAmount / this.SalesQty) - inventTableModule.AverageLandedCost) / (lineAmount / this.SalesQty);
        #            }
        #            else
        #            {
        #                margin = 0;
        #            }
        #        }
        #        else
        #        if (inventTableModule.LastAverageLandedCost)
        #        {
        #            /*<GGH_29968_LD>
        #            if(this.SalesQty)
        #            */
        #            if(this.SalesQty && lineAmount)
        #            //<GGH_29968_LD>
        #            {
        #                margin = ((lineAmount / this.SalesQty) - inventTableModule.LastAverageLandedCost) / (lineAmount / this.SalesQty);
        #            }
        #            else
        #            {
        #                margin = 0;
        #            }
        #        }
        #        else
        #        {
        #            /*<GGH_29968_LD>
        #            if(this.SalesQty)
        #            */
        #            if(this.SalesQty && lineAmount)
        #            //<GGH_29968_LD>
        #            {
        #                margin = ((lineAmount / this.SalesQty) - inventTableModule.Price) / (lineAmount / this.SalesQty);
        #            }
        #            else
        #            {
        #                margin = 0;
        #            }
        #        }
        #
        #        if (this.SalesQty && margin*100 < inventTable.MinimimSalesMargin)
        #        {
        #            if (DialogButton::Yes != Box::yesNo(strFmt("@GGH1857", this.ItemId), DialogButton::Yes))
        #            {
        #                //ret = checkFailed("@SYS110943");
        #                ret = false;
        #            }
        #        }
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #validateModifyInventDim
        #public boolean validateModifyInventDim(
        #    InventDim           _inventDim,
        #    FieldId             _dimFieldId)
        #{
        #    return this.type().validateModifyInventDim(_inventDim, _dimFieldId);
        #}
      ENDSOURCE
      SOURCE #validateToolItemId
        #/// <summary>
        #/// Validate the item id on the tool lines.
        #/// </summary>
        #/// <returns>
        #/// True if the specified item is valid, otherwise false.
        #/// </returns>
        #//PCs_XAP_2916_IssuesAboutToolHandlingOnSegmen
        #public boolean validateToolItemId()
        #{
        #    boolean     ret = true;
        #
        #    if (this.ItemId && this.isTool() && !XAP_ItemOrderType::getToolsTypeByItem(this.ItemId))
        #    {
        #        ret = checkFailed("@XAP8196");
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateWrite
        #public boolean  validateWrite(boolean _skipCreditLimitCheck = false)
        #{
        #    boolean         ok = true;
        #
        #    ok = super();
        #
        #    ok = ok && this.validateWrite_server(_skipCreditLimitCheck);
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateWrite_server
        #server boolean validateWrite_server(boolean _skipCreditLimitCheck = false)
        #{
        #    boolean         ok = true;
        #    SalesLineType   salesLineType;
        #
        #    // <GEERU>
        #    RAssetTable      rAssetTable;
        #    #ISOCountryRegionCodes
        #    // </GEERU>
        #
        #    salesLineType = this.type();
        #    ok = salesLineType.validateWrite(_skipCreditLimitCheck);
        #    // _skipCreditLimitCheck is passed as true from the SalesQuickQuote form
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]) && ok)
        #    {
        #        if (this.inventTable().AssetGroupId_RU &&
        #            ! this.AssetId_RU)
        #        {
        #            ok = checkFailed(strFmt("@SYS50104", fieldPName(SalesLine, AssetId_RU)));
        #        }
        #        if (! this.creditNoteLine() && this.AssetId_RU)
        #        {
        #            if (abs(this.SalesQty) != 1)
        #            {
        #                ok = checkFailed("@GLS116228");
        #            }
        #            rAssetTable = RAssetTable::find(this.AssetId_RU, true);
        #            if (! rAssetTable)
        #            {
        #                ok = checkFailed("@GLS116398");
        #            }
        #
        #            ok = ok && rAssetTable.isOkToSell(false);
        #        }
        #    }
        #    // </GEERU>
        #
        #    if (ok &&
        #        SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT, #isoHU]) &&
        #        this.salesTable().InclTax)
        #    {
        #        ok = this.SalesPurchLine::validateExcludeTaxFromInvoice(this.salesTable().InclTax);
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #warningForReference
        #public boolean warningForReference()
        #{
        #    str         warningTxt;
        #
        #    if (this.InventRefId)
        #    {
        #        warningTxt = this.referenceWarningTxt();
        #        if (warningTxt)
        #        {
        #            return Box::yesNo(warningTxt+'\n\n'+strFmt("@SYS27060"),DialogButton::Yes) == DialogButton::Yes;
        #        }
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #canRegisterReturnQtyTrackingDim
        #/// <summary>
        #/// Indicates whether a quantity can be returned for a given batch or serial number.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// A <c>TradeInventTransId</c> data type.
        #/// </param>
        #/// <param name="_inventDim">
        #/// An <c>InventDim</c> table buffer.
        #/// </param>
        #/// <param name="_inventQty">
        #/// An <c>InventQtyRegistered</c> data type.
        #/// </param>
        #/// <returns>
        #/// true if the quantity can be registered; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// In certain scenarios the inventory transaction to be registered is already created hence no
        #/// quantity should be passed.
        #/// </remarks>
        #public static boolean canRegisterReturnQtyTrackingDim(
        #    TradeInventTransId  _inventTransId,
        #    InventDim           _inventDim,
        #    InventQtyRegistered _inventQty = 0)
        #{
        #    InventTrans         inventTransSales;
        #    InventTrans         inventTransReturn;
        #    InventTransOriginId inventTransOriginId;
        #    boolean             ret = true;
        #    InventDim           inventDim;
        #
        #    #InventDimDevelop
        #    if (_inventDim.InventSerialId
        #        || _inventDim.InventBatchId)
        #    {
        #        inventTransOriginId = InventTransOrigin::findByInventTransId(_inventTransId).RecId;
        #
        #        select sum(Qty) from inventTransSales
        #            where   inventTransSales.InventTransOrigin          == inventTransOriginId
        #                &&  inventTransSales.StatusIssue == StatusIssue::Sold
        #            exists join inventDim
        #                where inventDim.InventDimId    == inventTransSales.InventDimId
        #                   && ( inventDim.InventSerialId == _inventDim.InventSerialId
        #                        || !_inventDim.InventSerialId )
        #                   && ( inventDim.InventBatchId  == _inventDim.InventBatchId
        #                        || !_inventDim.InventBatchId )
        #            ;
        #        select sum(Qty) from inventTransReturn
        #                where   inventTransReturn.ReturnInventTransOrigin == inventTransOriginId
        #                    &&  inventTransReturn.PackingSlipReturned   == NoYes::No
        #                    &&  (inventTransReturn.StatusReceipt == StatusReceipt::Registered
        #                        || inventTransReturn.StatusReceipt == StatusReceipt::Received
        #                        || inventTransReturn.StatusReceipt == StatusReceipt::Arrived
        #                        || inventTransReturn.StatusReceipt == StatusReceipt::Purchased)
        #            exists join inventDim
        #                where inventDim.InventDimId    == inventTransReturn.InventDimId
        #                   && ( inventDim.InventSerialId == _inventDim.InventSerialId
        #                        || !_inventDim.InventSerialId )
        #                   && ( inventDim.InventBatchId  == _inventDim.InventBatchId
        #                        || !_inventDim.InventBatchId )
        #            ;
        #        ret = (inventTransSales.Qty + inventTransReturn.Qty + _inventQty) <= 0;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #changeReturnOrderType
        #/// <summary>
        #/// Creates or deletes inventory transactions related to Return orders.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// An inventory transaction ID which identifies the sales lines.
        #/// </param>
        #/// <param name="_wmsJournalTrans">
        #/// A <c>WMSJournalTrans</c> table buffer.
        #/// </param>
        #/// <param name="_reverse">
        #/// A flag controlling whether inventory transactions should be created or deleted.
        #/// </param>
        #/// <remarks>
        #/// By default, Return order lines are created without corresponding inventory trans actions. This method creates the transactions when
        #/// they're needed for item arrival purpose and deletes them if they are created by mistake.
        #/// </remarks>
        #/// <exception cref="Exception::Error">
        #/// The specified Sales Order line could not be found. The operation is aborted.
        #/// </exception>
        #/// <exception cref="Exception::Error">
        #/// The specified Sales order could not be found. The operation is aborted.
        #/// </exception>
        #/// <exception cref="Exception::Error">
        #/// The specified Sales order is not of type Return order. The operation is aborted.
        #/// </exception>
        #/// <exception cref="Exception::UpdateConflictNotRecovered">
        #///
        #/// </exception>
        #/// <exception cref="Exception::UpdateConflict">
        #///
        #/// </exception>
        #
        #static server void changeReturnOrderType(TradeInventTransId _inventTransId, WMSJournalTrans _wmsJournalTrans = null, boolean _reverse = false)
        #{
        #    #OCCRetryCount
        #    SalesTable                  salesTable;
        #    SalesLine                   salesLine;
        #    SalesLine                   salesLineMore;
        #    InventTrans                 inventTrans;
        #    WMSJournalTrans             wmsJournalTrans;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    InventTransOriginSalesLine  inventTransOriginSalesLineMore;
        #
        #    if (_reverse
        #        || (SalesLine::findInventTransId(_inventTransId).returnItem()
        #            && !InventTrans::hasNotReturnedTransactions(InventTransOriginSalesLine::findInventTransOriginId(curext(), _inventTransId))))
        #    {
        #        try
        #        {
        #            ttsbegin;
        #
        #            if (_inventTransId)
        #            {
        #                salesLine = SalesLine::findInventTransId(_inventTransId, true);
        #            }
        #            else
        #            {
        #                salesLine = SalesLine::findInventTransId(_wmsJournalTrans.InventTransId, true);
        #            }
        #
        #            if (!salesLine && !_reverse)
        #            {
        #                //The specified Sales Order line could not be found. The operation is aborted.
        #                throw error("@SYS115232");
        #            }
        #
        #            salesTable  = SalesTable::find(salesLine.SalesId, true);
        #
        #            if (!salesTable && !_reverse)
        #            {
        #                //The specified Sales order could not be found. The operation is aborted.
        #                throw error("@SYS115230");
        #            }
        #
        #            if (salesTable.returnItem() || _reverse)
        #            {
        #                if (_reverse && salesLine)
        #                {
        #                    select firstonly inventTrans
        #                        where inventTrans.StatusReceipt != StatusReceipt::Ordered
        #                        exists join inventTransOriginSalesLine
        #                            where inventTransOriginSalesLine.InventTransOrigin      == inventTrans.InventTransOrigin
        #                               && inventTransOriginSalesLine.SalesLineInventTransId == _inventTransId
        #                               && inventTransOriginSalesLine.SalesLineDataAreaId    == salesLine.DataAreaId;
        #
        #                    if(!inventTrans)
        #                    {
        #                    select firstonly wmsJournalTrans where wmsJournalTrans.InventTransId == _wmsJournalTrans.InventTransId
        #                                                        && wmsJournalTrans.RecId         != _wmsJournalTrans.RecId;
        #                    }
        #
        #                    if (!wmsJournalTrans && !inventTrans)
        #                    {
        #                        salesLine.RemainSalesPhysical    = 0;
        #                        salesLine.SalesQty               = 0;
        #                        salesLine.RemainInventPhysical   = 0;
        #                        salesLine.QtyOrdered             = 0;
        #
        #                        salesLine.PdsCWRemainInventPhysical = 0;
        #                        salesLine.PdsCWQty                  = 0;
        #
        #                        salesLine.update();
        #
        #
        #                        select firstonly RecId from salesLineMore
        #                            where salesLineMore.SalesId == salesLine.SalesId
        #                               && salesLineMore.LineNum != salesLine.LineNum
        #                               && salesLineMore.RecId   != salesLine.RecId
        #                            exists join inventTransOriginSalesLineMore
        #                                where inventTransOriginSalesLineMore.SalesLineDataAreaId    == salesLine.DataAreaId
        #                                   && inventTransOriginSalesLineMore.SalesLineInventTransId == salesLineMore.InventTransId;
        #
        #                        if (!salesLineMore.RecId)
        #                        {
        #                            salesTable.ReturnStatus = ReturnStatusHeader::Created;
        #                            salesTable.update();
        #                        }
        #                    }
        #                }
        #                else
        #                if (salesLine)
        #                {
        #                    salesLine.SalesQty               = salesLine.ExpectedRetQty;
        #                    salesLine.QtyOrdered             = salesLine.calcQtyOrdered(salesLine.ExpectedRetQty);
        #                    salesLine.RemainInventPhysical   = salesLine.QtyOrdered;
        #                    salesLine.RemainSalesPhysical    = salesLine.SalesQty;
        #                    salesLine.LineAmount             = salesLine.returnLineAmount();
        #
        #                    salesLine.PdsCWQty                  = salesLine
        #                        .PdsCWExpectedRetQty;
        #                    salesLine.PdsCWRemainInventPhysical = salesLine.PdsCWQty;
        #
        #                    salesLine.update();
        #
        #                    if (salesTable.SalesType != SalesType::ReturnItem)
        #                    {
        #                        salesTable.SalesType = SalesType::ReturnItem;
        #                        salesTable.update();
        #                    }
        #                }
        #            }
        #            else
        #            {
        #                //The specified Sale order is not of type Return order. The operation is aborted.
        #                throw error("@SYS115231" );
        #            }
        #            ttscommit;
        #
        #        }
        #        catch (Exception::Deadlock)
        #        {
        #            retry;
        #        }
        #        catch (Exception::UpdateConflict)
        #        {
        #            if (appl.ttsLevel() == 0)
        #            {
        #                if (xSession::currentRetryCount() >= #RetryNum)
        #                {
        #                    throw Exception::UpdateConflictNotRecovered;
        #                }
        #                else
        #                {
        #                    retry;
        #                }
        #            }
        #            else
        #            {
        #                throw Exception::UpdateConflict;
        #            }
        #        }
        #    }
        #}
        #
        #
      ENDSOURCE
      SOURCE #copyEquipmentConfigurationFromPOToSO
        #// <NAXT CU4>
        #public static void copyEquipmentConfigurationFromPOToSO(ProjTable   _projTable, SalesLine _newSalesLine)
        #{
        #    XAP_EquipmentConfigurationHeader    oldConfigurationHeader;
        #    XAP_EquipmentConfigurationHeader    newConfigurationHeader;
        #    XAP_EquipmentConfigurationLines     configurationLine;
        #    XAP_EquipmentConfigurationLines     newConfigurationLine;
        #
        #    XAP_EquipmentConfigId               reusableConfigurationID;
        #
        #    ttsBegin;
        #
        #    select firstOnly forUpdate oldConfigurationHeader
        #        where oldConfigurationHeader.ReferenceType          == XAP_EquipmentConfigReferenceType::Sales               &&
        #              oldConfigurationHeader.ReferenceNumber        == _newSalesLine.SalesId                                 &&
        #              oldConfigurationHeader.ItemId                 == _newSalesLine.ItemId;
        #
        #    if (oldConfigurationHeader)
        #    {
        #        reusableConfigurationID = oldConfigurationHeader.ConfigId;
        #        oldConfigurationHeader.delete();
        #    }
        #
        #    while select oldConfigurationHeader
        #        where oldConfigurationHeader.ReferenceType          == XAP_EquipmentConfigReferenceType::Project             &&
        #              oldConfigurationHeader.ReferenceNumber        == _projTable.ProjId                                     &&
        #              oldConfigurationHeader.ItemId                 == _newSalesLine.ItemId
        #    {
        #        buf2Buf(oldConfigurationHeader, newConfigurationHeader);
        #        newConfigurationHeader.ConfigId             = reusableConfigurationID ? reusableConfigurationID : NumberSeq::newGetNum(InventParameters::numRefEquipmentConfigId()).num();
        #        newConfigurationHeader.ReferenceType        = XAP_EquipmentConfigReferenceType::Sales;
        #        newConfigurationHeader.ReferenceNumber      = _newSalesLine.SalesId;
        #        newConfigurationHeader.InventTransOrigin    = InventTransOrigin::findByInventTransId(_newSalesLine.InventTransId).RecId;
        #        newConfigurationHeader.Equipment            =  XAP_EquipmentTable::find(_newSalesLine.EquipmentId).RecId;
        #        newConfigurationHeader.SerialNumber         =  XAP_EquipmentTable::getInventSerialId(newConfigurationHeader.Equipment);
        #        newConfigurationHeader.insert();
        #
        #        while select configurationLine
        #            where   configurationLine.ConfigHeader          == oldConfigurationHeader.RecId
        #        {
        #            newConfigurationLine.clear();
        #            buf2Buf(configurationLine, newConfigurationLine);
        #            newConfigurationLine.ConfigHeader  = newConfigurationHeader.RecId;
        #            newConfigurationLine.insert(true, false);
        #        }
        #
        #        XAP_EquipmentConfigurationHeader::refreshTotals(newConfigurationHeader.RecId);
        #
        #        _newSalesLine.selectForUpdate(true);
        #        _newSalesLine.EquipmentConfigId = newConfigurationHeader.ConfigId;
        #        _newSalesLine.update();
        #    }
        #
        #    ttsCommit;
        #
        #}
        #// </NAXT CU4>
      ENDSOURCE
      SOURCE #copyEquipmentConfigurationFromSQToSO
        #// <NAXT CU4>
        #public static XAP_EquipmentConfigId copyEquipmentConfigurationFromSQToSO(
        #    SalesQuotationLine      _oldSalesQuotationLine,
        #    SalesLine               _newSalesLine)
        #{
        #    XAP_EquipmentConfigurationHeader    oldConfigurationHeader;
        #    XAP_EquipmentConfigurationHeader    newConfigurationHeader;
        #    XAP_EquipmentConfigurationLines     configurationLine;
        #    XAP_EquipmentConfigurationLines     newConfigurationLine;
        #
        #    ttsbegin;
        #
        #    while select oldConfigurationHeader
        #        where oldConfigurationHeader.ReferenceType   == XAP_EquipmentConfigReferenceType::SalesQuotation
        #           && oldConfigurationHeader.ReferenceNumber == _oldSalesQuotationLine.QuotationId
        #           && oldConfigurationHeader.ConfigId        == _oldSalesQuotationLine.EquipmentConfigId
        #    {
        #        buf2Buf(oldConfigurationHeader, newConfigurationHeader);
        #
        #        newConfigurationHeader.ConfigId             = NumberSeq::newGetNum(InventParameters::numRefEquipmentConfigId()).num();
        #        newConfigurationHeader.ReferenceType        = XAP_EquipmentConfigReferenceType::Sales;
        #        newConfigurationHeader.ReferenceNumber      = _newSalesLine.SalesId;
        #        newConfigurationHeader.InventTransOrigin    = InventTransOrigin::findByInventTransId(_newSalesLine.InventTransId).RecId;
        #        newConfigurationHeader.Equipment            = _newSalesLine.EquipmentId ? XAP_EquipmentTable::find(_newSalesLine.EquipmentId).RecId : 0;
        #        newConfigurationHeader.insert();
        #
        #        while select configurationLine
        #            where configurationLine.ConfigHeader == oldConfigurationHeader.RecId
        #        {
        #            newConfigurationLine.clear();
        #            buf2Buf(configurationLine, newConfigurationLine);
        #            newConfigurationLine.ConfigHeader = newConfigurationHeader.RecId;
        #            newConfigurationLine.insert(true, false);
        #        }
        #
        #        XAP_EquipmentConfigurationHeader::refreshTotals(newConfigurationHeader.RecId);
        #    }
        #
        #    ttscommit;
        #
        #    return newConfigurationHeader.ConfigId;
        #}
        #// </NAXT CU4>
      ENDSOURCE
      SOURCE #createFromTmpFrmVirtualIL
        #/// <summary>
        #///   Executes the creation of sales order lines based on <c>TmpFrmVirtual</c> records in IL.
        #/// </summary>
        #/// <param name="_packedContract">
        #///   A packed version of the <c>SalesLineCreateFromTmpFrmVirtualContract</c> class.
        #/// </param>
        #/// <returns>
        #/// Empty container.
        #/// </returns>
        #private static server container createFromTmpFrmVirtualIL(container _packedContract)
        #{
        #    SalesLineCreateFromTmpFrmVirtualContract contract = SalesLineCreateFromTmpFrmVirtualContract::create(_packedContract);
        #    SalesTable              salesTable = contract.parmSalesTable();
        #    SMAServiceOrderTable    smaServiceOrderTable = contract.parmSMAServiceOrderTable();
        #    InventDimParm           inventDimParm = contract.parmInventDimParm();
        #    ListEnumerator          tmpFrmVirtualEnumerator = List::create(contract.parmTmpFrmVirtualPacked()).getEnumerator();
        #    TmpFrmVirtual           tmpFrmVirtual;
        #    SalesLine               salesLine;
        #    boolean     doSearchForAgreementLine = (salesTable.MatchingAgreement != 0);
        #
        #    // <NAXT>
        #    boolean                 ignoreSalesTableInventDim = contract.parmIgnoreSalesTableInventDim();
        #    // </NAXT>
        #
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #    SalesQty                    salesQty, salesQtyRelated;
        #    InventTable                 inventTable;
        #    InventDim                   inventDim;
        #    InventProfile_RU            inventProfile, inventProfileRelated;
        #    InventProfileRelation_RU    inventProfileRelation;
        #    InventProfileId_RU          inventProfileIdSelected;
        #    SalesTable_RU               salesTableRU;
        #    Map                         inventProfileQtyMap;
        #    boolean                     inventProfileSplitLines = SysCountryRegionCode::isLegalEntityInCountryRegion([ #isoRU ]) &&
        #                                                          SalesParameters::find().InventProfileSplitLines_RU == NoYes::Yes;
        #
        #    void createSalesLine(SalesQty _salesQty, InventDimId _inventDimId)
        #    {
        #        try
        #        {
        #            salesLine.clear();
        #            salesLine.ProjId            = salesTable.ProjId;
        #            salesLine.SalesType         = salesTable.SalesType;
        #            salesLine.initValue();
        #            salesLine.SalesId           = salesTable.SalesId;
        #            salesLine.ItemId            = tmpFrmVirtual.ItemId;
        #            salesLine.SalesQty          = _salesQty;
        #            salesLine.setInventDimId(_inventDimId);
        #
        #            //<NAXT>
        #            if (!salesLine.validateField(fieldNum(SalesLine, ItemId)))
        #            {
        #                return;
        #            }
        #            //</NAXT>
        #
        #            salesLine.createLine( true,       //  validation
        #                             true,  //  initFromSalesTable
        #                             true,  //  initFromInventTableModule
        #                             true,  //  calcInventQty
        #                             true,  //  searchMarkup
        #                             true,  //  searchPrice
        #                             salesTable.Reservation == ItemReservation::Automatic, //  checkReservation
        #                             true,  //  skipCreditLimitCheck
        #                             '',    //  oldInventTransId
        #                             true,  //  ignoreSalesTableInventDim
        #                             true,  //  setlinenum
        #                             doSearchForAgreementLine, //  searchAgreementLine
        #                             smaServiceOrderTable);
        #        }
        #
        #        catch (Exception::Error)
        #        {
        #            checkFailed("@SYS18447");
        #        }
        #    }
        #
        #    SalesQty calcLineAvailQty(InventTable _inventTable, InventDim _inventDimCriteria, SalesQty _lineQty)
        #    {
        #        InventOnHandQty inventOnhand;
        #        InventDimParm   inventDimParmCriteria;
        #
        #        inventOnhand = InventOnHandQty::construct();
        #        inventOnhand.parmItemId(_inventTable.ItemId);
        #        inventDimParmCriteria.ItemIdFlag = NoYes::Yes;
        #        inventDimParmCriteria.initFromInventDim(inventDim);
        #        inventOnhand.parmInventDimParm(inventDimParmCriteria);
        #        inventOnhand.parmInventDim(_inventDimCriteria);
        #        return min(max(0,
        #                       UnitOfMeasureConverter::convert(inventOnhand.availPhysical(),
        #                                                       UnitOfMeasure::unitOfMeasureIdBySymbol(_inventTable.inventUnitId()),
        #                                                       UnitOfMeasure::unitOfMeasureIdBySymbol(_inventTable.salesUnitId()),
        #                                                       NoYes::Yes,
        #                                                       InventTable::itemProduct(_inventTable.ItemId))), _lineQty);
        #    }
        #    // </GEERU>
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        setPrefix("@GLS113789");
        #        while (tmpFrmVirtualEnumerator.moveNext())
        #        {
        #            tmpFrmVirtual = tmpFrmVirtualEnumerator.current();
        #
        #            inventTable = InventTable::find(tmpFrmVirtual.ItemId);
        #            setPrefix(strFmt("@SYS14077", inventTable.itemName(InventDim::find(tmpFrmVirtual.InventDimId))));
        #
        #            if (inventProfileSplitLines &&
        #                tmpFrmVirtual.Qty > 0  &&
        #                EcoResDimensionGroupSetup::isInventoryDimensionActiveForItem(inventTable.ItemId,
        #                                                                             fieldNum(InventDim, InventProfileId_RU))
        #            )
        #            {
        #                inventProfileQtyMap = new Map(Types::String, Types::Real);
        #
        #                salesLine.setInventDimId(tmpFrmVirtual.InventDimId);
        #                inventDim = salesLine.inventDim();
        #
        #                inventProfileIdSelected = '';
        #                if (inventDimParm.InventProfileIdFlag_RU == NoYes::Yes)
        #                {
        #                    inventProfileIdSelected = salesLine.inventDim().InventProfileId_RU;
        #                }
        #
        #                salesTableRU = salesTable.salesTable_RU();
        #
        #                if (! inventProfileIdSelected)
        #                {
        #                    inventProfileIdSelected = salesTableRU.InventProfileId_RU;
        #                }
        #
        #                salesQty = 0;
        #                salesQtyRelated = 0;
        #                while select inventProfile
        #                    order by SelectionPriority
        #                    where ((inventProfileIdSelected && inventProfile.InventProfileId == inventProfileIdSelected) ||
        #                           (!inventProfileIdSelected && inventProfile.SelectionSkip   == NoYes::No &&
        #                            (salesTableRU.InventProfileType_RU == InventProfileType_RU::NotSpecified ||
        #                              inventProfile.InventProfileType == salesTableRU.InventProfileType_RU)))
        #                {
        #                    inventDim.InventProfileId_RU = inventProfile.InventProfileId;
        #                    salesQty = calcLineAvailQty(inventTable, inventDim, tmpFrmVirtual.Qty);
        #                    if (salesQty > 0)
        #                    {
        #                        tmpFrmVirtual.Qty -= salesQty;
        #                        break;
        #                    }
        #                }
        #
        #                if (salesQty           > 0 &&
        #                    tmpFrmVirtual.Qty > 0)
        #                {
        #                    if (salesTableRU.InventProfileUseRelated_RU == NoYes::Yes)
        #                    {
        #                        // loop through related inventory profiles
        #                        while select inventProfileRelation
        #                            order by SelectionPriority
        #                            where inventProfileRelation.InventProfileId == inventProfile.InventProfileId
        #                        join inventProfileRelated
        #                            where inventProfileRelated.InventProfileId == inventProfileRelation.InventProfileIdRelated
        #                               && inventProfileRelated.SelectionSkip   == NoYes::No
        #                               && (salesTableRU.InventProfileType_RU == InventProfileType_RU::NotSpecified ||
        #                                   inventProfileRelated.InventProfileType == salesTableRU.InventProfileType_RU)
        #                        {
        #                            inventDim.InventProfileId_RU = inventProfileRelation.InventProfileIdRelated;
        #                            salesQtyRelated = calcLineAvailQty(inventTable, inventDim, tmpFrmVirtual.Qty);
        #                            if (salesQtyRelated)
        #                            {
        #                                inventDim = InventDim::findOrCreate(inventDim);
        #                                createSalesLine(salesQtyRelated, inventDim.InventDimId);
        #                                tmpFrmVirtual.Qty -= salesQtyRelated;
        #                            }
        #                            if (! tmpFrmVirtual.Qty)
        #                            {
        #                                break;
        #                            }
        #                        }
        #                    }
        #                    else
        #                    if (! inventProfileIdSelected)
        #                    {
        #                        while select inventProfileRelated
        #                            order by SelectionPriority
        #                            where inventProfileRelated.SelectionPriority > inventProfile.SelectionPriority
        #                               && inventProfileRelated.SelectionSkip   == NoYes::No
        #                               && (salesTableRU.InventProfileType_RU == InventProfileType_RU::NotSpecified ||
        #                                   inventProfileRelated.InventProfileType == salesTableRU.InventProfileType_RU)
        #                        {
        #                            inventDim.InventProfileId_RU = inventProfileRelated.InventProfileId;
        #                            salesQtyRelated = calcLineAvailQty(inventTable, inventDim, tmpFrmVirtual.Qty);
        #                            if (salesQtyRelated)
        #                            {
        #                                inventDim = InventDim::findOrCreate(inventDim);
        #                                createSalesLine(salesQtyRelated, inventDim.InventDimId);
        #                                tmpFrmVirtual.Qty -= salesQtyRelated;
        #                            }
        #                            if (! tmpFrmVirtual.Qty)
        #                            {
        #                                break;
        #                            }
        #                        }
        #                    }
        #                }
        #
        #                if (salesQty + tmpFrmVirtual.Qty > 0)
        #                {
        #                    if (inventProfile.InventProfileId)
        #                    {
        #                        inventDim.InventProfileId_RU = inventProfile.InventProfileId;
        #                        inventDim = InventDim::findOrCreate(inventDim);
        #                        createSalesLine(salesQty + tmpFrmVirtual.Qty, inventDim.InventDimId);
        #                    }
        #                    else
        #                    {
        #                        checkFailed("@GLS113719");
        #                    }
        #                }
        #            }
        #            else
        #            {
        #                createSalesLine(tmpFrmVirtual.Qty, tmpFrmVirtual.InventDimId);
        #            }
        #        }
        #    }
        #    else
        #    {
        #    // </GEERU>
        #
        #        //<NAXT>
        #        setPrefix("@SYS26120");
        #        //</NAXT>
        #
        #        while(tmpFrmVirtualEnumerator.moveNext())
        #        {
        #            tmpFrmVirtual = tmpFrmVirtualEnumerator.current();
        #
        #            //<NAXT>
        #            inventTable = InventTable::find(tmpFrmVirtual.ItemId);
        #            setPrefix(strFmt("@SYS14077", inventTable.itemName(InventDim::find(tmpFrmVirtual.InventDimId))));
        #            //</NAXT>
        #
        #            try
        #            {
        #                salesLine.clear();
        #                salesLine.ProjId            = salesTable.ProjId;
        #                salesLine.SalesType         = salesTable.SalesType;
        #                salesLine.initValue();
        #                salesLine.SalesId           = salesTable.SalesId;
        #                salesLine.ItemId            = tmpFrmVirtual.ItemId;
        #                salesLine.SalesQty          = tmpFrmVirtual.Qty;
        #                salesLine.setInventDimId(tmpFrmVirtual.InventDimId);
        #
        #                //<NAXT>
        #                if (!salesLine.validateField(fieldNum(SalesLine, ItemId)))
        #                {
        #                    continue;
        #                }
        #                //</NAXT>
        #
        #                // <NAXT>
        #                // Deal sheet
        #                salesLine.SubLineOf = tmpFrmVirtual.SubLineOf;
        #                // </NAXT>
        #
        #                if (pdsIsCWItem(salesLine.ItemId))
        #                {
        #                    salesLine.PdsCWQty      = tmpFrmVirtual.PdsCWQty;
        #                }
        #
        #                salesLine.createLine( true,       //  validation
        #                                 true,  //  initFromSalesTable
        #                                 true,  //  initFromInventTableModule
        #                                 true,  //  calcInventQty
        #                                 true,  //  searchMarkup
        #                                 true,  //  searchPrice
        #                                 salesTable.Reservation == ItemReservation::Automatic, //  checkReservation
        #                                 true,  //  skipCreditLimitCheck
        #                                 '',    //  oldInventTransId
        #                                 /* <SYS>
        #                                 true,  //  ignoreSalesTableInventDim
        #                                 </SYS> */
        #                                 // <NAXT>
        #                                 ignoreSalesTableInventDim, //  ignoreSalesTableInventDim
        #                                 // </NAXT>
        #                                 true,  //  setlinenum
        #                             doSearchForAgreementLine, //  searchAgreementLine
        #                                 smaServiceOrderTable);
        #
        #            }
        #
        #            catch (Exception::Error)
        #            {
        #                checkFailed("@SYS18447");
        #            }
        #        }
        #    // <GEERU>
        #    }
        #    // </GEERU>
        #    return conNull();
        #}
      ENDSOURCE
      SOURCE #createFromTmpFrmVirtualServer
        #/// <summary>
        #///   Executes the creation of sales order lines based on <c>TmpFrmVirtual</c> records on the server.
        #/// </summary>
        #/// <param name="_packedContract">
        #///   A packed version of the <c>SalesLineCreateFromTmpFrmVirtualContract</c> class.
        #/// </param>
        #private static server void createFromTmpFrmVirtualServer(container _packedContract)
        #{
        #    XppILExecutePermission  xppILExecutePermission;
        #
        #    xppILExecutePermission = new XppILExecutePermission();
        #    xppILExecutePermission.assert();
        #
        #    runTableMethodIL(tableStr(SalesLine),
        #                     tableStaticMethodStr(SalesLine, createFromTmpFrmVirtualIL),
        #                     _packedContract);
        #
        #    CodeAccessPermission::revertAssert();
        #}
      ENDSOURCE
      SOURCE #createItemRequirementFromPOLine
        #/// <summary>
        #/// Creates a <c>SalesLine</c> record of type item requirement.
        #/// </summary>
        #/// <param name="_purchLine">
        #/// A <c>PurchLine</c> record to base the item requirement upon.
        #/// </param>
        #/// <returns>
        #/// The <c>SalesLine</c> record.
        #/// </returns>
        #public static SalesLine createItemRequirementFromPOLine(PurchLine _purchLine)
        #{
        #    ProjTable                       projTable;
        #    InventTableModule               inventTableModule;
        #
        #    SalesTableForm_ProjectSalesItem salesTableForm;
        #    SalesLine                       salesLine;
        #
        #    inventTableModule = InventTableModule::find(_purchLine.ItemId, ModuleInventPurchSales::Sales);
        #    projTable = _purchLine.projTable();
        #
        #    salesTableForm = SalesTableForm::construct(SalesTableFormId::ProjectSalesItem, projTable);
        #
        #    salesLine.clear();
        #    salesLine.SalesType = SalesType::ItemReq;
        #
        #    salesTableForm.salesLine_initValue(salesLine);
        #
        #    salesLine.initFromProjTable(projTable);
        #
        #    salesTableForm.resetSalesLine(salesLine);
        #
        #    salesLine.ItemId                = _purchLine.ItemId;
        #    salesLine.setInventDimId(_purchLine.InventDimId);
        #
        #    salesLine.itemIdChanged();
        #
        #    salesLine.SalesUnit             = inventTableModule.UnitId;
        #    salesLine.QtyOrdered            = UnitOfMeasureConverter::convert(
        #        _purchLine.PurchQty,
        #        UnitOfMeasure::unitOfMeasureIdBySymbol(_purchLine.PurchUnit),
        #        UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit),
        #        NoYes::Yes,
        #        InventTable::itemProduct(salesLine.ItemId));
        #    salesLine.QtyOrdered            = salesLine.QtyOrdered;
        #    salesLine.SalesQty              = salesLine.QtyOrdered;
        #    salesLine.ProjCategoryId        = _purchLine.ProjCategoryId;
        #
        #    if (_purchLine.ActivityNumber)
        #    {
        #        salesLine.ActivityNumber = _purchLine.ActivityNumber;
        #    }
        #    if (_purchLine.ProjLinePropertyId)
        #    {
        #        salesLine.ProjLinePropertyId = _purchLine.ProjLinePropertyId;
        #    }
        #
        #    salesLine.DefaultDimension      = salesLine.copyDimension(_purchLine.DefaultDimension);
        #
        #    AxSalesLine::newSalesLine(salesLine);
        #
        #    salesLine.LineNum = SalesLine::lastLineNum(salesLine.SalesId) + 1.0;
        #
        #    salesTableForm.salesLine_Write(salesLine);
        #
        #    salesLine.write();
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #exist
        #static boolean  exist(SalesId   _salesId,
        #                      LineNum   _lineNum = naReal())
        #{
        #    if (!_salesId)
        #    {
        #        return false;
        #    }
        #
        #    if (_lineNum == naReal())
        #    {
        #        return (select firstonly RecId from salesLine
        #                    index hint SalesLineIdx
        #                    where salesLine.SalesId     == _salesId).RecId != 0;
        #    }
        #
        #    return (select firstonly RecId from salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId  == _salesId
        #                &&     salesLine.LineNum == _lineNum).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existDifferentCurrency
        #server static boolean  existDifferentCurrency(SalesId   _salesId, CurrencyCode _currencyCode)
        #{
        #    if (!_salesId || !_currencyCode)
        #    {
        #        return false;
        #    }
        #
        #    return (select firstonly RecId from salesLine
        #                   index hint SalesLineIdx
        #                   where salesLine.SalesId      == _salesId
        #                   &&    salesLine.CurrencyCode != _currencyCode).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existSegmentRecid
        #//<NAXT CU4>
        #public static boolean existSegmentRecid(XAP_SvcSegmentRecId         segmentId)
        #{
        #    boolean                 ret;
        #    SalesLine               salesLine;
        #    XAP_SvcSegmentTable     svcSegmentTable;
        #
        #    select firstonly RecId from salesLine
        #        exists join svcSegmentTable
        #            where   svcSegmentTable.SalesId      == salesLine.SalesId
        #                &&  svcSegmentTable.RecId        == segmentId;
        #
        #    ret = SalesLine.RecId;
        #
        #    return ret;
        #}
        #//</NAXT CU4>
      ENDSOURCE
      SOURCE #existTradeInReference
        #// NAXT EQ0058 Trade-in line on quote (KB8888)
        #static boolean existTradeInReference(RecId _equipmentSalesLineRecId)
        #{
        #    SalesLine       salesLine;
        #    boolean         ret;
        #
        #    if (_equipmentSalesLineRecId)
        #    {
        #        select firstonly RecId from salesLine
        #            where salesLine.TradeIn && salesLine.TradeInRefRecId == _equipmentSalesLineRecId;
        #
        #        ret = (salesLine.RecId != 0);
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #find
        #static SalesLine find(SalesId   _salesId,
        #                             LineNum   _lineNum     = 0,
        #                             boolean   _update      = false)
        #{
        #    SalesLine salesLine;
        #
        #    if (_salesId)
        #    {
        #        if (_update)
        #        {
        #            salesLine.selectForUpdate(_update);
        #        }
        #        if (_lineNum)
        #        {
        #            select firstonly salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId  == _salesId
        #                &&    salesLine.LineNum  == _lineNum;
        #        }
        #        else
        #        {
        #            select firstonly salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId == _salesId;
        #        }
        #    }
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #findBOMReferenceLot
        #// <GGH>
        #static SalesLine findBOMReferenceLot(TradeInventTransId _transId,
        #                                    boolean            _update = false )
        #{
        #    SalesLine salesLine;
        #
        #    if (_transId)
        #    {
        #        if (_update)
        #        {
        #            salesLine.selectForUpdate(_update);
        #        }
        #
        #        select firstonly salesLine
        #            where salesLine.InventTransIdReturn == _transId;
        #
        #        if(!salesLine)
        #        {
        #            select firstonly salesLine
        #                index hint TransIdIdx
        #                where salesLine.InventTransId == _transId;
        #        }
        #}
        #
        #    return salesLine;
        #}
        #// </GGH>
      ENDSOURCE
      SOURCE #findInventTransId
        #static SalesLine findInventTransId(TradeInventTransId _transId,
        #                                   boolean            _update = false )
        #{
        #    SalesLine salesLine;
        #
        #    if (_transId)
        #    {
        #        if (_update)
        #        {
        #            salesLine.selectForUpdate(_update);
        #        }
        #
        #        select firstonly salesLine
        #            index hint TransIdIdx
        #            where salesLine.InventTransId == _transId;
        #}
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #findItemIdInventDimId
        #/// <summary>
        #/// Finds the specified record in the <c>SalesLine</c> table.
        #/// </summary>
        #/// <param name="salesId">
        #/// A <c>SalesId</c> value.
        #/// </param>
        #/// <param name="itemId">
        #/// An <c>ItemId</c> value.
        #/// </param>
        #/// <param name="inventDimId">
        #/// An <c>InventDimId</c> value.
        #/// </param>
        #/// <param name="lineNum">
        #/// A line number; optional.
        #/// </param>
        #/// <param name="update">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>SalesLine</c> table; otherwise, an empty record.
        #/// </returns>
        #client server static SalesLine findItemIdInventDimId(SalesId          salesId,
        #                                                   ItemId           itemId,
        #                                                   InventDimId      inventDimId,
        #                                                   LineNum          lineNum = naReal(),
        #                                                   boolean          update  = false)
        #{
        #    SalesLine   salesLine;
        #    ;
        #
        #    if (salesId)
        #    {
        #        salesLine.selectForUpdate(update);
        #
        #        if (lineNum == naReal())
        #        {
        #            select firstonly salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId      == salesId &&
        #                      salesLine.ItemId       == itemId  &&
        #                      salesLine.InventDimId  == inventDimId;
        #        }
        #        else
        #        {
        #            select firstonly salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId      == salesId &&
        #                      salesLine.LineNum      == lineNum &&
        #                      salesLine.ItemId       == itemId  &&
        #                      salesLine.InventDimId  == inventDimId;
        #        }
        #    }
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #findItemIdVariantId
        #/// <summary>
        #/// Finds the specified record in the <c>SalesLine</c> table.
        #/// </summary>
        #/// <param name="salesId">
        #/// A <c>SalesId</c> value.
        #/// </param>
        #/// <param name="itemId">
        #/// An <c>ItemId</c> value.
        #/// </param>
        #/// <param name="variantId">
        #/// A <c>RetailVariantId</c> value.
        #/// </param>
        #/// <param name="lineNum">
        #/// A line number; optional.
        #/// </param>
        #/// <param name="update">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>SalesLine</c> table; otherwise, an empty record.
        #/// </returns>
        #client server static SalesLine findItemIdVariantId(SalesId          salesId,
        #                                                   ItemId           itemId,
        #                                                   RetailVariantId     variantId,
        #                                                   LineNum          lineNum = naReal(),
        #                                                   boolean          update  = false)
        #{
        #    SalesLine   salesLine;
        #    ;
        #
        #    if (salesId)
        #    {
        #        salesLine.selectForUpdate(update);
        #
        #        if (lineNum == naReal())
        #        {
        #            select firstonly salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId      == salesId &&
        #                      salesLine.ItemId       == itemId  &&
        #                      salesLine.RetailVariantId == variantId;
        #        }
        #        else
        #        {
        #            select firstonly salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId      == salesId &&
        #                      salesLine.LineNum      == lineNum &&
        #                      salesLine.ItemId       == itemId  &&
        #                      salesLine.RetailVariantId == variantId;
        #        }
        #    }
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #findRecId
        #static SalesLine findRecId(RecId       _recId,
        #                           boolean     _update = false)
        #{
        #    SalesLine salesLine;
        #
        #    if(_recId)
        #    {
        #        if (_update)
        #        {
        #            salesLine.selectForUpdate(_update);
        #        }
        #
        #        select salesLine
        #            where salesLine.RecId == _recId;
        #    }
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #findSourceDocumentLine
        #/// <summary>
        #/// Finds the specified record in the <c>SalesLine</c> table.
        #/// </summary>
        #/// <param name="_sourceDocumentLineRefRecId">
        #/// The record ID of the <c>SourceDocumentLine</c> table that is used to find the record.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>SalesLine</c> table; otherwise, an empty record.
        #/// </returns>
        #static SalesLine findSourceDocumentLine(
        #    SourceDocumentLineRefRecId _sourceDocumentLineRefRecId,
        #    boolean                    _forUpdate = false)
        #{
        #    SalesLine salesLine;
        #
        #    if (_sourceDocumentLineRefRecId)
        #    {
        #        salesLine.selectForUpdate(_forUpdate);
        #
        #        select firstonly salesLine
        #            where salesLine.SourceDocumentLine  == _sourceDocumentLineRefRecId;
        #    }
        #
        #    return salesLine;
        #}
      ENDSOURCE
      SOURCE #getDefaultDimensionBySalesLineNum
        #/// <summary>
        #/// Get sales line default dimension by sales ID and line number.
        #/// </summary>
        #/// <param name="_salesId">
        #///     Sales order ID.
        #/// </param>
        #/// <param name="_lineNum">
        #///     Line number.
        #/// </param>
        #/// <returns>
        #/// Default dimension of the found sales order line.
        #/// </returns>
        #// <NAXT CU5>
        #static DimensionDefault getDefaultDimensionBySalesLineNum(
        #    SalesIdBase     _salesId,
        #    LineNum         _lineNum)
        #{
        #    SalesLine   salesLine;
        #
        #    if (_salesId)
        #    {
        #        select firstOnly DefaultDimension from salesLine
        #            where salesLine.SalesId == _salesId
        #               && salesLine.LineNum == _lineNum;
        #    }
        #
        #    return salesLine.DefaultDimension;
        #}
        #// </NAXT CU5>
      ENDSOURCE
      SOURCE #getEquipmentId
        #/// <summary>
        #/// Get the equipment ID from the sales order.
        #/// </summary>
        #/// <param name="_salesLineRefRecId">
        #///     The record ID of the sales order line.
        #/// </param>
        #/// <returns>
        #/// Equipment ID.
        #/// </returns>
        #// <NAXT-2012-DCG>
        #// WIP cost posting
        #public static XAP_EquipmentId getEquipmentId(SalesLineRefRecId _salesLineRefRecId)
        #{
        #    XAP_EquipmentId     ret;
        #
        #    if (_salesLineRefRecId)
        #    {
        #        ret = (select firstonly EquipmentId from salesLine
        #                    where salesLine.RecId == _salesLineRefRecId).EquipmentId;
        #    }
        #
        #    return ret;
        #}
        #// </NAXT-2012-DCG>
      ENDSOURCE
      SOURCE #getExchangeCoreChargeByInventTransId
        #/// <summary>
        #/// Get the ExchangeCoreCharge ID from the specified sales order line.
        #/// </summary>
        #/// <param name="inventTransId">
        #///  The LOT ID of the sales order line.
        #/// </param>
        #/// <returns>
        #/// The value of the <c>ExchangeCoreCharge</c> field.
        #/// </returns>
        #public static XAP_ExchangeCoreCharge getExchangeCoreChargeByInventTransId(InventTransId inventTransId)
        #{
        #    XAP_ExchangeCoreCharge     ret;
        #
        #    if (inventTransId)
        #    {
        #        ret = (select firstonly ExchangeCoreCharge from salesLine
        #                    where salesLine.InventTransId == inventTransId).ExchangeCoreCharge;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #getInventQtyFromCWUnit
        #/// <summary>
        #/// Returns the inventory quantity for an <c>PdsCWInventQty</c> based on inventory transactions.
        #/// </summary>
        #/// <param name="_salesLine">
        #/// The <c>SalesLine</c> to find the inventory quantity for.
        #/// </param>
        #/// <param name="_cWquantity">
        #/// The <c>PdsCWInventQty</c> to find the inventory quantity for.
        #/// </param>
        #/// <param name="_inventDim">
        #/// A <c>InventDim</c> buffer.
        #/// </param>
        #/// <param name="isReturn">
        #/// Indicates whether the inventory quantity is found for an return order.
        #/// </param>
        #/// <returns>
        #/// A <c>InventQty</c>.
        #/// </returns>
        #public static InventQty getInventQtyFromCWUnit(SalesLine      _salesLine,
        #                                               PdsCWInventQty _cWquantity,
        #                                               InventDim      _inventDim,
        #                                               boolean        isReturn)
        #{
        #    InventDimParm                           inventDimParm;
        #    PdsCatchWeightMovementQtyAdjustment     movement;
        #    SalesLine                               salesLineCW;
        #    InventQty                               inventQty;
        #    #InventDimDevelop
        #
        #    inventDimParm.setActiveProductDim(EcoResProductDimGroupSetup::newItemId(_salesLine.ItemId));
        #
        #    if(_inventDim.InventBatchId)
        #    {
        #        inventDimParm.InventBatchIdFlag  = NoYes::Yes;
        #    }
        #    if(_inventDim.InventSerialId)
        #    {
        #        inventDimParm.InventSerialIdFlag = NoYes::Yes;
        #    }
        #
        #    if (isReturn)
        #    {
        #        salesLineCW = SalesLine::findInventTransId(_salesLine.InventTransIdReturn);
        #        _cWquantity = -_cWquantity;
        #    }
        #    else
        #    {
        #        salesLineCW = _salesLine;
        #    }
        #
        #    if (salesLineCW)
        #    {
        #        movement = PdsCatchWeightMovementQtyAdjustment::newBuffer(salesLineCW);
        #        movement.parmInventDimCriteria(_inventDim);
        #        movement.parmInventDimParm(inventDimParm);
        #        inventQty = movement.returnOrderIssueTransactionQty(_cWquantity,salesLineCW.SalesUnit);
        #    }
        #    return inventQty;
        #}
      ENDSOURCE
      SOURCE #getSalesLinePotencyPricingDetails
        #/// <summary>
        #///     Gets the potency pricing details of the sales line with the specified ID.
        #/// </summary>
        #/// <param name="_salesLineRecId">
        #///     An ID of a sales line.
        #/// </param>
        #/// <returns>
        #///    A <c>container</c> with:
        #///    <list type="bullet">
        #///       <item><description>The ID of the Pricing Calculation used.</description></item>
        #///       <item><description>The calculated line amount.</description></item>
        #///       <item><description>The calculated unit price.</description></item>
        #///    </list>.
        #/// </returns>
        #public static server container getSalesLinePotencyPricingDetails(SalesLineRefRecId _salesLineRecId)
        #{
        #    PDSCalculationId        calculationId           = '';
        #    PDSCalculatedLineAmount calculatedLineAmount    = 0;
        #    PDSCalculatedUnitPrice  calculatedUnitPrice     = 0;
        #
        #    SalesLine salesLine = SalesLine::findRecId(_salesLineRecId);
        #    if (#PDSPotencyEnabled && salesLine.ItemId)
        #    {
        #        calculationId           = salesLine.pdsCalculationId();
        #        calculatedLineAmount    = salesLine.pdsCalculatedLineAmount();
        #        calculatedUnitPrice     = salesLine.pdsCalculatedUnitPrice();
        #    }
        #    return [calculationId, calculatedLineAmount, calculatedUnitPrice];
        #}
      ENDSOURCE
      SOURCE #getTotalLineAmount
        #//<GGH>
        #public static Amount getTotalLineAmount(SalesId   _salesId, boolean _isMisc)
        #{
        #    SalesLine salesLine;
        #    XAP_SvcLineCategoryGroup    lineCategoryGroup;
        #
        #    select sum(LineAmount) from salesLine
        #        where salesLine.SalesId == _salesId
        #         join RecId from lineCategoryGroup
        #          where lineCategoryGroup.RecId  == salesLine.LineCategoryGroupId
        #           && lineCategoryGroup.MiscItem == _isMisc;
        #
        #    return salesLine.LineAmount;
        #}
        #//<GGH>
      ENDSOURCE
      SOURCE #highestSalesStatus
        #static SalesStatus highestSalesStatus(SalesId _salesId)
        #{
        #    SalesLine  salesLine;
        #
        #    select maxof(SalesStatus) from salesLine
        #        where   salesLine.SalesId       == _salesId
        #        &&      salesLine.SalesStatus   >  SalesStatus::None;
        #
        #    if (salesLine)
        #    {
        #        return salesLine.SalesStatus;
        #    }
        #
        #    return SalesStatus::Backorder;
        #}
      ENDSOURCE
      SOURCE #initFromInventTableIL
        #/// <summary>
        #/// Updates a <c>SalesLine</c> table buffer that is based on an item.
        #/// </summary>
        #/// <param name="_inputContract">
        #/// A container with the <c>SalesLine</c> buffer and the <c>InventTable</c> buffer from which to
        #/// initialize the <c>SalesLine</c> table buffer.
        #/// </param>
        #/// <returns>
        #/// The initialized <c>SalesLine</c> record.
        #/// </returns>
        #/// <remarks>
        #/// This method should only be called from Data
        #/// Dictionary&gt;Tables&gt;SalesLine&gt;Methods&gt;initFromInventTable, and the method should be run
        #/// in IL.
        #/// </remarks>
        #private static container initFromInventTableIL(container _inputContract)
        #{
        #    SalesLine       salesLine   = con2Buf(conPeek(_inputContract, 1));
        #    InventTable     inventTable = con2Buf(conPeek(_inputContract, 2));
        #    boolean         resetPrice  = conPeek(_inputContract, 3);
        #    //<NAXT_CU5>
        #    boolean         doReplacement  = conPeek(_inputContract, 4);
        #    //</NAXT_CU5>
        #    SalesLineType   salesLineType;
        #
        #    salesLineType = salesLine.type();
        #    /*<NAXT>
        #    salesLineType.initFromInventTable(inventTable, resetPrice);
        #    <NAXT>*/
        #
        #    //<NAXT_CU5>
        #    salesLineType.initFromInventTable(inventTable, resetPrice, doReplacement);
        #    //</NAXT_CU5>
        #
        #
        #    return buf2Con(salesLine, true);
        #}
      ENDSOURCE
      SOURCE #isTaxExist
        #static boolean isTaxExist(TradeInventTransId _inventTransId, TaxCode _taxCode)
        #{
        #    SalesLine       salesLineloc;
        #    TaxOnItem       taxOnItem;
        #
        #    if (_inventTransId && _taxCode)
        #    {
        #        select firstonly RecId from taxOnItem
        #            where taxOnItem.TaxCode == _taxCode
        #            exists join salesLineloc
        #                where salesLineloc.InventTransId == _inventTransId
        #                   && salesLineloc.TaxItemGroup == taxOnItem.TaxItemGroup;
        #    }
        #    return taxOnItem.RecId;
        #}
      ENDSOURCE
      SOURCE #isTaxUnrealized
        #static boolean isTaxUnrealized(SalesIdBase _salesID)
        #{
        #    SalesLine       salesLineloc;
        #    TaxGroupData    taxGroupData;
        #    TaxTable        taxTable;
        #
        #    select firstonly RecId from taxTable
        #        where taxTable.UnrealizedTax == true
        #        exists join taxGroupData
        #            where taxGroupData.TaxCode == taxTable.TaxCode
        #        exists join salesLineloc
        #            where salesLineloc.SalesId  == _salesID
        #               && salesLineloc.TaxGroup == taxGroupData.TaxGroup;
        #    return taxTable.RecId;
        #}
      ENDSOURCE
      SOURCE #isToolStatic
        #/// <summary>
        #/// Determine whether the sales table of the specified record linked to a service segment as tool sales order.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// The inventory transaction id of a <c>SalesLine</c> record.
        #/// </param>
        #/// <returns>
        #/// True if the current line is connected to a tool sales order, otherwise false.
        #/// </returns>
        #// <NAXT>
        #public static boolean isToolStatic(InventTransId      _inventTransId)
        #{
        #    boolean                 ret;
        #    SalesLine               salesLine;
        #    SalesTable              salesTable;
        #    XAP_SvcSegmentTable     segmentTable;
        #
        #    if (_inventTransId)
        #    {
        #        select firstonly RecId from salesTable
        #            exists join salesLine
        #                where salesLine.InventTransId           == _inventTransId
        #                  &&  salesLine.SalesId                 == salesTable.SalesId
        #                exists join segmentTable
        #                    where segmentTable.ToolSalesId      == salesLine.SalesId;
        #
        #        ret = salesTable.RecId;
        #    }
        #
        #    return ret;
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #jumpRefInventTransIdSalesOrder
        #/// <summary>
        #/// Opens a sales order form by using jump reference.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// A <c>InventTransId</c> value that specifies a sales order line of the sales order to open.
        #/// </param>
        #public static void jumpRefInventTransIdSalesOrder(InventTransId _inventTransId)
        #{
        #    Args args = new Args();
        #
        #    args.record(SalesTable::find(SalesLine::findInventTransId(_inventTransId).SalesId));
        #
        #    new MenuFunction(menuitemDisplayStr(SalesTable), MenuItemType::Display).run(args);
        #}
      ENDSOURCE
      SOURCE #lastDeliveryScheduleLineNum
        #/// <summary>
        #/// Retrieves the last line number that is used by the delivery lines linked to the specified order
        #/// line.
        #/// </summary>
        #/// <param name="_orderLine">
        #/// The order line of the delivery for which to schedule to find the maximum line number.
        #/// </param>
        #/// <returns>
        #/// The maximum line number of the delivery lines that are linked to the specified order line or zero
        #/// when no such line exists.
        #/// </returns>
        #/// <remarks>
        #/// This method is used to guarantee that the delivery lines will not be interlaced with the order
        #/// lines.
        #/// </remarks>
        #static LineNum lastDeliveryScheduleLineNum(TradeInventTransId _orderLine)
        #{
        #    SalesLine               salesLine;
        #    SalesDeliverySchedule   salesDeliverySchedule;
        #
        #    select maxof(LineNum) from salesLine
        #        exists join salesDeliverySchedule
        #            where salesDeliverySchedule.OrderLine    == _orderLine
        #               && salesDeliverySchedule.DeliveryLine == salesLine.InventTransId;
        #
        #    return salesLine.LineNum;
        #}
        #
      ENDSOURCE
      SOURCE #lastLineNum
        #static LineNum  lastLineNum(SalesId _salesId)
        #{
        #    return (select maxof(LineNum) from salesLine
        #                index hint SalesLineIdx
        #                where salesLine.SalesId == _salesId).LineNum;
        #}
      ENDSOURCE
      SOURCE #lineWarning
        #//22565 - PTI - 20111208
        #server static public boolean lineWarning(ItemId _itemId)
        #{
        #    InventTable             inventTable;
        #    SysGlobalCache          cache = classfactory.globalCache();
        #    str                     cacheKey = curext() + funcName();
        #    /* <NAXT CU6/> TFS 30337 SalesTableFormPerformance 02.05.2015 prevesz
        #    XAP_ItemSearch          itemSearch;
        #    */
        #    XAP_MultipleReplacement multipleReplacement;
        #    XAP_ItemCrossReference  crossReference;
        #    XAP_NPRItem             nprItem;
        #    XAP_TmpItemDetail       itemReplacement;
        #    int                     cacheTime;
        #    boolean                 cacheValue;
        #    container               result = cache.get(cacheKey, _itemId, conNull());
        #
        #    if (result != conNull())
        #    {
        #        [cacheValue, cacheTime] = result;
        #        if ((timeNow() - cacheTime) < 3600) //the cache expiration is 60 minutes
        #        {
        #            return cacheValue;
        #        }
        #    }
        #
        #    // <NAXT CU6> TFS 30337 HPE - SalesTableFormPerformance 02.05.2015
        #    //inventTable = InventTable::find(_itemId);
        #    //
        #    //nprItem = inventTable.xap_nprItem();
        #
        #    select PmfProductType, RecId, ItemId, Product from InventTable
        #            index hint ItemIdx
        #            where   InventTable.ItemId      == _itemId
        #        outer join Part from nprItem
        #            where   nprItem.Product         == InventTable.Product &&
        #                    nprItem.ItemDataAreaId  == InventTable.DataAreaId;
        #    // </NAXT CU6>
        #
        #
        #    if (!nprItem.Part)
        #    {
        #        cache.set(cacheKey, _itemId, [false, timeNow()]);
        #        return false;
        #    }
        #
        #    select count(RecId) from multipleReplacement where
        #        multipleReplacement.OldItemId == _itemId;
        #
        #    if (multipleReplacement.RecId == 1)
        #    {
        #        cache.set(cacheKey, _itemId, [true, timeNow()]);
        #        return true;
        #    }
        #
        #     /*<NAXT>
        #    select firstonly RecId from crossReference where
        #        (crossReference.ItemIdOld    == _itemId && crossReference.Type == XAP_CrossReferenceType::Alternate) ||
        #        ((crossReference.ItemIdOld    == _itemId || crossReference.ItemIdNew    == _itemId) && crossReference.Type == XAP_CrossReferenceType::CrossReference);
        #    <NAXT>*/
        #
        #    //<NAXT_CU7>
        #    select firstonly RecId from crossReference where
        #        (crossReference.ItemIdOld    == _itemId && crossReference.Type == XAP_CrossReferenceType::Alternate) ;
        #
        #    if (!crossReference.RecId)
        #    {
        #         select firstonly RecId from crossReference where
        #         (crossReference.ItemIdOld    == _itemId || crossReference.ItemIdNew    == _itemId) && crossReference.Type == XAP_CrossReferenceType::CrossReference;
        #    }
        #    //</NAXT_CU7>
        #
        #
        #    if (crossReference.RecId)
        #    {
        #        cache.set(cacheKey, _itemId, [true, timeNow()]);
        #        return true;
        #    }
        #
        #    //<NAXT CU6> TFS 30337
        #    /* SalesTableFormPerformance 02.05.2015 prevesz
        #    itemSearch = XAP_ItemSearch::newParams(_itemId);
        #
        #    if (itemSearch.docuRef())
        #    */
        #    if(XAP_ItemSearch::checkDocuRefByItemId(inventTable, nprItem))
        #    //</NAXT CU6>
        #    {
        #        cache.set(cacheKey, _itemId, [true, timeNow()]);
        #        return true;
        #    }
        #
        #    XAP_ItemSearch::fillReplacement(_itemId, "", itemReplacement);
        #
        #    select firstonly RecId from itemReplacement;
        #
        #    if (itemReplacement.RecId)
        #    {
        #        cache.set(cacheKey, _itemId, [true, timeNow()]);
        #        return true;
        #    }
        #
        #    cache.set(cacheKey, _itemId, [false, timeNow()]);
        #    return false;
        #}
      ENDSOURCE
      SOURCE #lookupAttachedTo
        #// NAXT EQ0032 Explode configuration on Quote and on Sales order
        #public client static void lookupAttachedTo(FormStringControl _ctrl, SalesId _salesId, RecId _currentLineRecId = 0)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(SalesLine), _ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSourceLine = query.addDataSource(tableNum(SalesLine));
        #
        #    queryBuildDataSourceLine.addSelectionField(fieldNum(SalesLine, InventDimId)); // needed below for the addLookupMethod
        #
        #    queryBuildDataSourceLine.addRange(fieldNum(SalesLine,SalesId)).value(queryValue(_salesId));
        #
        #    // NAXT EQ0066 Equipment on-hand form
        #    if (_currentLineRecId)
        #    {
        #        queryBuildDataSourceLine.addRange(fieldNum(SalesLine, RecId)).value(SysQuery::valueNot(_currentLineRecId));
        #    }
        #
        #    sysTableLookup.parmQuery(query);
        #
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, InventTransId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, LineNum));
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, ItemId));
        #
        #    sysTableLookup.addLookupMethod(tableMethodStr(SalesLine, inventEquipmentId));
        #
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupAttachedToLineNumber
        #// NAXT Attach to line number
        #public static void lookupAttachedToLineNumber(SalesLine _salesLine, FormControl _formControl)
        #{
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    QueryBuildRange         queryBuildRange;
        #    QueryBuildRange         queryBuildRangeNo;
        #    QueryBuildRange         queryBuildRangeNone;
        #    QueryBuildRange         queryBuildRangeNo1;
        #    SysTableLookup          sysTableLookup;
        #    SalesLine               otherLines;
        #
        #    if (_salesLine.RecId)
        #    {
        #        select firstonly otherLines
        #            where otherLines.SalesId            == _salesLine.SalesId
        #               && otherLines.AttachToLineNumber == _salesLine.LineNum;
        #    }
        #
        #    sysTableLookup = SysTableLookup::newParameters(tableNum(SalesLine), _formControl);
        #
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, InventTransId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, LineNum), true);
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, ItemId));
        #    sysTableLookup.addLookupMethod(tableMethodStr(SalesLine, inventEquipmentId));
        #
        #    queryBuildDataSource = query.addDataSource(tableNum(SalesLine));
        #
        #    queryBuildRange     = queryBuildDataSource.addRange(fieldNum(SalesLine, SalesId));
        #    queryBuildRange.value(_salesLine.SalesId);
        #
        #    queryBuildRangeNo   = queryBuildDataSource.addRange(fieldNum(SalesLine, LineNum));
        #    queryBuildRangeNo.value(SysQuery::valueNot(_salesLine.LineNum));
        #    queryBuildRangeNo1  = queryBuildDataSource.addRange(fieldNum(SalesLine, AttachToLineNumber));
        #    queryBuildRangeNo1.value(SysQuery::valueEmptyString());
        #
        #    if (otherLines)
        #    {
        #        queryBuildRangeNone = queryBuildDataSource.addRange(fieldNum(SalesLine, RecId));
        #        queryBuildRangeNone.value(SysQuery::valueEmptyString());
        #    }
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupSublineOf
        #// <NAXT>
        #public static void lookupSublineOf(SalesLine _salesLine, FormControl _formControl)
        #{
        #    Query                   query = new Query();
        #
        #    SysTableLookup          sysTableLookup;
        #    QueryBuildDataSource    queryBuildDataSource;
        #    QueryBuildRange         queryBuildRange;
        #    QueryBuildRange         queryBuildRangeNo;
        #    QueryBuildRange         queryBuildRangeNo1;
        #    QueryBuildRange         queryBuildRangeNo2;
        #
        #    sysTableLookup = SysTableLookup::newParameters(tableNum(SalesLine), _formControl);
        #
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, LineNum), true);
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, ItemId));
        #    sysTableLookup.addLookupMethod(tableMethodStr(SalesLine, inventEquipmentId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, SalesPrice));
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, SalesQty));
        #    sysTableLookup.addLookupfield(fieldNum(SalesLine, LineAmount));
        #
        #    queryBuildDataSource = query.addDataSource(tableNum(SalesLine));
        #
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesLine, SalesId));
        #    queryBuildRange.value(_salesLine.SalesId);
        #
        #    queryBuildRangeNo = queryBuildDataSource.addRange(fieldNum(SalesLine, LineNum));
        #    queryBuildRangeNo.value(SysQuery::valueNot(_salesLine.LineNum));
        #
        #    queryBuildRangeNo1 = queryBuildDataSource.addRange(fieldNum(SalesLine, SubLineOf));
        #    queryBuildRangeNo1.value(SysQuery::valueEmptyString());
        #
        #    queryBuildRangeNo2 = queryBuildDataSource.addRange(fieldNum(SalesLine, EquipmentId));
        #    queryBuildRangeNo2.value(_salesLine.inventDim().InventEquipmentId);
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #modifyExpectedRetQty
        #/// <summary>
        #/// Rounds the expected return quantity according to the unit setup.
        #/// </summary>
        #/// <param name="_salesLine">
        #/// The sales order line that is updated.
        #/// </param>
        #/// <param name="_inventDim">
        #/// The Inventory dimension for the updated sales line.
        #/// </param>
        #/// <param name="_resetPrice">
        #/// A Boolean value that indicates whether the sales line prices and discounts should be read again
        #/// according to the new quantity.
        #/// </param>
        #static void modifyExpectedRetQty(SalesLine    _salesLine,
        #                                 InventDim    _inventDim,
        #                                 boolean      _resetPrice = true)
        #{
        #    Qty     transQty = _salesLine.ExpectedRetQty;
        #
        #    transQty = decRound(transQty, UnitOfMeasure::unitOfMeasureDecimalPrecision(
        #        UnitOfMeasure::unitOfMeasureIdBySymbol(_salesLine.SalesUnit)));
        #
        #    if (transQty != _salesLine.ExpectedRetQty)
        #    {
        #        _salesLine.ExpectedRetQty = transQty;
        #    }
        #
        #    if (_resetPrice)
        #    {
        #        _salesLine.SalesPurchLine::resetPriceAgreement();
        #        _salesLine.setPriceDisc(_inventDim);
        #    }
        #}
      ENDSOURCE
      SOURCE #modifySalesPoolId
        #// NAXT 6.0 EQ0036 - Sales order pool parameter
        #server static void  modifySalesPoolId(SalesLine    _salesLine,
        #                                      InventDim    _inventDim)
        #{
        #    _salesLine.SalesPurchLine::resetPriceAgreement();
        #    _salesLine.setPriceDisc(_inventDim);
        #}
      ENDSOURCE
      SOURCE #modifySalesQty
        #/// <summary>
        #/// Updates a <c>SalesLine</c> table buffer based on changed sales quantity.
        #/// </summary>
        #/// <param name="_salesLine">
        #/// A <c>SalesLine</c> table buffer.
        #/// </param>
        #/// <param name="_inventDim">
        #/// A <c>InventDim</c> table buffer.
        #/// </param>
        #/// <param name="_resetPrice">
        #/// A Boolean value that specifies whether to reset price and discounts; optional.
        #/// </param>
        #public server static void modifySalesQty(SalesLine    _salesLine,
        #                           InventDim    _inventDim,
        #                           boolean      _resetPrice = true)
        #{
        #    SalesReceiptDateRequested   receiptDateRequestedOrig  = _salesLine.ReceiptDateRequested;
        #    SalesReceiptDateConfirmed   receiptDateConfirmedOrig  = _salesLine.ReceiptDateConfirmed;
        #    SalesShippingDateRequested  shippingDateRequestedOrig = _salesLine.ShippingDateRequested;
        #    SalesShippingDateConfirmed  shippingDateConfirmedOrig = _salesLine.ShippingDateConfirmed;
        #    container                   salesLineContainer;
        #    XppILExecutePermission      xppILExecutePermission;
        #    // <NAXT CU3>
        #    SalesQuotationLine          localQuotationLine = SalesQuotationLine::findInventTransId(_salesLine.PowerSystemsQuotationLine);
        #    // </NAXT CU3>
        #
        #    // <GIN>
        #    SalesLine                   salesLineLoc;
        #    #ISOCountryRegionCodes
        #    boolean                     isoIN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
        #    // </GIN>
        #
        #    if (!_salesLine.interCompanyIsBeingUpdated())
        #    {
        #        InventMovement::setMinMaxQty(_salesLine);
        #
        #        // Transition to IL to update the sales quantity
        #        xppILExecutePermission = new XppILExecutePermission();
        #        xppILExecutePermission.assert();
        #
        #        // <GIN>
        #        if (isoIN)
        #        {
        #            salesLineLoc = _salesLine.data();
        #            salesLineLoc.packSalesLine_IN(_salesLine.salesLine_IN().data());
        #
        #            salesLineContainer = runTableMethodIL(tableStr(SalesLine),
        #                                              tableStaticMethodStr(SalesLine, modifySalesQtyIL),
        #                                              [buf2Con(salesLineLoc, true), buf2Con(_inventDim, true), _resetPrice]);
        #        }
        #        else
        #        {
        #        // </GIN>
        #            salesLineContainer = runTableMethodIL(tableStr(SalesLine),
        #                                              tableStaticMethodStr(SalesLine, modifySalesQtyIL),
        #                                              [buf2Con(_salesLine, true), buf2Con(_inventDim, true), _resetPrice]);
        #        // <GIN>
        #        }
        #        // </GIN>
        #
        #        CodeAccessPermission::revertAssert();
        #
        #        // <GIN>
        #        if (isoIN)
        #        {
        #            salesLineLoc.con2buf(salesLineContainer);
        #            _salesLine.con2buf(salesLineContainer);
        #
        #            _salesLine.salesLine_IN().data(salesLineLoc.salesLine_IN());
        #        }
        #        else
        #        {
        #        // </GIN>
        #            _salesLine.con2buf(salesLineContainer);
        #        // <GIN>
        #        }
        #        // </GIN>
        #
        #        if (_salesLine.RecId                    != 0
        #         && (_salesLine.ReceiptDateRequested    != receiptDateRequestedOrig
        #            || _salesLine.ReceiptDateConfirmed  != receiptDateConfirmedOrig
        #            || _salesLine.ShippingDateRequested != shippingDateRequestedOrig
        #            || _salesLine.ShippingDateConfirmed != shippingDateConfirmedOrig))
        #        {
        #            if (Box::yesNo(isConfigurationkeyEnabled(configurationKeyNum(SalesDeliveryDateControl))? "@SYS88260": "@SYS344846",DialogButton::Yes) == DialogButton::No)
        #            {
        #                _salesLine.ReceiptDateRequested  = receiptDateRequestedOrig;
        #                _salesLine.ReceiptDateConfirmed  = receiptDateConfirmedOrig;
        #                _salesLine.ShippingDateRequested = shippingDateRequestedOrig;
        #                _salesLine.ShippingDateConfirmed = shippingDateConfirmedOrig;
        #            }
        #        }
        #    }
        #    else
        #    {
        #        _salesLine.SalesQty = _salesLine.orig().SalesQty;
        #    }
        #
        #    _salesLine.CalculatedWeight = _salesLine.SalesQty * _salesLine.inventTable().grossWeight(); //TFS2235 - PTI - 20120919
        #
        #    // <NAXT CU3>
        #    if (ProjTable::isPowerSystem(_salesLine.ProjId))
        #    {
        #        if (!_salesLine.ProjCategoryId)
        #        {
        #            _salesLine.ProjCategoryId = _salesLine.inventTable().projCategoryId;
        #        }
        #        if (((!localQuotationLine.NetCost &&
        #            !localQuotationLine.EscalationPercent &&
        #            !localQuotationLine.CostDiscountAmount) ||
        #            !localQuotationLine) &&
        #            !_salesLine.PSUnitCost)
        #        {
        #            _salesLine.PSUnitCost = InventTableModule::find(_salesLine.ItemId, ModuleInventPurchSales::Purch).price();
        #        }
        #
        #        if (_salesLine.PSUnitCost)
        #        {
        #            _salesLine.Cost = _salesLine.PSUnitCost * _salesLine.SalesQty;
        #        }
        #    }
        #    // </NAXT CU3>
        #
        #}
      ENDSOURCE
      SOURCE #modifySalesQtyIL
        #/// <summary>
        #/// Updates a <c>SalesLine</c> table buffer based on a changed sales quantity.
        #/// </summary>
        #/// <param name="_inputContract">
        #/// A container with the <c>SalesLine</c> buffer, <c>InventDim</c> buffer, and the reset price value.
        #/// </param>
        #/// <returns>
        #/// A container with the <c>SalesLine</c> table buffer.
        #/// </returns>
        #/// <remarks>
        #/// This method should only be called from Data
        #/// Dictionary&gt;Tables&gt;SalesLine&gt;Methods&gt;modifySalesQty. This is to reduce client/server
        #/// RPC, and to be able to run in IL.
        #/// </remarks>
        #private server static container modifySalesQtyIL(container _inputContract)
        #{
        #    SalesLine    salesLine = con2Buf(conPeek(_inputContract, 1));
        #    InventDim    inventDim = con2Buf(conPeek(_inputContract, 2));
        #    boolean      resetPrice = conPeek(_inputContract, 3);
        #
        #    salesLine.initSalesQty();
        #
        #    if (salesLine.LineDeliveryType == LineDeliveryType::DeliveryLine
        #        || !resetPrice) //we should recalculate amount even though we do not reset price
        #    {
        #        salesLine.LineAmount = salesLine.calcLineAmountForced();
        #    }
        #    else if (resetPrice)
        #    {
        #        // <GEEU>
        #        if (!salesLine.CreditNoteInternalRef_PL)
        #        {
        #        // </GEEU>
        #            salesLine.SalesPurchLine::resetPriceAgreement();
        #        // <GEEU>
        #        }
        #        // </GEEU>
        #
        #        salesLine.setPriceDisc(inventDim);
        #    }
        #
        #    salesLine.calcPackingUnitQty(inventDim);
        #    InventMovement::bufferSetTransQtyUnit(salesLine);
        #    salesLine.setInventDeliverNow();
        #
        #    return buf2Con(salesLine);
        #}
      ENDSOURCE
      SOURCE #pdsCWFullVisItemStdQty
        #/// <summary>
        #/// Returns the full visibility catch weight quantity picked.
        #/// </summary>
        #/// <param name="_inventMovement">
        #/// An <c>inventmovement</c> related to the salesLine.
        #/// </param>
        #/// <returns>
        #/// Returns the full visibility catch weight quantity picked.
        #/// </returns>
        #public static server InventQty pdsCWFullVisItemStdQty(
        #    InventMovement _inventMovement)
        #{
        #    InventTransIdSum inventTransIdSum = InventTransIdSum::newTransIdNoChildType(_inventMovement.inventTransOriginId());
        #    return - inventTransIdSum.onOrder() + inventTransIdSum.reserveOrdered() + inventTransIdSum.reservPhysical();
        #}
      ENDSOURCE
      SOURCE #pdsMRCCheckRestrictedForAllSalesLines
        #/// <summary>
        #/// Checks the regulatory compliance of all sales lines in the current sales order.
        #/// </summary>
        #/// <param name="_salesTable" type="Salestable">Sales order to check.</param>
        #/// <returns type="boolean">returns true if and lines on the _salestable are restricted.</returns>
        #/// <example>
        #/// boolean ret = SalesLine::mrcCheckRestrictedForAllSalesLines(salesTable);
        #/// </example>
        #/// <remarks>
        #/// <syntax>
        #/// public static boolean MRCCheckRestrictedForAllSalesLines(Record )
        #/// </syntax>
        #/// </remarks>
        #//Check the Regulatory Compliance of all sales lines in the sales order.
        #public server static boolean pdsMRCCheckRestrictedForAllSalesLines(
        #    SalesTable _salesTable)
        #{
        #    SalesLine       salesLine;
        #    SalesLineType   salesLineType;
        #    boolean         isRestricted = false;
        #
        #    while select salesLine
        #        where salesLine.SalesId == _salesTable.SalesId
        #    {
        #        salesLineType = salesLine.type();
        #        if (salesLineType.pdsMRCCheckRestricted())
        #        {
        #            isRestricted = true;
        #            break;
        #        }
        #    }
        #
        #    return isRestricted;
        #}
        #
        #
        #
        #
        #
      ENDSOURCE
      SOURCE #pdsRemainReturnLotQtyAllCreditNote
        #/// <summary>
        #/// Calculates the returned quantities for a sales order line.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// A <c>TradeInventTrans</c> object that identifies a sales order line.
        #/// </param>
        #/// <param name="_projId">
        #/// A project ID; optional.
        #/// </param>
        #/// <param name="_custInvoiceInvoiceId">
        #/// A Customer invoice ID; optional.
        #/// </param>
        #/// <returns>
        #/// A container that contains the <c>SalesOrderedQty</c> and <c>PdsCWQty</c> type specifying the sum of
        #/// returned items.
        #/// </returns>
        #/// <remarks>
        #/// Both sales return orders and sales credit notes are included in the calculation.
        #/// </remarks>
        #public server static container pdsRemainReturnLotQtyAllCreditNote(
        #    InventTransId   _inventTransId,
        #    ProjId          _projId = SalesLine::find(_inventTransId).ProjId,
        #    //<NAXT> TFS_24907
        #    InvoiceId       _custInvoiceInvoiceId = '')
        #    //</NAXT> TFS_24907
        #{
        #    SalesLine                   salesLine;
        #    InventTrans                 inventTransSales, inventTransReturn;
        #    InventTransOriginId         inventTransOriginId         = InventTransOrigin::findByInventTransId(_inventTransId).RecId;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #    SalesQty                    retQty;
        #    InventQty                   inventQty;
        #    InventTable                 inventTable;
        #    PdsCWInventQty              cwRetQty;
        #    Set                         recIdSet = new Set(Types::Int64);
        #    //<NAXT> TFS_24907
        #    SalesLine                   salesLineCreditNote;
        #    InventTransOrigin           inventTransOriginSalesReturn;
        #    //InventQty                   inventQtySales;
        #    //</NAXT> TFS_24907
        #
        #    GGH_TmpSum      TmpSum;
        #
        #    if(inventTransOriginId) //GGH-10165
        #    {
        #        delete_from TmpSum;
        #
        #        insert_recordset TmpSum (SalesQty, ExpectedRetQty, PdsCWQty, PdsCWExpectedRetQty)
        #            select SalesQty, ExpectedRetQty, PdsCWQty, PdsCWExpectedRetQty from salesLine
        #            where (salesLine.SalesType             == SalesType::ReturnItem    && salesLine.ExpectedRetQty     < 0)
        #                //|| (salesLine.SalesType             == SalesType::Sales         && salesLine.SalesQty           < 0))
        #                &&  salesLine.InventTransIdReturn   == _inventTransId
        #                && salesLine.ProjId == _projId
        #            notexists join inventTransOriginSalesLine
        #                where inventTransOriginSalesLine.SalesLineDataAreaId    == salesLine.DataAreaId
        #                   && inventTransOriginSalesLine.SalesLineInventTransId == salesLine.InventTransId
        #                join inventTransSales
        #                where   inventTransSales.InventTransOrigin          == inventTransOriginSalesLine.InventTransOrigin
        #                    &&  inventTransSales.ReturnInventTransOrigin    == inventTransOriginId;
        #
        #
        #        insert_recordset TmpSum (SalesQty, ExpectedRetQty, PdsCWQty, PdsCWExpectedRetQty)
        #            select SalesQty, ExpectedRetQty, PdsCWQty, PdsCWExpectedRetQty from salesLine
        #            where //((salesLine.SalesType             == SalesType::ReturnItem    && salesLine.ExpectedRetQty     < 0))
        #                 (salesLine.SalesType             == SalesType::Sales         && salesLine.SalesQty           < 0)
        #                &&  salesLine.InventTransIdReturn   == _inventTransId
        #                && salesLine.ProjId == _projId
        #            notexists join inventTransOriginSalesLine
        #                where inventTransOriginSalesLine.SalesLineDataAreaId    == salesLine.DataAreaId
        #                   && inventTransOriginSalesLine.SalesLineInventTransId == salesLine.InventTransId
        #                join inventTransSales
        #                where   inventTransSales.InventTransOrigin          == inventTransOriginSalesLine.InventTransOrigin
        #                    &&  inventTransSales.ReturnInventTransOrigin    == inventTransOriginId;
        #
        #
        #        /*
        #        // Finds CreditNotes & ReturnOrders lines with no inventory transactions.
        #        while select DataAreaId, InventTransId, SalesQty, ExpectedRetQty
        #            //PI start
        #            , PdsCWQty, PdsCWExpectedRetQty
        #            //PI end
        #            from salesLine
        #            where ((salesLine.SalesType             == SalesType::ReturnItem    && salesLine.ExpectedRetQty     < 0)
        #                || (salesLine.SalesType             == SalesType::Sales         && salesLine.SalesQty           < 0))
        #                &&  salesLine.InventTransIdReturn   == _inventTransId
        #                && salesLine.ProjId == _projId
        #            notexists join inventTransOriginSalesLine
        #                where inventTransOriginSalesLine.SalesLineDataAreaId    == salesLine.DataAreaId
        #                   && inventTransOriginSalesLine.SalesLineInventTransId == salesLine.InventTransId
        #                exists join inventTransSales
        #                where   inventTransSales.InventTransOrigin          == inventTransOriginSalesLine.InventTransOrigin
        #                    &&  inventTransSales.ReturnInventTransOrigin    == inventTransOriginId
        #        {
        #            retQty += salesLine.SalesQty ? abs(salesLine.SalesQty) : abs(salesLine.ExpectedRetQty);
        #            //PI start
        #            cwRetQty += salesLine.PdsCWQty ? abs(salesLine.PdsCWQty):abs(salesLine.PdsCWExpectedRetQty);
        #            //PI end
        #        }
        #
        #        //InventTrans related to both CreditNotes and ReturnOrders (with and without related salesLines).
        #        while select TableId from inventTransSales
        #            where   inventTransSales.InventTransOrigin          == inventTransOriginId
        #                &&  inventTransSales.ReturnInventTransOrigin
        #            join Qty, RecId, ItemId
        #            //PI start
        #            , PdsCWQty
        #            //PI end
        #            from inventTransReturn
        #                where   inventTransReturn.InventTransOrigin     == inventTransSales.ReturnInventTransOrigin
        #                    &&  inventTransReturn.Qty                    >  0
        #                    &&  inventTransReturn.PackingSlipReturned   == NoYes::No
        #        {
        #            if (!recIdSet.in(inventTransReturn.RecId))
        #            {
        #                recIdSet.add(inventTransReturn.RecId);
        #                inventQty += abs(inventTransReturn.Qty);
        #                //PI start
        #                cwRetQty += abs(inventTransReturn.PdsCWQty);
        #                //PI end
        #                if (!inventTable)
        #                {
        #                    inventTable = inventTransReturn.inventTable();
        #                }
        #            }
        #        }
        #
        #        */
        #        //<NAXT> TFS_24907
        #
        #        insert_recordset TmpSum (Qty, PdsCWQty)
        #        select Qty, PdsCWQty from inventTransReturn
        #            join inventTransSales
        #            where   inventTransSales.InventTransOrigin == inventTransOriginId
        #                &&  inventTransSales.ReturnInventTransOrigin
        #                &&  inventTransReturn.InventTransOrigin == inventTransSales.ReturnInventTransOrigin
        #                &&  inventTransReturn.Qty > 0
        #                &&  inventTransReturn.PackingSlipReturned == NoYes::No;
        #
        #
        #        while select TmpSum
        #        {
        #            retQty += TmpSum.SalesQty ? abs(TmpSum.SalesQty) : abs(TmpSum.ExpectedRetQty);
        #            cwRetQty += TmpSum.PdsCWQty ? abs(TmpSum.PdsCWQty):abs(TmpSum.PdsCWExpectedRetQty);
        #
        #            inventQty += abs(TmpSum.Qty);
        #        }
        #
        #
        #        if (_custInvoiceInvoiceId)
        #        {
        #             select sum(Qty) from inventTransSales
        #                where   inventTransSales.ReturnInventTransOrigin == inventTransOriginId &&
        #                        inventTransSales.Qty > 0
        #                join RecId, InventTransId from inventTransOriginSalesReturn
        #                    where   inventTransOriginSalesReturn.RecId == inventTransSales.InventTransOrigin
        #                exists join salesLineCreditNote
        #                    where   salesLineCreditNote.InventTransId         == inventTransOriginSalesReturn.InventTransId &&
        #                            salesLineCreditNote.CreditNoteInvoiceId   == _custInvoiceInvoiceId;
        #
        #            inventQty = inventTransSales.Qty;
        #
        #            //GGH-10165 end
        #            /*
        #            //InventTrans related to CreditNote returns (with related salesLines).
        #            while select TableId, InvoiceId, Qty from inventTransSales
        #                where   inventTransSales.ReturnInventTransOrigin    == inventTransOriginId &&
        #                        inventTransSales.Qty > 0
        #                exists join inventTransOriginSalesReturn
        #                    where   inventTransOriginSalesReturn.RecId == inventTransSales.InventTransOrigin
        #                exists join salesLineCreditNote
        #                    where   salesLineCreditNote.InventTransId         == inventTransOriginSalesReturn.InventTransId &&
        #                            salesLineCreditNote.CreditNoteInvoiceId   == _custInvoiceInvoiceId &&
        #                            salesLineCreditNote.CreditNoteInvoiceId
        #            {
        #                    inventQtySales += abs(inventTransSales.Qty);
        #
        #                    if (!inventTable)
        #                    {
        #                        inventTable = inventTransSales.inventTable();
        #                    }
        #            }
        #
        #
        #            inventQty = inventQtySales;
        #            */
        #        }
        #        //</NAXT> TFS_24907
        #
        #
        #        if (inventQty)
        #        {
        #            inventTable = inventTrans::findTransId(_inventTransId).inventTable();
        #
        #            retQty += UnitOfMeasureConverter::convert(inventQty,
        #                                                      UnitOfMeasure::unitOfMeasureIdBySymbol(inventTable.inventUnitId()),
        #                                                      UnitOfMeasure::unitOfMeasureIdBySymbol(inventTable.salesUnitId()),
        #                                                      NoYes::Yes,
        #                                                      InventTable::itemProduct(inventTable.ItemId));
        #
        #        }
        #
        #
        #    }
        #
        #    return [retQty, cwRetQty];
        #}
      ENDSOURCE
      SOURCE #qtyDeliveryToCreditNote_RU
        #static InventQty qtyDeliveryToCreditNote_RU(InventTransId _inventTransId)
        #{
        #    InventTransOrigin inventTransOrigin;
        #    InventTrans inventTrans;
        #    ;
        #
        #    select TableId from inventTransOrigin
        #        where inventTransOrigin.InventTransId == _inventTransId
        #    join sum(Qty) from inventTrans
        #        where inventTrans.InventTransOrigin     == inventTransOrigin.RecId
        #           && inventTrans.StatusIssue           == StatusIssue::Sold
        #           && inventTrans.StatusReceipt         == StatusReceipt::None
        #           && inventTrans.PackingSlipReturned   == NoYes::No
        #           && inventTrans.InvoiceReturned       == NoYes::No;
        #
        #    return inventTrans.Qty;
        #}
        #
      ENDSOURCE
      SOURCE #remainReturnLotQtyAllCreditNote
        #/// <summary>
        #/// Calculates the returned quantity for a sales order line.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// A <c>TradeInventTrans</c> object that identifies a sales order line.
        #/// </param>
        #/// <param name="_custInvoiceInvoiceId">
        #/// A <c>Customer invoice ID</c>; optional.
        #/// </param>
        #/// <returns>
        #/// A <c>SalesOrderedQty</c> object that specifies the sum of returned items.
        #/// </returns>
        #/// <remarks>
        #/// Both sales return orders and sales credit notes are included in the calculation.
        #/// </remarks>
        #public static SalesOrderedQty remainReturnLotQtyAllCreditNote(TradeInventTransId _inventTransId,
        #                                                              //<NAXT> TFS_24907
        #                                                              InvoiceId       _custInvoiceInvoiceId = '')
        #                                                              //</NAXT> TFS_24907
        #{
        #    InventTransOriginId         inventTransOriginId         = InventTransOrigin::findByInventTransId(_inventTransId).RecId;
        #
        #    // moved this code to pdsRemainReturnLotQtyAllCreditNote which returns a container
        #    // for improved performance when retrieving both SalesQty and CWQty credit note totals.
        #
        #    //<NAXT> TFS_24907
        #    //original line //return conPeek(SalesLine::pdsRemainReturnLotQtyAllCreditNote(_inventTransId), 1);
        #    return conPeek(SalesLine::pdsRemainReturnLotQtyAllCreditNote(_inventTransId, '', _custInvoiceInvoiceId), 1);
        #    //</NAXT> TFS_24907
        #}
      ENDSOURCE
      SOURCE #resetAxSalesLinePolicies
        #/// <summary>
        #/// Resets the price discount policies.
        #/// </summary>
        #/// <param name="_axSalesLine">
        #/// An <c>AxSalesLine</c> object that represents the order line that should have the policies reset.
        #/// </param>
        #public static void resetAxSalesLinePolicies(AxSalesLine _axSalesLine)
        #{
        #    _axSalesLine.parmSystemEntrySource(PriceDiscSystemSource::None);
        #    _axSalesLine.parmSystemEntryChangePolicy(0);
        #    _axSalesLine.parmManualEntryChangepolicy(0);
        #}
      ENDSOURCE
      SOURCE #setConfirmedDatesUsingUIStrategy
        #/// <summary>
        #/// Calculates and updates the confirmed dates of a <c>SalesLine</c> record.
        #/// </summary>
        #/// <param name="_salesLine">
        #/// A <c>SalesLine</c> record.
        #/// </param>
        #/// <param name="_salesTable">
        #/// A <c>SalesTable</c> record.
        #/// </param>
        #/// <returns>
        #/// true if the confirmed dates are set; otherwise, false.
        #/// </returns>
        #public static server boolean setConfirmedDatesUsingUIStrategy(
        #    SalesLine   _salesLine,
        #    SalesTable  _salesTable = _salesLine.salesTable())
        #{
        #    return _salesLine.type(_salesTable).setConfirmedDates(SalesConfirmDatesUIStrategy::construct());
        #}
      ENDSOURCE
      SOURCE #splitReturnLine
        #/// <summary>
        #/// Splits a return order line into two return order lines.
        #/// </summary>
        #/// <param name="_inventTransId">
        #/// The inventory transaction ID of the original return order line.
        #/// </param>
        #/// <param name="_newQtyOrdered">
        #/// The quantity for a new return order line.
        #/// </param>
        #/// <param name="_newCWQty">
        #/// The catch-weight quantity for the new return order line.
        #/// </param>
        #/// <returns>
        #/// The inventory transaction ID for a new return order line.
        #/// </returns>
        #/// <remarks>
        #/// A split can only be done on a return order line.
        #/// </remarks>
        #/// <exception cref="M:Exception::Error">
        #/// The specified sales order line could not be found, or is not a return order.
        #/// </exception>
        #/// <exception cref="M:Exception::UpdateConflictNotRecovered">
        #/// An update conflict exception occurred and the action was not registered.
        #/// </exception>
        #/// <exception cref="M:Exception::UpdateConflict">
        #/// An update conflict occurred.
        #/// </exception>
        #
        #public static InventTransId splitReturnLine(TradeInventTransId _inventTransId, SalesQty _newQtyOrdered
        #    , PdsCWInventQty _newCWQty = 0
        #    )
        #{
        #    #OCCRetryCount
        #
        #    SalesTable      salesTable;
        #    SalesLine       origLine, origLineUpdate, newLine;
        #    SalesQty        newExpectedRetQty;
        #    InventTable     inventTable;
        #
        #    // <GEEPL>
        #    #ISOCountryRegionCodes
        #    // </GEEPL>
        #
        #    PurchLine       icPurchLine;
        #    PurchLine       icNewPurchLine;
        #    SalesLine       icOriginalSalesLine;
        #    SalesLine       icNewOriginalSalesLine;
        #    SalesQty        icNewExpectedRetQty;
        #
        #    boolean checkReturnQty(SalesQty _qty, SalesQty _origQty)
        #    {
        #        boolean ret = true;
        #
        #        if( _qty >= 0)
        #        {
        #            // The quantity for Returned item must be negative.
        #            ret = checkFailed("@SYS98119");
        #        }
        #
        #        if(abs(_qty) >= abs(_origQty))
        #        {
        #            // Return qty %1 cannot be exceeded.
        #            ret = checkFailed(strFmt("@SYS116394",_origQty));
        #        }
        #
        #        return ret;
        #    }
        #
        #    try
        #    {
        #        if (_inventTransId)
        #        {
        #            origLine = SalesLine::findInventTransId(_inventTransId);
        #        }
        #
        #        if (!origLine)
        #        {
        #            //The specified Sales Order line could not be found. The operation is aborted.
        #            throw error("@SYS115232");
        #        }
        #
        #        salesTable  = SalesTable::find(origLine.SalesId);
        #
        #        if (!salesTable)
        #        {
        #            //The specified Sales order could not be found. The operation is aborted.
        #            throw error("@SYS115230");
        #        }
        #
        #        if (salesTable.returnItem())
        #        {
        #            inventTable = InventTable::find(origLine.ItemId);
        #
        #            //The quantity is in invent unit for a stocked sales line and needs to converted into sales unit.
        #            if(origLine.isStocked())
        #            {
        #                newExpectedRetQty = UnitOfMeasureConverter::convert(_newQtyOrdered,
        #                                        UnitOfMeasure::unitOfMeasureIdBySymbol(inventTable.inventUnitId()),
        #                                        UnitOfMeasure::unitOfMeasureIdBySymbol(origLine.SalesUnit),
        #                                        NoYes::Yes,
        #                                        InventTable::itemProduct(origLine.ItemId));
        #            }
        #            else
        #            {
        #                newExpectedRetQty = _newQtyOrdered;
        #            }
        #
        #            if(checkReturnQty(newExpectedRetQty, origLine.ExpectedRetQty))
        #            {
        #                ttsbegin;
        #                // create a new return line
        #                newLine.clear();
        #                newLine.initFromSalesTable(salesTable);
        #                newLine.initFromSalesLine(origLine,true,true);
        #                newLine.InventTransIdReturn = origLine.InventTransIdReturn;
        #                newLine.ReturnStatus        = ReturnStatusLine::Awaiting;
        #                newLine.ExpectedRetQty      = newExpectedRetQty;
        #                newLine.SalesQty            = 0;
        #                newLine.QtyOrdered          = 0;
        #                newLine.LineAmount          = newLine.returnLineAmount();
        #                newLine.PdsCWExpectedRetQty = _newCWQty;
        #                newLine.PdsCWQty            = 0;
        #                newLine.modifiedField(fieldNum(SalesLine,PdsCWExpectedRetQty));
        #                newLine.modifiedField(fieldNum(SalesLine,ExpectedRetQty));
        #                newLine.createLine(NoYes::No,           // Validate
        #                                NoYes::No,              // initFromSalesTable
        #                                NoYes::No,              // initFromInventTable
        #                                NoYes::No,              // calcInventQty
        #                                NoYes::Yes,             // searchMarkup
        #                                NoYes::No              // searchPrice
        #                                , false                 //_checkReservation
        #                                , false                 // _skipCreditLimitCheck
        #                                , ''                    // _oldInventTransId
        #                                , false                 // _ignoreSalesTableInventDim
        #                                , true                  // _setLineNum
        #                                , false                 // _searchAgreementLine
        #                                , null                  // _smaServiceOrderTable
        #                                , origLine.MatchingAgreementLine
        #                                );
        #
        #                // update an original splitted line
        #                origLineUpdate = SalesLine::findInventTransId(origLine.InventTransId,true);
        #
        #                // <GEEPL>
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #                {
        #                    TaxServiceTariff::insertTaxServiceTariffForNewParent(origLine.TableId, origLine.RecId, newLine.TableId, newLine.RecId);
        #                }
        #                // </GEEPL>
        #
        #                if (pdsIsCWItem(origLineUpdate.ItemId))
        #                {
        #                    origLineUpdate.PdsCWExpectedRetQty -=
        #                        newLine.PdsCWExpectedRetQty;
        #                    origLineUpdate.modifiedField(fieldNum(SalesLine,
        #                        PdsCWExpectedRetQty));
        #
        #                    origLineUpdate.PdsCWQty =
        #                        origLineUpdate.PdsCWExpectedRetQty;
        #                    origLineUpdate.PdsCWRemainInventPhysical =
        #                        origLineUpdate.PdsCWQty;
        #                }
        #
        #                origLineUpdate.ExpectedRetQty -= newLine.ExpectedRetQty;
        #                origLineUpdate.modifiedField(fieldNum(SalesLine,ExpectedRetQty));
        #
        #                origLineUpdate.SalesQty               = origLineUpdate.ExpectedRetQty;
        #                origLineUpdate.RemainSalesPhysical    = origLineUpdate.SalesQty;
        #                if (origLineUpdate.isStocked())
        #                {
        #                    origLineUpdate.QtyOrdered             = origLineUpdate.QtyOrdered -_newQtyOrdered;
        #                    origLineUpdate.RemainInventPhysical   = origLineUpdate.QtyOrdered;
        #                }
        #                origLineUpdate.LineAmount             = origLineUpdate.returnLineAmount();
        #                origLineUpdate.update();
        #
        #                // In case of IC direct delivery the new split line on the Original RO was created from the ICPO line and
        #                // needs to be updated to match the original line (e.g. prices/discounts and ref to lot being returned)
        #                if (salesTable.isInterCompanyOrder())
        #                {
        #                    changecompany(salesTable.InterCompanyCompanyId)
        #                    {
        #                        icPurchLine = PurchLine::findInventTransId(origLine.InterCompanyInventTransId);
        #
        #                        if (icPurchLine.isDropShipment())
        #                        {
        #                            icOriginalSalesLine = icPurchLine.salesLine();
        #
        #                            icNewPurchLine = PurchLine::findInventTransId(newLine.InterCompanyInventTransId);
        #                            icNewOriginalSalesLine = icNewPurchLine.salesLine(true);
        #
        #                            icNewExpectedRetQty    = icNewOriginalSalesLine.ExpectedRetQty;
        #                            icNewOriginalSalesLine.initFromSalesLine(icOriginalSalesLine,true,true,false);
        #                            icNewOriginalSalesLine.ExpectedRetQty = icNewExpectedRetQty;
        #                            icNewOriginalSalesLine.SkipUpdate = InterCompanySkipUpdate::Internal;
        #                            icNewOriginalSalesLine.LineAmount = icNewOriginalSalesLine.returnLineAmount();
        #
        #                            icNewOriginalSalesLine.InventTransIdReturn      = icOriginalSalesLine.InventTransIdReturn;
        #                            // <GEERU>
        #                            icNewOriginalSalesLine.RefReturnInvoiceTrans_W  = icOriginalSalesLine.RefReturnInvoiceTrans_W;
        #                            // </GEERU>
        #                            icNewOriginalSalesLine.ReturnStatus             = icOriginalSalesLine.ReturnStatus;
        #                            icNewOriginalSalesLine.update();
        #                        }
        #                    }
        #                }
        #                ttscommit;
        #
        #            }
        #            else
        #            {   //Update has been canceled.
        #                throw error("@SYS18738");
        #            }
        #        }
        #        else
        #        {
        #            //The specified Sales order is not of type Return order. The operation is aborted.
        #            throw error("@SYS115231" );
        #        }
        #    }
        #    catch (Exception::Deadlock)
        #    {
        #        retry;
        #    }
        #    catch (Exception::UpdateConflict)
        #    {
        #        if (appl.ttsLevel() == 0)
        #        {
        #            if (xSession::currentRetryCount() >= #RetryNum)
        #            {
        #                throw Exception::UpdateConflictNotRecovered;
        #            }
        #            else
        #            {
        #                retry;
        #            }
        #        }
        #        else
        #        {
        #            throw Exception::UpdateConflict;
        #        }
        #    }
        #    return newLine.InventTransId;
        #}
      ENDSOURCE
      SOURCE #updateSalesLine_IN
        #// <GIN>
        #static void updateSalesLine_IN(SalesIdBase  _salesId,
        #                               NoYesId      _custExportOrder)
        #{
        #    SalesLine                       salesLineLoc;
        #    SalesLine_IN                    salesLine_IN;
        #    CustomsExportAssessableValue_IN customsExportAssessableValue;
        #
        #    while select forupdate salesLineLoc
        #        where salesLineLoc.SalesId == _salesId
        #    {
        #        salesLine_IN = salesLineLoc.salesLine_IN();
        #
        #        ttsbegin;
        #        if (_custExportOrder == NoYes::Yes)
        #        {
        #            customsExportAssessableValue = CustomsExportAssessableValue_IN::findInventTransId(salesLineLoc.InventTransId);
        #            if (customsExportAssessableValue.RecId != 0)
        #            {
        #                ttsbegin;
        #                customsExportAssessableValue.selectForUpdate(true);
        #                customsExportAssessableValue.Amount = salesLineLoc.LineAmount;
        #                customsExportAssessableValue.Value  = CustomsExportAssessableValue_IN::getMarkupValue(salesLineLoc.TableId, salesLineLoc.RecId, salesLineLoc.InventTransId);
        #                customsExportAssessableValue.update();
        #                ttscommit;
        #                salesLine_IN.AssessableValue_IN = CustomsExportAssessableValue_IN::findInventTransId(salesLineLoc.InventTransId).invoiceAssessableValue();
        #            }
        #            else
        #            {
        #                salesLine_IN.AssessableValue_IN = salesLineLoc.LineAmount - CustomsExportAssessableValue_IN::getMarkupValue(salesLineLoc.TableId, salesLineLoc.RecId, salesLineLoc.InventTransId);
        #            }
        #        }
        #        else
        #        {
        #            salesLine_IN.AssessableValue_IN = salesLineLoc.getMiscChargesAmount_IN();
        #        }
        #
        #        salesLineLoc.packSalesLine_IN(salesLine_IN);
        #        salesLineLoc.update();
        #        ttscommit;
        #    }
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #updateTradeInReference
        #// NAXT EQ0058 Trade-in line on quote (KB8888)
        #static void updateTradeInReference(SalesLine             _salesLine,
        #                                   RefRecId              _tradeInReferenceId,
        #                                   XAP_InventEquipmentId _equipmentId,
        #                                   DimensionValue        _equipmentDim = '')
        #{
        #    InventDim       inventDim;
        #
        #    _salesLine.TradeInRefRecId = _tradeInReferenceId;
        #
        #    inventDim = _salesLine.inventDim();
        #    inventDim.InventEquipmentId = _equipmentId;
        #    inventDim = InventDim::findOrCreate(inventDim);
        #
        #    _salesLine.InventDimId = inventDim.InventDimId;
        #
        #    if (_equipmentDim)
        #    {
        #        _salesLine.DefaultDimension = XAP_DimensionHandler::updateDimension(_salesLine.DefaultDimension, XAP_DimensionEntryCode::Equipment, _equipmentId);
        #    }
        #}
      ENDSOURCE
      SOURCE #updateTradeInTransactions
        #// NAXT EQ0058 Trade-in line on quote (KB8888)
        #static void updateTradeInTransactions(RecId                 _equipmentSalesLineRecId,
        #                                      XAP_InventEquipmentId _equipmentId  = '',
        #                                      boolean               _deleteAction = false)
        #{
        #    SalesLine       salesLine;
        #    InventDim       inventDim;
        #
        #    ttsbegin;
        #
        #    while select forupdate salesLine
        #        where salesLine.TradeIn
        #           && salesLine.TradeInRefRecId == _equipmentSalesLineRecId
        #    {
        #        if (_deleteAction)
        #        {
        #            salesLine.delete();
        #        }
        #        else
        #        {
        #            inventDim = salesLine.inventDim();
        #            inventDim.InventEquipmentId = _equipmentId;
        #            inventDim = InventDim::findOrCreate(inventDim);
        #            salesLine.InventDimId = inventDim.InventDimId;
        #
        #            salesLine.DefaultDimension = XAP_DimensionHandler::updateDimension(salesLine.DefaultDimension, XAP_DimensionEntryCode::Equipment, _equipmentId);
        #
        #            //<NAXT_Lifecycle>
        #            if (salesLine.validateWrite())
        #            {
        #                salesLine.update();
        #            }
        #            else
        #            {
        #                throw Exception::Error;
        #            }
        #            //</NAXT_Lifecycle>
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
    ENDMETHODS
    EVENTS
      METHOD #insert
        EVENTHANDLERS
          EVENTHANDLER #generateCostBreakdownLines
            PROPERTIES
              CalledWhen          #Post
              Class               #XAP_SalesCostBreakdownLinesHandler
              Method              #generateCostBreakdownLinesEvent
              AOTlink             #\Classes\XAP_SalesCostBreakdownLinesHandler\generateCostBreakdownLinesEvent
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
      METHOD #onAfterInitFromSalesQuotationLine
        EVENTHANDLERS
          EVENTHANDLER #SetReturnConditionEventHandler
            PROPERTIES
              Class               #XAP_PICEventHandler
              Method              #onAfterInitFromSalesQuotationLine
              AOTlink             #\Classes\XAP_PICEventHandler\onAfterInitFromSalesQuotationLine
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
      METHOD #returnConditionCustomValidation
        EVENTHANDLERS
          EVENTHANDLER #ValidateReturnConditionEventHandler
            PROPERTIES
              Class               #XAP_PICEventHandler
              Method              #validateReturnCondition
              AOTlink             #\Classes\XAP_PICEventHandler\validateReturnCondition
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
      METHOD #salesQtyCustomValidation
        EVENTHANDLERS
          EVENTHANDLER #ValidateSalesQtyEventHandler
            PROPERTIES
              Class               #XAP_PICEventHandler
              Method              #validateSalesQty
              AOTlink             #\Classes\XAP_PICEventHandler\validateSalesQty
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
    ENDEVENTS
  ENDTABLE
  

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #SalesTable
  PROPERTIES
    Name                #SalesTable
    FormTemplate        #DetailsPage
    InteractionClass    #SalesTableInteraction
    Origin              #{0B0A0000-0000-1000-B787-EA7473546162}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #class       FormRun
      #extends     ObjectRun
      #{
      #    boolean                         isCalledFromLP;
      #    SalesTableForm                  salesTableForm;
      #    SalesTableType                  salesTableType;
      #    SalesId                         newSalesId;
      #
      #    boolean                         isReturnFieldsEnabled;
      #    boolean                         isDocuActionTemplate;
      #    //<GTH>
      #    boolean                         isSalesTableExtensionTHEnabled;
      #    //</GTH>
      #    boolean                         isSalesTableWEnabled;
      #
      #
      #    // Used for validateWrite and write to update tax groups on misc. charges and header2lines updates
      #    DialogButton                    copyTaxGroupToMarkupTrans;
      #    SalesTable2LineUpdatePrompt     salesTable2LineUpdatePrompt;
      #
      #    QueryBuildRange                 queryBuildRangeProjId;
      #    QueryBuildRange                 queryBuildRangeSalesId;
      #
      #    InventDimCtrl_Frm_Mov           inventDimFormSetup;
      #
      #    SalesId                         oldSalesId;
      #
      #    boolean                         headerError;
      #    boolean                         askingModifyInvoiced;
      #
      #    QuotationId                     lastQuotation;
      #    TransDate                       lastQuotationDate;
      #    ConfirmId                       lastConfirm;
      #    TransDate                       lastConfirmDate;
      #    PickingListId                   lastPickingList;
      #    TransDate                       lastPickingListDate;
      #    PackingSlipId                   lastPackingSlip;
      #    TransDate                       lastPackingSlipDate;
      #    InvoiceId                       lastInvoice;
      #    TransDate                       lastInvoiceDate;
      #    //PBA begin
      #    boolean                         autoConfig;
      #    boolean                         deleting;
      #    // PBA end
      #
      #    Object                          tmpSalesTableTaxTransForm;
      #    // <GIN>
      #    Object                          tmpSalesTableTaxWithholdTransForm;
      #    boolean                         isIndiaIndirectTaxParameterMarked;
      #    boolean                         isIndiaWHTMarked;
      #    TaxExciseTypeController_IN      taxExciseTypeController;
      #    boolean                         isSalesLine_INEnabled;
      #    boolean                         isIN;
      #    // </GIN>
      #
      #    RecId                           interCompanyIsPriceDiscSearchNeeded;
      #
      #    boolean                         cashDiscOnInvoice;
      #
      #    Addressing                      oldThirdPartyBillingAddr;
      #
      #    LedgerDimensionDefaultAccountController     ledgerDefaultAccountController;
      #
      #    boolean                         keepName; // When set to false Name is defaulted from category description.
      #    LogisticsLocationRecId          postalAddressLocation;
      #
      #    BankLCExportFeatureChecker      bankLCExportFeatureChecker;
      #    BankLGFeatureChecker            bankLGFeatureChecker;
      #    boolean                         enableLCFeature;
      #    boolean                         enableLGFeature;
      #
      #    DimensionDefaultingController   dimensionDefaultingControllerTable;
      #    DimensionDefaultingController   dimensionDefaultingControllerLine;
      #
      #    // <GGH>
      #    DimensionDefaultingController   dimensionDefaultingControllerLineProduct;
      #    // </GGH>
      #
      #    ImageListAppl                   imageList;
      #    InventItemBarcode               itemBarcode;
      #    // <GEERU>
      #    boolean                         isRU;
      #    Map                             itemInventDimSetupCache;
      #    #ISOCountryRegionCodes
      #    // </GEERU>
      #    // <GCN>
      #    boolean                         taxIntegrationSystem_CN;
      #    // </GCN>
      #
      #    DueDate                         priorDueDate;
      #
      #    // <GBR>
      #    SalesPurchOperationTypeController_BR salesPurchOperationTypeController_BR;
      #    // </GBR>
      #    // <GEEU>
      #    boolean                         countryRegion_EEU;
      #    // </GEEU>
      #
      #    //<GTH>
      #    boolean                         isUnrealizedVATEnabled;
      #    //</GTH>
      #    // <GEEPL>
      #    boolean                         countryRegion_PL;
      #    // </GEEPL>
      #
      #    boolean                         skipLinkActive;
      #    boolean                         linkActiveHeaderExecuted;
      #
      #    CustParameters                  custParameters;
      #
      #    // <NAXT>
      #    XAP_SvcSegmentTable             callerSegmentTable;
      #    // </NAXT>
      #
      #    // <NAXT> TFS_9179
      #    DialogButton          diagBut;
      #    str                   strMessage;
      #    str                   strTitle;
      #    // </NAXT>
      #
      #    // <NAXT CU4>
      #    RefRecId                        pwcLookupRefRecId;
      #    // </NAXT CU4>
      #
      #    //<GGH> TFS_29434
      #    boolean                         orderClassDesignAppliedByInit;
      #    //</GGH> TFS_29434
      #
      #    //<GGH> TFS_32315
      #    XAP_OrderClassRecId             orderClassRecId;
      #    XAP_SalesOrderLayoutTypeEnum    salesOrderLayoutType;
      #    //</GGH> TFS_32315
      #
      #}
    ENDSOURCE
    SOURCE #allowEditIssueOwnEntryCertificate_W
      #/// <summary>
      #///    This method allows or restricts editing of the <c>Issue own certificate</c> field
      #///    depending on the value of the <c>Entry certificate required</c> field.
      #/// </summary>
      #void allowEditIssueOwnEntryCertificate_W()
      #{
      #    SalesTable_W_ds.object(fieldNum(SalesTable_W, IssueOwnEntryCertificate_W)).allowEdit(salesTable_W.EntryCertificateRequired_W);
      #}
    ENDSOURCE
    SOURCE #allowEditLedgerAccount_RU
      #boolean allowEditLedgerAccount_RU()
      #{
      #    boolean allowEdit;
      #
      #    if (itemInventDimSetupCache && salesLine.ItemId)
      #    {
      #        if (itemInventDimSetupCache.exists(salesLine.ItemId))
      #        {
      #            allowEdit = itemInventDimSetupCache.lookup(salesLine.ItemId);
      #        }
      #        else
      #        {
      #            allowEdit = ! EcoResDimensionGroupSetup::isInventoryDimensionActiveForItem(salesLine.ItemId,
      #                                                                                       fieldNum(InventDim, InventProfileId_RU));
      #            itemInventDimSetupCache.insert(salesLine.ItemId, allowEdit);
      #        }
      #    }
      #
      #    return allowEdit;
      #}
    ENDSOURCE
    SOURCE #applyBackOrderLinesSelection
      #/// <summary>
      #/// If form was called by BackOrderLines list page, applies additional ranges to the form data source to show only sales orders that were selected in a list page.
      #/// </summary>
      #/// <remarks>
      #/// If form called not from BackOrderLines list page no action is taken.
      #/// </remarks>
      #
      #private void applyBackOrderLinesSelection()
      #{
      #    Map             selectedSalesIds;
      #    MapEnumerator   en;
      #
      #    if (!this.isCalledFromSalesLineBackOrderListPage() || !element.args().record())
      #    {
      #        return;
      #    }
      #
      #    // Apply filter to show only Sales Orders selected in a list form.
      #    selectedSalesIds = SalesLineBackOrderListPageInteraction::getSalesIdsSelected(element.args().record().dataSource());
      #    if (selectedSalesIds)
      #    {
      #        // Dynalinks should be cleared before applying a ranges to prevent displaying only lines, selected in list page!
      #        salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
      #
      #        en = new MapEnumerator(selectedSalesIds);
      #        while (en.moveNext())
      #        {
      #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,SalesId)).value(en.currentValue());
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #automaticTotalDiscount
      #public void automaticTotalDiscount()
      #{
      #    if (CustParameters::find().AutomaticTotalDiscount)
      #    {
      #        salesTable.updateFinalDisc();
      #        // CreditLimit calculation should only be triggered if updateFinalDisc() changes the DiscPercent which is indicated by touched.
      #        // save the value since it is lost by reread().
      #        if (salesTable.Touched)
      #        {
      #            // Reread the buffer since updateFinalDisc() can call update().
      #            salesTable_ds.reread();
      #            salesTable_ds.refresh();
      #            // This will trigger the creditlimit calculation when salesTable.validateWrite is called.
      #            salesTable_ds.setTouched();
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #canClose
      #public boolean canClose()
      #{
      #    boolean  ret;
      #
      #    if (!salesLine.PBAItemLine::checkMandatory() )
      #    {
      #        return false;
      #    }
      #
      #    ret = super();
      #
      #    if (element.closedCancel() && ret)
      #    {
      #        ret = salesTableForm.canClose(salesTable);
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #changeType
      #void  changeType()
      #{
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodSalesTypeModifiedPreChange(element, salesTable_ds, true);
      #    }
      #
      #    salesTableType = salesTable.type();
      #
      #    salesTableType.formMethodSalesTypeModifiedPostChange(element, salesTable_ds, true);
      #
      #    salesTableForm.enableAvailableDlvDatesButtons(salesTable,
      #                                                  salesAvailableDlvDatesHeader,
      #                                                  salesAvailableDlvDatesLine,
      #                                                  salesLine.LineDeliveryType);
      #    element.configBankDocumentControls();
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable_RU, AgreementHeaderExt_RU)).allowEdit(salesTableType.canAgreementBeLinked());
      #    }
      #    // </GEERU>
      #}
    ENDSOURCE
    SOURCE #checkCreditNoteLine
      #void  checkCreditNoteLine()
      #{
      #    // Additional check of returned item disables all these fields, if the -ve qty salesline is of type returned item.
      #    boolean creditNote =
      #    salesLine.SalesQty &&
      #    salesLine.creditNoteLine(
      #    salesTable
      #    )
      #    && !salesTable.returnItem();
      #
      #    boolean editCostPrice   = !salesLine.InventTransIdReturn || !InventTable::find(salesLine.ItemId).modelGroup().inventModelType().stdCostBased();
      #
      #    salesLine_ds.object(fieldNum(SalesLine, Scrap)).allowEdit(creditNote && salesLine.deliveredInTotal() == 0);
      #    salesLine_ds.object(fieldNum(SalesLine, Scrap)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).allowEdit(creditNote);
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, CostPrice)).allowEdit((creditNote && editCostPrice));
      #    salesLine_ds.object(fieldNum(SalesLine, CostPrice)).skip(!(creditNote && editCostPrice));
      #
      #    if (salesLine.Scrap && salesLine.SalesQty >= 0)
      #    {
      #        salesLine.Scrap = NoYes::No;
      #    }
      #    // <GIN>
      #    if(isIndiaIndirectTaxParameterMarked && !salesTable.returnItem())
      #    {
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(creditNote);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #    }
      #    // </GIN>
      #}
    ENDSOURCE
    SOURCE #close
      #void  close()
      #{
      #//    salesTableForm.isAdvanced(true);
      #    if (salesTableForm)
      #    {
      #        xSysLastValue::saveLast(salesTableForm);
      #    }
      #
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodClose();
      #    }
      #
      #    // <GGH> TFS 34076
      #    tmpSalesTableTaxTransForm = null;
      #    tmpSalesTableTaxWithholdTransForm = null;
      #    ledgerDefaultAccountController = null;
      #    imageList = null;
      #    if(inventDimFormSetup)
      #    {
      #        inventDimFormSetup.parmCallingElement(null);
      #    }
      #    inventDimFormSetup = null;
      #    salesTableType = null;
      #    salesTableForm = null;
      #    if(salesTable2LineUpdatePrompt)
      #    {
      #        salesTable2LineUpdatePrompt.finalize();
      #    }
      #    System.GC::Collect(System.GC::get_MaxGeneration(),System.GCCollectionMode::Forced,false);
      #    // </GGH>
      #    super();
      #}
    ENDSOURCE
    SOURCE #configBankDocumentControls
      #/// <summary>
      #///     Configs the BankDocument Controls.
      #/// </summary>
      #public void configBankDocumentControls()
      #{
      #    boolean enableDocumentType = false;
      #
      #    if (enableLCFeature
      #        || enableLGFeature)
      #    {
      #        enableDocumentType = salesTable.type().mayBankDocumentTypeBeModified();
      #        element.configPaymentGroupControls();
      #        salesTable_DS.object(fieldNum(SalesTable, BankDocumentType)).allowEdit(enableDocumentType);
      #    }
      #}
    ENDSOURCE
    SOURCE #configPaymentGroupControls
      #/// <summary>
      #/// Configs the payment group controls.
      #/// </summary>
      #private void configPaymentGroupControls()
      #{
      #    boolean flag;
      #
      #    flag = !salesTable.isMarkedForBankLC();
      #
      #    salesTable_DS.object(fieldNum(SalesTable, Payment)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, FixedDueDate)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymMode)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymSpec)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymentSched)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, CashDisc)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, SettleVoucher)).enabled(flag);
      #
      #    payment_M_editCreditCard.enabled(flag);
      #}
    ENDSOURCE
    SOURCE #createAgreementLink
      #public void createAgreementLink()
      #{
      #    AgreementLine                           localAgreementLine;
      #    Args                                    args;
      #    FormRun                                 formRun;
      #    SalesTableForm_DlvScheduleSyncEnabled   salesTableFormDlvSchedule;
      #    SalesLine                               origSalesLine;
      #
      #    args = new Args(formStr(AgreementLinePrompt));
      #    args.caller(element);
      #    args.record(salesLine);
      #    args.parm(int642str(salesTable.MatchingAgreement));
      #    formRun = classfactory.formRunClass(args);
      #    formRun.init();
      #    formRun.run();
      #    formRun.wait(true);
      #    localAgreementLine = args.record() as AgreementLine;
      #
      #    if (localAgreementLine)
      #    {
      #        // Make the snapshot of the salesLine before it gets associated with agreement
      #        origSalesLine = salesLine.data().orig();
      #
      #        ttsbegin;
      #
      #        SalesTableForm::createAgreementLinkServer(salesLine, localAgreementLine);
      #
      #        if (salesLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            salesTableFormDlvSchedule = salesTableForm as SalesTableForm_DlvScheduleSyncEnabled;
      #            salesTableFormDlvSchedule.parmOrderLineOrig(origSalesLine);
      #            if (salesTableFormDlvSchedule.deliveryLinesSync(salesLine, false))
      #            {
      #                // Need to refresh delivery lines on grid.
      #                salesLine_DS.executeQuery();
      #            }
      #        }
      #
      #        ttscommit;
      #        // <GEERU>
      #        salesLine_DS.research(true);
      #        // </GEERU>
      #
      #        //Re-evaluate agreement line actions
      #        element.enableLineAgreementActions();
      #    }
      #}
    ENDSOURCE
    SOURCE #docCursor
      #public Common docCursor()
      #{
      #    Common docCursor;
      #
      #    docCursor = super();
      #
      #    if (docCursor.TableId == tableNum(InventDim))
      #    {
      #        docCursor = salesLine;
      #    }
      #
      #    return docCursor;
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #void doRefresh(boolean _lineRefreshNeeded = false)
      #{
      #    salesTable_ds.reread();
      #    salesTable_ds.refresh();
      #
      #    if (_lineRefreshNeeded)
      #    {
      #        salesLine_ds.reread();
      #        salesLine_ds.refresh();
      #    }
      #    else
      #    {
      #        salesLine_ds.research();
      #    }
      #}
    ENDSOURCE
    SOURCE #editLinesAllowed
      #// <NAXT>
      #// Deal sheet
      #public boolean editLinesAllowed()
      #{
      #    return salesLine_ds.allowEdit();
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #editSales
      #public void editSales(boolean _allowEdit, boolean _allowDelete = _allowEdit)
      #{
      #
      #
      #    salesTable_ds.allowEdit    (_allowEdit);
      #    salesTable_ds.allowDelete  (_allowEdit && _allowDelete);
      #    salesLine_ds.allowEdit     (_allowEdit);
      #    salesLine_ds.allowCreate   (_allowEdit);
      #    salesLine_ds.allowDelete   (_allowEdit && _allowDelete);
      #
      #    // <GGH>
      #    GroupTestHeading.visible(salesTableForm.parmPostedPrepaymentIsActive());
      #    // </GGH>
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        SalesTable_BR_DS.enableDataSourceFields_BR();
      #        buttonLineQuickQuote.enabled(_allowEdit);
      #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
      #        {
      #            retailAddItemMenuItem.enabled(_allowEdit);
      #        }
      #    }
      #    // </GBR>
      #}
    ENDSOURCE
    SOURCE #enableEximInquiry_IN
      #// <GIN>
      #public void enableEximInquiry_IN()
      #{
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                              EximAuthorizationType_IN::AA,
      #                                                              EximAuthorizationBasis_IN::Purchase)
      #                                                              || salesLine.SalesQty < 0)
      #    {
      #        eximAA_IN.enabled(false);
      #    }
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                              EximAuthorizationType_IN::DFIA,
      #                                                              EximAuthorizationBasis_IN::Purchase)
      #        || salesLine.SalesQty < 0)
      #    {
      #        eximDFIA_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableFieldsActive_IN
      #// <GIN>
      #public void enableFieldsActive_IN()
      #{
      #
      #    customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes    && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_CustomsMaxRetailPrice_IN.visible(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_MaximumRetailPrice_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::No);
      #
      #    element.setEximFieldsAccess_IN();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableForeignTrade_RU
      #public void enableForeignTrade_RU()
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, InvoiceGTDId_RU)).enabled(
      #        salesLine_ds.object(fieldNum(SalesLine, CountryRegionName_RU)).enabled(! salesLine.isStocked())
      #    );
      #}
    ENDSOURCE
    SOURCE #enableHeaderCreditCardMenuItems
      #/// <summary>
      #/// Sets the status of header level credit card menu items.
      #/// </summary>
      #public void enableHeaderCreditCardMenuItems()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    salesTableInteractionHelper.initLineActions(salesTable, salesLine);
      #
      #    creditCardPreauthorize.enabled(salesTableInteractionHelper.parmCanCreditCardPreAuthorizeEnabled());
      #    creditCardWizard.enabled(salesTableInteractionHelper.parmCreditCardWizardEnabled());
      #}
    ENDSOURCE
    SOURCE #enableInventExtPurchButton
      #public void enableInventExtPurchButton()
      #{
      #    PlInventExternalForProcessing   inventExternalForProcessing;
      #
      #    select firstonly RecId from inventExternalForProcessing
      #        where salesLine.RecId   == inventExternalForProcessing.SalesLineRecRecId;
      #
      #    plPurchCreateForExternal.enabled(inventExternalForProcessing.RecId);
      #}
      #
    ENDSOURCE
    SOURCE #enableLineAgreementActions
      #/// <summary>
      #/// Sets the status of header credit card menu items.
      #/// </summary>
      #/// <remarks>
      #///    Invoked whenever a link to an agreement is created or removed for the order line line.
      #/// </remarks>
      #public void enableLineAgreementActions()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    salesTableInteractionHelper.initLineActions(salesTable, salesLine);
      #    salesTableInteractionHelper.setSalesTableForm(salesTableForm);
      #
      #    salesAgreementLine.enabled(salesTableInteractionHelper.parmAgreementLineEnabled());
      #    createLink.enabled(salesTableInteractionHelper.parmAgreementCreateLinkEnabled());
      #    removeLink.enabled(salesTableInteractionHelper.parmAgreementRemoveLinkEnabled());
      #}
    ENDSOURCE
    SOURCE #enableLinePBAActions
      #/// <summary>
      #/// Sets the status of line level PBA menu items.
      #/// </summary>
      #[SysObsoleteAttribute('Enabling and disabling of these buttons are handled in the salesTableInteraction class.', true)]
      #public void enableLinePBAActions()
      #{
      #}
    ENDSOURCE
    SOURCE #gotoLines
      #void gotoLines()
      #{
      #    salesLineGrid.setFocus();
      #}
    ENDSOURCE
    SOURCE #hideQualityManagement
      #void hideQualityManagement()
      #{
      #    salesTable_qualityOrderStatusDisplay.visible(false);
      #    salesLineStatus_qualityOrderStatus.visible(false);
      #    status_qualityOrderStatusDisplay.visible(false);
      #    salesLine_QualityOrderStatus.visible(false);
      #
      #    inventNonConformanceTableHeader.visible(false);
      #    inventQualityOrderTableHeader.visible(false);
      #    inventNonConformanceTableLine.visible(false);
      #    inventQualityOrderTableLine.visible(false);
      #    inventTestCertOfAnalysisTable.visible(false);
      #
      #    lineStripProductQualitySeparator.visible(false);
      #}
    ENDSOURCE
    SOURCE #init
      #public void  init()
      #{
      #    FormRun callerForm;
      #    Common  callerFormRecord;
      #    Object  caller;
      #    boolean wasCalledFromSalesLineBackOrderListPage = this.isCalledFromSalesLineBackOrderListPage();
      #    boolean wasCalledFromSalesTableListPageProject  = this.isCalledFromSalesTableListPageProject();
      #    boolean enableConfigurationFeature              = PBALib::isConfigurationKeyEnabled();
      #    //<GGH> TFS_29434
      #    SysSetupFormRun sysSetupFormRun;
      #    //</GGH> TFS_29434
      #    //<GGH> TFS ID 29647
      #    SecurityRights          rights = SecurityRights::construct();
      #    AccessRight             accessLevel;
      #    //</GGH>
      #    #ISOCountryRegionCodes
      #    // <GGH>
      #    #resAppl
      #    // <GGH>
      #
      #    custParameters = custParameters::find();
      #
      #    // <GCN>
      #    taxIntegrationSystem_CN = CustParameters::isTaxIntegrationSystem_CN();
      #    // </GCN>
      #
      #    // <GIN>
      #    isIN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
      #    if (isIN)
      #    {
      #        isIndiaIndirectTaxParameterMarked = TaxParameters::checkTaxParameters_IN();
      #        isIndiaWHTMarked                  = TaxWithholdParameters_IN::checkTaxParameters();
      #        isSalesLine_INEnabled             = SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_IN));
      #    }
      #    // </GIN>
      #
      #    // <GEERU>
      #    // has to be before super to be used in methods such as FormDataSource.init()
      #    isRU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
      #    // </GEERU>
      #    // <GEEPL>
      #    countryRegion_PL = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]);
      #    // </GEEPL>
      #
      #    isCalledFromLP = TradeFormHelper::isCalledFromForm(element.args(), formStr(SalesTableListPage));
      #
      #    if (element.args() && !isCalledFromLP)
      #    {
      #        element.args().copyCallerQuery(CopyCallerQuery::No);
      #    }
      #
      #    super();
      #    isDocuActionTemplate = DocuActionForTemplate::createTemplateOnMenuButton(mbTemplatesButton, salesTable.TableId);
      #    FormSecurity::setFormDataSourceMaxAccessRight(this);
      #
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        itemInventDimSetupCache = new Map(Types::String, Types::Enum);
      #    }
      #    // </GEERU>
      #    // <GEEU>
      #    countryRegion_EEU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT, #isoLV, #isoEE, #isoCZ, #isoPL, #isoHU, #isoRU]);
      #    // </GEEU>
      #
      #    // Initialization specifically for projects
      #    // Only show sales orders associated to projects if form is called from the project main menu
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Project)
      #    {
      #        if (! element.args().record()) // called from menu
      #        {
      #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable, ProjId)).value(SysQuery::valueNotEmptyString());
      #        }
      #    }
      #
      #    // Initialization specifically for Journals
      #    // Do not allow order type change if form was called from Sales journal menu items
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Journal)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, SalesType)).allowEdit(false);
      #        salesTable_SalesType.allowEdit(false);
      #    }
      #
      #    // <NAXT>
      #    if (element.args().record() && element.args().record().TableId == tableNum(XAP_SvcSegmentTable))
      #    {
      #        callerSegmentTable = element.args().record();
      #
      #        if (element.args().parmEnumType() == enumNum(XAP_SvcPartTool) && element.args().parmEnum() == XAP_SvcPartTool::Tool)
      #        {
      #            SysQuery::findOrCreateRange(salesTable_ds.query().dataSourceTable(tableNum(SalesTable)), (fieldNum(SalesTable, SalesId))).value(queryValue(callerSegmentTable.ToolSalesId));
      #        }
      #        else
      #        {
      #            SysQuery::findOrCreateRange(salesTable_ds.query().dataSourceTable(tableNum(SalesTable)), (fieldNum(SalesTable, SalesId))).value(queryValue(callerSegmentTable.SalesId));
      #        }
      #    }
      #    // </NAXT>
      #
      #    // Initialization specifically for BackOrderLines list page...
      #    if (wasCalledFromSalesLineBackOrderListPage)
      #    {
      #        this.applyBackOrderLinesSelection();
      #    }
      #
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId))
      #    {
      #        salesTableForm = SalesTableForm::construct(element.args().parmEnum(), element.args().record());
      #    }
      #    else if (wasCalledFromSalesTableListPageProject)
      #    {
      #        callerForm = element.args().caller();
      #        callerFormRecord = callerForm.args().record();
      #        salesTableForm = SalesTableForm::construct(SalesTableFormId::Project, callerFormRecord);
      #    }
      #    else
      #    {
      #        salesTableForm = SalesTableForm::construct(SalesTableFormId::None, element.args().record());
      #    }
      #
      #    // Update group separator visibility...
      #    // (group contains a single button)
      #    lineStripFinancialsIntroduceSeparator.visible(
      #        buttonCustVendCreditInvoicingLines.isVisible());
      #
      #    TaxVATNumTable::enableLookupVATNum(vatNum);
      #
      #    element.updateDesign(InventDimFormDesignUpdate::Init);
      #    element.updateRFIDTagging();
      #
      #    salesLineGrid.visibleColsValue(8+conLen(inventDimFormSetup.dimFieldsActive(inventDimFormSetup.parmDimParmVisibleGrid())));
      #
      #    salesTable_ds.object(fieldNum(SalesTable, SalesType)).allowEdit(salesTableForm.editSalesType());
      #
      #    salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
      #    salesLine_ds.query(salesTableForm.querySalesLine(salesLine_ds.query()));
      #
      #    groupNotificationToTheCentralBank.visible(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]));
      #
      #    if (!TaxParameters::find().CashDiscOnInvoice)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, CashDiscPercent)).allowEdit(false);
      #    }
      #
      #    if (!InventParameters::find().UseQualityManagement)
      #    {
      #        element.hideQualityManagement();
      #    }
      #
      #    bankLGFeatureChecker    = BankLGFeatureChecker::construct();
      #    enableLGFeature         = bankLGFeatureChecker.checkFeatureEnabled();
      #    bankLGRequestForm.visible(enableLGFeature);
      #
      #    bankLCExportFeatureChecker = BankLCExportFeatureChecker::construct();
      #    enableLCFeature = bankLCExportFeatureChecker.checkFeatureEnabled();
      #    salesTable_DS.object(fieldNum(SalesTable, BankDocumentType)).visible(enableLCFeature || enableLGFeature);
      #    buttonCreateBankLCExport.visible(enableLCFeature);
      #
      #    ledgerDefaultAccountController         = LedgerDimensionDefaultAccountController::construct(salesLine_ds, fieldStr(SalesLine, LedgerDimension));
      #    ledgerDefaultAccountController.parmControl(linePosting_LedgerDimension);
      #
      #    dimensionDefaultingControllerTable = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionTable, "@SYS138487");
      #    dimensionDefaultingControllerTable.parmAttributeValueSetDataSource(salesTable_ds, fieldStr(SalesTable, DefaultDimension));
      #
      #    DimensionDefaultingController::initContainerId(tabFinancialDimensionLine, 2);
      #    /*
      #    <SYS>
      #    dimensionDefaultingControllerLine = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionLine, "@SYS138487");
      #    </SYS>
      #    */
      #    // <GGH>
      #    dimensionDefaultingControllerLine = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionLine, "@GGH685");
      #    // </GGH>
      #    dimensionDefaultingControllerLine.parmAttributeValueSetDataSource(salesLine_ds, fieldStr(SalesLine, DefaultDimension));
      #
      #    // <GGH>
      #    dimensionDefaultingController::initContainerId(TabPageProduct, 3);
      #    dimensionDefaultingControllerLineProduct = DimensionDefaultingController::constructInTabWithValues(true, false, true, 0, this, TabPageProduct, "@GGH686");
      #    dimensionDefaultingControllerLineProduct.parmAttributeValueSetDataSource(salesLine_ds, fieldStr(SalesLine, DefaultDimensionIssue));
      #    // </GGH>
      #
      #    pbaExecute.visible(enableConfigurationFeature);
      #
      #    //<GMX>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
      #    {
      #        this.updateDesign_MX();
      #    }
      #    //</GMX>
      #
      #    imageList = new ImageListAppl_DeliverySchedule();
      #    // <GGH>
      #    imageList.add(#ImageBOM);
      #    // </GGH>
      #    lineDeliveryType.imageList(imageList.imageList());
      #    // <GGH>
      #    EQPartslineDeliveryType.imageList(imageList.imageList());
      #    EQlineDeliveryType.imageList(imageList.imageList());
      #    // </GGH>
      #
      #    // Needed to check validity of address
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressShipCarrierHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    if (#PmfEnabled)
      #    {
      #        bomPriceCalc.text("@PDS1468");
      #    }
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressShipCarrierLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #
      #    //<GIN>
      #    if (isIndiaIndirectTaxParameterMarked || isIndiaWHTMarked)
      #    {
      #        element.setTaxWithholdVisible_IN();
      #        element.setVisible_IN();
      #    }
      #
      #    if(isIndiaIndirectTaxParameterMarked)
      #    {
      #        taxExciseTypeController = TaxExciseTypeController_IN::construct(exciseNone_IN,
      #                                                                        exciseManufacture_IN,
      #                                                                        exciseTraders_IN,
      #                                                                        taxInformation_IN_ECCNumber,
      #                                                                        taxInformation_IN_ManECCRegistrationNumberTable,
      #                                                                        taxInformation_IN_TraderECCRegistrationNumberTable,
      #                                                                        salesLine_IN_DS);
      #        taxExciseTypeController.parmFieldNumDirectSettlement(fieldNum(SalesLine_IN, DirectSettlement_IN));
      #        taxExciseTypeController.parmFieldNumDSA(fieldNum(SalesLine_IN, dsa_in));
      #    }
      #    // </GIN>
      #
      #    // <GJP>
      #    element.updateDesignConsInvoice_JP();
      #    // </GJP>
      #
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        this.initDesign_RU();
      #    }
      #    // </GEERU>
      #
      #    // <GBR>
      #    salesTable_BR_ds.object(fieldNum(SalesTable_BR, cfpsId_BR)).visible(BrazilParameters::isCFPSEnabled_BR());
      #    salesPurchOperationTypeController_BR = new SalesPurchOperationTypeController_BR(this.name());
      #    // </GBR>
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
      #    {
      #        salesTable_DS.object(fieldNum(SalesTable, StatProcId)).visible(false);
      #        salesLine_DS.object(fieldNum(SalesLine,  StatProcId)).visible(false);
      #    }
      #
      #    //<GTH>
      #    isUnrealizedVATEnabled = TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled();
      #    if (isUnrealizedVATEnabled)
      #    {
      #        this.updateDesignForUnrealizedVAT();
      #    }
      #    //</GTH>
      #
      #    if (element.args().parmEnumType() == enumNum(FormOpenMode))
      #    {
      #        caller = element.args().caller();
      #        if (caller && caller is SysSetupFormRun)
      #        {
      #            skipLinkActive = element.args().parmEnum() == FormOpenMode::ForNew;
      #        }
      #    }
      #
      #    // <NAXT>
      #    this.setTradeInFieldsVisibilityByOrderClass();
      #    this.visibleCreditLimitCheck();
      #    // </NAXT>
      #
      #    CustDirectDebitMandate::defaultAndDisplayMandate(
      #        salesTable.InvoiceAccount,
      #        salesTable.PaymMode,
      #        salesTable.DirectDebitMandate,
      #        false,
      #        salesTable_ds,
      #        fieldNum(SalesTable, DirectDebitMandate));
      #
      #    this.initDesignEntryCertificate_W();
      #
      #    //<GGH> TFS_29434
      #    if (element is SysSetupFormRun)
      #    {
      #        sysSetupFormRun = element;
      #        if (sysSetupFormRun.parmOrderClassFilter().orderClassId())
      #        {
      #            orderClassDesignAppliedByInit = true;
      #        }
      #    }
      #    //</GGH> TFS_29434
      #
      #    //<GGH>TFS ID 29647
      #    accessLevel = rights.formControlAccessRight(this.name(), SetupPartsTab_PartPriceGroupRecId.name());
      #    if (accessLevel == AccessRight::View || accessLevel == AccessRight::NoAccess)
      #    {
      #       SetupPartsTab_PartPriceGroupRecId.allowEdit(false);
      #    }
      #    //</GGH>
      #
      #    salesOrderLayoutType = 3;
      #}
    ENDSOURCE
    SOURCE #initDesign_RU
      ##define.2(2)
      #void initDesign_RU()
      #{
      #    salesLine_DS.object(fieldNum(SalesLine, ProjId)).allowEdit(true);
      #    tabHeaderAddress.columns(#2);
      #}
    ENDSOURCE
    SOURCE #initDesignEntryCertificate_W
      #/// <summary>
      #///    This method shows or hides fields in the <c>Entry certificate</c> group depending on the system settings.
      #/// </summary>
      #private void initDesignEntryCertificate_W()
      #{
      #    SalesTable_W_ds.object(fieldNum(SalesTable_W, EntryCertificateRequired_W)).visible(custParameters.EntryCertificateManagementEnabled_W);
      #    SalesTable_W_ds.object(fieldNum(SalesTable_W, IssueOwnEntryCertificate_W)).visible(custParameters.EntryCertificateIssuingEnabled_W);
      #}
    ENDSOURCE
    SOURCE #interCompanyIsPriceDiscSearchNeeded
      #RecId interCompanyIsPriceDiscSearchNeeded()
      #{
      #    return interCompanyIsPriceDiscSearchNeeded;
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #Object inventDimSetupObject()
      #{
      #    return inventDimFormSetup;
      #}
    ENDSOURCE
    SOURCE #isCalledFromSalesLineBackOrderListPage
      #private boolean isCalledFromSalesLineBackOrderListPage()
      #{
      #    return TradeFormHelper::isCalledFromForm(element.args(), formStr(SalesLineBackOrderListPage));
      #}
    ENDSOURCE
    SOURCE #isCalledFromSalesTableListPageProject
      #private boolean isCalledFromSalesTableListPageProject()
      #{
      #    Object      myCaller;
      #    FormRun     callerForm;
      #    boolean     calledFromListPage = false;
      #
      #    if (element.args())
      #    {
      #        myCaller = element.args().caller();
      #
      #        if (myCaller && myCaller is SysSetupFormRun)
      #        {
      #            callerForm = myCaller;
      #            if (callerForm.name() == formStr(SalesTableListPage) &&
      #                (callerForm.args() &&
      #                    (callerForm.args().menuItemName() == menuitemDisplayStr(SalesTableListPage_Proj) ||
      #                    callerForm.args().menuItemName() == menuitemDisplayStr(SalesTableListPage_MyProj))))
      #            {
      #                calledFromListPage = true;
      #            }
      #        }
      #    }
      #    return calledFromListPage;
      #}
    ENDSOURCE
    SOURCE #isRetailAttribute
      #public boolean isRetailAttribute()
      #{
      #    RetailSalesTableInstanceValue   retailSalesTableInstanceValue;
      #    EcoResAttributeValue            ecoResAttributeValue;
      #
      #    select firstonly SalesId from retailSalesTableInstanceValue
      #        where retailSalesTableInstanceValue.SalesId == salesTable.SalesId
      #        join InstanceValue from ecoResAttributeValue
      #            where retailSalesTableInstanceValue.RecId == ecoResAttributeValue.InstanceValue;
      #
      #    if (retailSalesTableInstanceValue.SalesId)
      #    {
      #        return true;
      #    }
      #    return false;
      #}
    ENDSOURCE
    SOURCE #multiLineDiscount
      #/// <summary>
      #/// Calculates multi line discounts.
      #/// </summary>
      #public void multiLineDiscount()
      #{
      #    element.automaticTotalDiscount();
      #
      #    if (salesTable.updateMultiLineDisc())
      #    {
      #        salesLine_ds.research(true);
      #    }
      #}
    ENDSOURCE
    SOURCE #newSalesId
      #SalesId  newSalesId(SalesId  _newSalesId = newSalesId)
      #{
      #    newSalesId = _newSalesId;
      #    return _newSalesId;
      #}
    ENDSOURCE
    SOURCE #nextGroup
      #void  nextGroup()
      #{
      #    if (!SalesLine::exist(salesTable.SalesId))
      #    {
      #        salesLine_ds.create();
      #    }
      #
      #    salesLine_ItemId.setFocus();
      #}
    ENDSOURCE
    SOURCE #noteFormatEdit
      #/// <summary>
      #///     This method sets the fields <c>RefInvoiceId</c>, <c>RefInvoiceAmountCur</c> and <c>ReasonTableRef</c>
      #///     of table <c>SalesTable</c> editable or not.
      #/// </summary>
      #/// <remarks>
      #///     These fields is not editable only when the note format is <c>TaxUnrealizedSalesNoteFormat::None</c>.
      #/// </remarks>
      #//<GTH>
      #public void noteFormatEdit()
      #{
      #    boolean     isNoneFormat;
      #
      #    isNoneFormat = (salesTableExtensionTH.NoteFormat == TaxUnrealizedSalesNoteFormat::None);
      #
      #    salesTableExtensionTH_ds.object(fieldNum(SalesTableExtensionTH, RefInvoiceId)).allowEdit(!isNoneFormat);
      #    salesTableExtensionTH_ds.object(fieldNum(SalesTableExtensionTH, RefInvoiceAmountCur)).allowEdit(!isNoneFormat);
      #    editReasonCode_TH.allowEdit(!isNoneFormat);
      #}
      #//</GTH>
    ENDSOURCE
    SOURCE #orderClassModified
      #// <NAXT>
      #public void orderClassModified()
      #{
      #    SysSetupFormRun     formRun;
      #    XAP_OrderClass      orderClass = salesTable.xap_OrderClass();
      #
      #    if (element is SysSetupFormRun)
      #    {
      #        formRun = element;
      #        formRun.parmOrderClassFilter().applyFilter(salesTable.OrderClassRecId, false);
      #    }
      #
      #    //<NAXT CU5> TFS_28341
      #    element.updateDesign(InventDimFormDesignUpdate::Init, true);
      #    //</NAXT CU5> TFS_28341
      #
      #    salesTable_CustAccountAdv.allowEdit(    salesTableForm.editHeaderAllowed() && !orderClass.LockSOGrid );
      #    salesTable_InvoiceAccountAdv.allowEdit( salesTableForm.editHeaderAllowed() && !orderClass.LockSOGrid );
      #    salesTable_SalesTypeGrid.allowEdit(     salesTableForm.editHeaderAllowed() && !orderClass.LockSOGrid );
      #
      #    if (salesTable.custTable_CustAccount().EquipmentSerialMandatory &&
      #        orderClass.EquipmentSerialMandatory &&
      #        orderClass.SalesDesign  == XAP_DesignType::Part)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, Equipment)).mandatory(true);
      #        salesTable_ds.object(fieldNum(SalesTable, InventSerialId)).mandatory(true);
      #    }
      #    else
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, Equipment)).mandatory(false);
      #        salesTable_ds.object(fieldNum(SalesTable, InventSerialId)).mandatory(false);
      #    }
      #
      #    if (orderClass.SalesDesign  == XAP_DesignType::Equipment)
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInCustomer)).visible(true);
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInSalesman)).visible(true);
      #    }
      #    else
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInCustomer)).visible(false);
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInSalesman)).visible(false);
      #    }
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #parmFilterOrderClassId
      #// <NAXT>
      #public XAP_OrderClassId parmFilterOrderClassId()
      #{
      #    return XAP_OrderClass::orderClassId(salesTable.OrderClassRecId);
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #parmPostalAddressLocation
      #public LogisticsLocationRecId parmPostalAddressLocation(LogisticsLocationRecId _postalAddressLocation = 0)
      #{
      #    if (!_postalAddressLocation)
      #    {
      #        // Set location by active datasource
      #        if (element.dataSource().name() == salesLine_ds.name())
      #        {
      #            _postalAddressLocation = salesLine.deliveryLocation();
      #        }
      #        else
      #        {
      #            _postalAddressLocation = salesTable.deliveryLocation();
      #        }
      #    }
      #
      #    postalAddressLocation = _postalAddressLocation;
      #    return postalAddressLocation;
      #}
    ENDSOURCE
    SOURCE #parmPWCLookupRefRecId
      #// <NAXT CU4>
      #public RefRecId parmPWCLookupRefRecId(RefRecId _pwcLookupRefRecId = pwcLookupRefRecId)
      #{;
      #    pwcLookupRefRecId = _pwcLookupRefRecId;
      #
      #    return pwcLookupRefRecId;
      #}
    ENDSOURCE
    SOURCE #pbaConfigureLine
      #void pbaConfigureLine()
      #{
      #    PBATablePBAInstance pbaTablePBAInstance;
      #
      #    if (PCRuntimeLibrary::isConstraintBasedConfigurable(salesLine.ItemId))
      #    {
      #        PCExecuteVariantConfiguration::execute(salesLine, salesLine.ItemId, inventDim.ConfigId);
      #    }
      #    else
      #    {
      #        if (!autoConfig )
      #        {
      #            PBAExecute::execute(salesLine,pbaTablePBAInstance, salesLine.CustAccount);
      #        }
      #
      #        autoConfig = false;
      #    }
      #
      #    // syncs sales table with db
      #    salesLine_ds.research(true);
      #}
    ENDSOURCE
    SOURCE #pmfIsEnabled
      #/// <summary>
      #/// Returns if the PMF security key is enabled
      #/// </summary>
      #/// <returns type="boolean">True if enabled; otherwise false</returns>
      #public boolean pmfIsEnabled()
      #{
      #    return salesLine.inventTable().isFormulaAllowed();
      #}
    ENDSOURCE
    SOURCE #refreshLines
      #// <NAXT>
      #void refreshLines()
      #{
      #    salesLine_ds.executeQuery();
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #refreshSalesLine_IN
      #// <GIN>
      #void refreshSalesLine_IN()
      #{
      #    salesLine_IN_ds.reread();
      #    salesLine_IN_ds.refresh();
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #removeAgreementLink
      #public void removeAgreementLink()
      #{
      #    SalesTableForm_DlvScheduleSyncEnabled   salesTableFormDlvSchedule;
      #    SalesLine                               origSalesLine = salesLine.orig().data();
      #    boolean                                 doNotAsk;
      #
      #    if (salesLine.unLinkAgreementLinePrompt())
      #    {
      #        // When the user manually removes a link to an agreement line, then also prevent automatic (re)linking of agreement lines
      #        salesLine.AgreementSkipAutoLink = NoYes::Yes;
      #
      #        if (salesLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            salesTableFormDlvSchedule = salesTableForm as SalesTableForm_DlvScheduleSyncEnabled;
      #            salesTableFormDlvSchedule.parmOrderLineOrig(origSalesLine);
      #            if (salesTableFormDlvSchedule.deliveryLinesSync(salesLine, doNotAsk))
      #            {
      #                // Re-query delivery lines displayed by grid and update grid
      #                salesLine_DS.executeQuery();
      #            }
      #        }
      #        // <GEERU>
      #        salesLine_DS.research(true);
      #        // </GEERU>
      #
      #        element.enableLineAgreementActions();
      #    }
      #}
    ENDSOURCE
    SOURCE #researchCostBreakdownLines
      #/// <summary>
      #/// Research the lines of the SalesCostBreakdownLines datasource.
      #/// </summary>
      #// <NAXT>
      #void researchCostBreakdownLines()
      #{
      #    salesLine_ds.research(true);
      #    salesCostBreakdownLines_ds.research();
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #researchTableDS
      #// <NAXT>
      #void researchTableDS()
      #{
      #    salesTable_ds.research(true);
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #returnedItem
      #boolean returnedItem()
      #{
      #    return salesTable.SalesType == SalesType::ReturnItem;
      #}
    ENDSOURCE
    SOURCE #run
      #void  run()
      #{
      #    int designatedTabNo = 1;
      #
      #    if (TradeFormHelper::isCalledFromListPage(element.args()))
      #    {
      #        designatedTabNo = 3;
      #    }
      #
      #    // <GIN>
      #    SysListPageHelper::handleRunPreSuper(element, lineViewTab, designatedTabNo, designatedTabNo);
      #    // </GIN>
      #    // Set proper TAB explicitly.
      #    lineViewTab.tab(designatedTabNo);
      #
      #    super();
      #    // <GIN>
      #    SysListPageHelper::handleRunPostSuper(element, lineViewTab);
      #    // </GIN>
      #    docuActionTemplateUndefined.visible(!isDocuActionTemplate);
      #}
    ENDSOURCE
    SOURCE #salesTable
      #SalesTable salesTable()
      #{
      #    return salesTable;
      #}
    ENDSOURCE
    SOURCE #setBasisDate_IN
      #// <GIN>
      #public void setBasisDate_IN()
      #{
      #    CustInvoiceTrans custInvoiceTransOrig;
      #    SalesLine        salesLineOrig;
      #
      #    custInvoiceTransOrig = CustInvoiceTrans::findRecId(SalesLineReturnDetails_IN.CustInvoiceTrans);
      #    salesLineOrig        = custInvoiceTransOrig.salesLine();
      #
      #    if (SalesLineReturnDetails_IN.BasisType == SalesReturnCalculationDateType_IN::InvoiceDate)
      #    {
      #        SalesLineReturnDetails_IN.BasisDate = custInvoiceTransOrig.InvoiceDate;
      #    }
      #    else if (SalesLineReturnDetails_IN.BasisType == SalesReturnCalculationDateType_IN::DeliveryDate)
      #    {
      #        SalesLineReturnDetails_IN.BasisDate = salesLineOrig.ReceiptDateConfirmed;
      #    }
      #    SalesLineReturnDetails_IN_ds.write();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setCaptionText
      #void  setCaptionText()
      #{
      #    element.design().caption(strFmt('%1 %2 %3 %4 %5 %6 %7 %8',"@SYS9694",salesTable.SalesId,',',"@SYS7399", salesTableForm.captionName(),',',"@SYS5398",salesLine.itemName()));
      #}
    ENDSOURCE
    SOURCE #setCostBreakdownFieldAccess
      #/// <summary>
      #/// Enable or disable the editing of the SalesPrice field.
      #/// </summary>
      #/// <param name="_fromActive">
      #///     Method is called from active method of the SalesLine datasource.
      #/// </param>
      #// <NAXT-2012-DCG>
      #public void setCostBreakdownFieldAccess(boolean _fromActive = true)
      #{
      #    boolean     allowEditSalesPrice = salesLine_ds.object(fieldNum(SalesLine,SalesPrice)).allowEdit();
      #
      #    if (salesLine_ds.allowEdit() && salesLine.LineType == XAP_LineTypes::Equipment)
      #    {
      #        if ((_fromActive && allowEditSalesPrice == true) || !_fromActive)
      #        {
      #            allowEditSalesPrice = XAP_SalesCostBreakdownLinesHandler::construct(salesLine).allowEditSourceLine();
      #
      #            salesLine_ds.object(fieldNum(SalesLine,SalesPrice)).allowEdit(allowEditSalesPrice);
      #        }
      #
      #        salesCostBreakdownLines_ds.allowEdit(true);
      #    }
      #    else
      #    {
      #        salesCostBreakdownLines_ds.allowEdit(false);
      #    }
      #
      #    salesLine_ds.object(fieldNum(SalesLine,CostBreakdownMargin)).allowEdit(allowEditSalesPrice);
      #    salesLine_ds.object(fieldNum(SalesLine,CostBreakdownCost  )).allowEdit(allowEditSalesPrice && salesLine.LineType != XAP_LineTypes::Equipment);
      #
      #    //marketingProgramSetupDialog.enabled(salesLine.LineType == XAP_LineTypes::Equipment);
      #}
      #// </NAXT-2012-DCG>
    ENDSOURCE
    SOURCE #setEditItemOrCategoryAllowed
      #/// <summary>
      #/// Enables or disables editing of the item and sales category fields.
      #/// </summary>
      #/// <param name="allowEdit">
      #/// Whether to enable editing.
      #/// </param>
      #void setEditItemOrCategoryAllowed(boolean  allowEdit)
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(allowEdit);
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(false);
      #    }
      #    else
      #    {
      #    // </GBR>
      #        salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(allowEdit);
      #    // <GBR>
      #    }
      #    // </GBR>
      #}
    ENDSOURCE
    SOURCE #setEximFieldsAccess_IN
      #// <GIN>
      #public void setEximFieldsAccess_IN()
      #{
      #    EximParameters_IN eximParameters;
      #    boolean           isDBKEnabled;
      #    boolean           isInvoice;
      #    boolean           isDEPBApplicable;
      #
      #    if (salesTable.CustomsExportOrder_IN && TaxParameters::find().EximIncentiveSchemes_IN)
      #    {
      #        eximParameters   = EximParameters_IN::find();
      #        isInvoice        = salesLine.SalesQty > 0 ? true : false;
      #        isDBKEnabled     = isInvoice && (eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None);
      #        isDEPBApplicable = isInvoice && eximSalesLine_IN.ApplyDEPB;
      #
      #        eximIncentiveScheme_IN.visible(true);
      #        incentiveSchemeGroup_IN.visible(true);
      #
      #        eximSalesLine_IN_ApplyDEPB.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_MarketValue.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_DBKCenvatStatus.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKRateType.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKPercent.visible(eximParameters.ActivateDutyDrawback);
      #
      #        eximAA_IN.visible(eximParameters.ActivateAA);
      #        eximDFIA_IN.visible(eximParameters.ActivateDFIA);
      #
      #        eximEPCG_IN.visible(eximParameters.ActivateEPCG);
      #
      #        eximSalesLine_IN_ApplyDEPB.allowEdit(isInvoice);
      #        eximSalesLine_IN_MarketValue.allowEdit(isDEPBApplicable);
      #        eximSalesLine_IN_DBKCenvatStatus.allowEdit(isInvoice);
      #        eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_EximIncentiveSchemeGroup.allowEdit(isInvoice);
      #        eximSalesLine_IN_EximPorts.allowEdit(isInvoice);
      #        eximSalesLine_IN_EximProductGroupTable.allowEdit(isInvoice);
      #
      #        // buttons
      #        incentiveSchemeGroup_IN.enabled(isInvoice);
      #
      #        eximAA_IN.enabled(isInvoice);
      #        eximDFIA_IN.enabled(isInvoice);
      #
      #        eximEPCG_IN.enabled(isInvoice);
      #    }
      #    else
      #    {
      #        eximIncentiveScheme_IN.visible(false);
      #        incentiveSchemeGroup_IN.visible(false);
      #        incentiveSchemeGroup_IN.enabled(false);
      #        eximAA_IN.enabled(false);
      #        eximDFIA_IN.enabled(false);
      #
      #        eximEPCG_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setLineControlsVisible
      #/// <summary>
      #/// Sets the TradeInCustomer and TradeInSalesman fields' visibility based on the SO's Order Class
      #/// </summary>
      #// <NAXT>
      #public void setLineControlsVisible()
      #{
      #    tabWornCore.visible(InventTable::find(salesLine.ItemId).ExchangeType == XAP_ExchangeTypes::WornCore);
      #    // <GGH>
      #    if (XAP_OrderClass::findOrderClass(salesTable.OrderClassRecId).EnableExistingQuoteAlert)
      #    {
      #        SalesCopyExistingQuoteUpdate.visible(true);
      #        SalesLine_ExistingQuote.visible(true);
      #    }
      #    else
      #    {
      #        SalesCopyExistingQuoteUpdate.visible(false);
      #        SalesLine_ExistingQuote.visible(false);
      #    }
      #    // </GGH>
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #setReturnDetails_IN
      #/// <summary>
      #/// Reseting the Return Feilds when the return order becomes normal sales order.
      #/// </summary>
      #// <GIN>
      #public void setReturnDetails_IN()
      #{
      #    SalesLineReturnDetails_IN.Period     = 0;
      #    SalesLineReturnDetails_IN.Type       = SalesReturnType_IN::None;
      #    SalesLineReturnDetails_IN.BasisType  = SalesReturnCalculationDateType_IN::None;
      #    SalesLineReturnDetails_IN.PeriodType = SalesReturnPeriodUnit_IN::None;
      #    SalesLineReturnDetails_IN_ds.write();
      #    SalesLineReturnDetails_IN_ds.reread();
      #    SalesLineReturnDetails_IN_ds.refresh();
      #    SalesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(false);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setReturnFields
      #void setReturnFields()
      #{
      #    boolean     allowEditOrCreate = !salesTable.returnItem();
      #
      #    salesLine_ds.allowCreate(allowEditOrCreate);
      #
      #    // Sales header enabling and disabling
      #
      #    salesAvailableDlvDatesHeader.enabled(allowEditOrCreate && salesAvailableDlvDatesHeader.enabled());
      #
      #    salesTable_ds.object(fieldNum(SalesTable, Deadline)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, InventLocationId)).allowEdit(allowEditOrCreate );
      #    salesTable_ds.object(fieldNum(SalesTable, Reservation)).allowEdit(allowEditOrCreate);
      #
      #    salesTable_ds.object(fieldNum(SalesTable, ItemTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, CaseTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, PalletTagging)).allowEdit(allowEditOrCreate);
      #
      #    delivery.allowEdit(allowEditOrCreate);
      #    miscDelivery.allowEdit(allowEditOrCreate);
      #    transport.allowEdit(allowEditOrCreate);
      #    payment.allowEdit(allowEditOrCreate);
      #    carrierInfo.allowEdit(allowEditOrCreate);
      #
      #    // Salesline enabling and disabling
      #
      #    salesAvailableDlvDatesLine.enabled(allowEditOrCreate && salesAvailableDlvDatesLine.enabled());
      #
      #    // ItemId, SalesQty, Blocked, Complete, Return lot id
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(allowEditOrCreate && salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit());
      #    salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, Blocked)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, Complete)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).allowEdit(allowEditOrCreate);
      #
      #    // Inventory dimensions
      #    inventDim_ds.allowEdit(allowEditOrCreate);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, LedgerDimension)).allowEdit(allowEditOrCreate);
      #
      #    // Quantity
      #    salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(allowEditOrCreate);
      #
      #    // Price discount
      #    salesLine_ds.object(fieldNum(SalesLine, LinePercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, LineDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, MultiLnDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, MultiLnPercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, PriceUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, SalesMarkup)).allowEdit(allowEditOrCreate);
      #
      #    // Carrier info
      #    salesLine_ds.object(fieldNum(SalesLine, ShipCarrierAccount)).allowEdit(allowEditOrCreate);
      #
      #    // Bar code
      #    salesLine_ds.object(fieldNum(SalesLine, BarCode)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, BarCodeType)).allowEdit(allowEditOrCreate);
      #
      #    // Project
      #    salesLine_ds.object(fieldNum(SalesLine, ProjId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ProjTransId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(allowEditOrCreate);
      #
      #    // Packing materials
      #    salesLine_ds.object(fieldNum(SalesLine, PackingUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, PackingUnitQty)).allowEdit(allowEditOrCreate);
      #
      #    lineDelivery.allowEdit(allowEditOrCreate);
      #    miscLineDelivery.allowEdit(allowEditOrCreate);
      #    lineInventory.allowEdit(allowEditOrCreate);
      #}
    ENDSOURCE
    SOURCE #setReturnFields_IN
      #// <GIN>
      #void setReturnFields_IN()
      #{
      #    if (salesTable.SalesType == SalesType::ReturnItem)
      #    {
      #        tabTaxInformation_IN.allowEdit(!salesLine.InventTransIdReturn);
      #        SalesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(SalesLine.SalesQty<0);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #
      #        if (ReturnDispositionCode::find(salesLine.ReturnDispositionCodeId).DispositionAction == DispositionAction::CreditOnly)
      #        {
      #            salesLine_IN.ExciseRecordType_IN = ExciseRecordType_IN::None;
      #            salesLine_IN.DirectSettlement_IN = DirectSettlement_IN::None;
      #            exciseNone_IN.allowEdit(false);
      #            exciseManufacture_IN.allowEdit(false);
      #            exciseTraders_IN.allowEdit(false);
      #        }
      #        else
      #        {
      #            exciseNone_IN.allowEdit(true);
      #            exciseManufacture_IN.allowEdit(true);
      #            exciseTraders_IN.allowEdit(true);
      #        }
      #    }
      #    else
      #    {
      #        exciseNone_IN.allowEdit(true);
      #        exciseManufacture_IN.allowEdit(true);
      #        exciseTraders_IN.allowEdit(true);
      #        tabTaxInformation_IN.allowEdit(true);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdEnabled_IN
      #// <GIN>
      #void setTaxWithholdEnabled_IN()
      #{
      #    salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).enabled(!salesTable.tdsGroup_IN);
      #    salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).enabled(!salesTable.tcsGroup_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).enabled(!salesLine_IN.tdsGroup_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).enabled(!salesLine_IN.tcsGroup_IN);
      #    buttonWithholdTax_IN.enabled(salesLine_IN.tdsGroup_IN || salesLine_IN.tcsGroup_IN);
      #    if (salesLine.InventTransIdReturn)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdVisible_IN
      #// <GIN>
      #void setTaxWithholdVisible_IN()
      #{
      #    TaxWithholdParameters_IN    taxWithholdParameters;
      #
      #    taxWithholdParameters = TaxWithholdParameters_IN::find();
      #    salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    withholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    lineWithholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    buttonWithholdTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    withholdingTax.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTitleText
      #public void setTitleText()
      #{
      #    headerTitle.text(strFmt('%1 : %2 - %3', salesTable.SalesId,
      #                                            salesTable.CustAccount,
      #                                            salesTable.customerName()));
      #}
    ENDSOURCE
    SOURCE #setTradeInFields
      #// <NAXT>
      #void setTradeInFields()
      #{
      #    salesTableForm.enableLineTradeInFields(salesLine, inventDim);
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #setTradeInFieldsVisibilityByOrderClass
      #/// <summary>
      #/// Sets the TradeInCustomer and TradeInSalesman fields' visibility based on the SO's Order Class
      #/// </summary>
      #// <NAXT>
      #private void setTradeInFieldsVisibilityByOrderClass()
      #{
      #    XAP_OrderClass      orderClass = salesTable.xap_OrderClass();
      #
      #    if (orderClass.SalesDesign  == XAP_DesignType::Equipment)
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInCustomer)).visible(true);
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInSalesman)).visible(true);
      #    }
      #    else
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInCustomer)).visible(false);
      #        salesLine_ds.object(fieldNum(SalesLine, TradeInSalesman)).visible(false);
      #    }
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #setVisible_IN
      #// <GIN>
      #private void setVisible_IN()
      #{
      #    TaxParameters   taxParametersLoc        = TaxParameters::find();
      #
      #    salesLine_AssessableValue_IN.visible(isIndiaIndirectTaxParameterMarked);
      #    salesLine_MaximumRetailPrice_IN.visible(isIndiaIndirectTaxParameterMarked);
      #    tabTaxInformation_IN.visible(isIndiaIndirectTaxParameterMarked || TaxWithholdParameters_IN::checkTaxParameters());
      #    companyInfo.visible(isIndiaIndirectTaxParameterMarked);
      #    vat.visible(taxParametersLoc.vat_in);
      #    indiaSalesTax.visible(taxParametersLoc.SalesTax_IN);
      #
      #    excise_IN.visible(taxParametersLoc.Excise_IN);
      #    customs_IN.visible(taxParametersLoc.Customs_IN);
      #    serviceTax_IN.visible(taxParametersLoc.ServiceTax_IN);
      #
      #    salesLine_CustomsMaxRetailPrice_IN.visible(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesTable_ds.object(fieldNum(SalesTable, CustomsExportOrder_IN)).visible(taxParametersLoc.Customs_IN);
      #
      #    createExportOrder_IN.visible(taxParametersLoc.Customs_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, TaxInventVATCommodityCode_IN)).visible(taxParametersLoc.vat_in);
      #    CustomerReturns_IN.visible(isIndiaIndirectTaxParameterMarked);
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #showInactiveAddressBar
      #public void showInactiveAddressBar()
      #{
      #    LogisticsLocationEntity::showHideEffectiveAddressMessageBar(element, logisticsPostalAddressDeliveryHeader, logisticsPostalAddressDeliveryLine);
      #}
    ENDSOURCE
    SOURCE #showSurplusReturn
      #// <NAXT>
      #public void showSurplusReturn()
      #{
      #    boolean     showSurplusReturn;
      #
      #    showSurplusReturn = XAP_SurplusReturnParameter::existCustomer(salesTable.CustAccount) &&
      #                        XAP_OrderClass::findOrderClass(salesTable.OrderClassRecId).SalesDesign == XAP_DesignType::Part;
      #
      #    surplusReturn.visible(showSurplusReturn);
      #    //<NAXT>
      #    surplusCaseAdd.enabled(showSurplusReturn);
      #    //</NAXT> TFS9557
      #}
      #// </NAXT>
    ENDSOURCE
    SOURCE #updateDesign
      #void updateDesign(InventDimFormDesignUpdate mode,
      #                  //<NAXT CU5> TFS_28341
      #                  boolean                   forceActive = false)
      #                  //</NAXT CU5> TFS_28341
      #{
      #    InventMovement movement = InventMovement::construct(salesLine);
      #    Set            validInventDimDSset;
      #    InventDimControlIdCollection inventDimControlIdCollection;
      #    boolean emptyLine;
      #    InventDimParm   inventDimParm;  //<GGH/> TFS31980
      #    InventDimCtrl_Frm_Mov   inventDimFormSetup_temp;
      #
      #    switch (mode)
      #    {
      #        case InventDimFormDesignUpdate::Init:
      #            //<GGH> TFS_29036
      #            //original line //if (!inventDimFormSetup)
      #            if (!inventDimFormSetup || forceActive)
      #            //</GGH> TFS_29036
      #            {
      #                validInventDimDSset = new Set(Types::String);
      #                validInventDimDSset.add(inventDim_ds.name());
      #                inventDimControlIdCollection = InventDimControlIdCollection::construct();
      #                inventDimControlIdCollection.add(storageDimensions.id(), false);
      #                inventDimControlIdCollection.add(trackingDimensions.id(), false);
      #                inventDimControlIdCollection.add(productDimensions.id(), false);
      #                inventDimControlIdCollection.add(inventoryDimensionsGrid.id(), true);
      #                //<NAXT CU1>
      #                //inventDimFormSetup = InventDimCtrl_Frm_Mov_OrderLine::newFromFormMovement(element, movement, validInventDimDSset
      #                //, inventDimControlIdCollection
      #                //);
      #                inventDimFormSetup = XAP_InventDimCtrl_Frm_OrderClass::newFromFormMovement(element, movement, validInventDimDSset, inventDimControlIdCollection);
      #                //</NAXT CU1>
      #            }
      #
      #        case InventDimFormDesignUpdate::Active,
      #             InventDimFormDesignUpdate::FieldChange:
      #            emptyLine = salesLine.ItemId == '' && salesLine.SalesCategory == 0;
      #            //<NAXT CU5> TFS_28341
      #            /* moved down begin
      #            storageDimensions.allowEdit(!emptyLine);
      #            trackingDimensions.allowEdit(!emptyLine);
      #            productDimensions.allowEdit(!emptyLine);
      #            inventoryDimensionsGrid.allowEdit(!emptyLine);
      #            moved down end */
      #            //original line //if (!emptyLine)
      #            if (!emptyLine || forceActive)
      #            //</NAXT CU5> TFS_28341
      #            {//For performance reasons, only call the inventDimFormSetup if the order line has an item ID or Category ID.
      #                inventDimFormSetup.formActiveSetup(movement.inventDimGroupSetup(), movement);
      #
      #                inventDimFormSetup_temp = XAP_InventDimCtrl_Frm_OrderClass::newFromFormMovement(element, movement, validInventDimDSset, inventDimControlIdCollection);
      #
      #                inventDimParm = inventDimFormSetup_temp.parmDimParmVisibleGrid();
      #                // <GGH>
      #                inventDimParm.InventSiteIdFlag      = false;
      #                // </GGH>
      #                inventDimParm.InventBatchIdFlag     = true;
      #                inventDimParm.InventEquipmentIdFlag = true;
      #                inventDimParm.InventSerialIdFlag    = true;
      #                inventDimParm.ConfigIdFlag          = true;
      #                inventDimFormSetup.parmDimParmVisibleGrid(inventDimParm.data(), true);
      #                inventDimFormSetup.formSetControls(mode == InventDimFormDesignUpdate::Active);
      #            }
      #            //<NAXT CU5> TFS_28341
      #            storageDimensions.allowEdit(!emptyLine);
      #            trackingDimensions.allowEdit(!emptyLine);
      #            productDimensions.allowEdit(!emptyLine);
      #            inventoryDimensionsGrid.allowEdit(!emptyLine);
      #            //</NAXT CU5> TFS_28341
      #            //<GGH> TFS31980
      #            if (!salesLine.ItemId)
      #            {
      #                inventDimParm = inventDimFormSetup.parmDimParmVisibleGrid();
      #                // <GGH>
      #                inventDimParm.InventSiteIdFlag      = false;
      #                // </GGH>
      #                inventDimParm.InventBatchIdFlag     = true;
      #                inventDimParm.InventEquipmentIdFlag = true;
      #                inventDimParm.InventSerialIdFlag    = true;
      #                inventDimParm.ConfigIdFlag          = true;
      #                inventDimFormSetup.parmDimParmVisibleGrid(inventDimParm.data(), true);
      #                inventDimFormSetup.formSetControls(mode == InventDimFormDesignUpdate::Active);
      #            }
      #            //</GGH> TFS31980
      #            break;
      #
      #        default : throw error(strFmt("@SYS54195",funcName()));
      #    }
      #}
    ENDSOURCE
    SOURCE #updateDesign_MX
      #//<GMX>
      #public void updateDesign_MX()
      #{
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled() || EInvoiceCFDIParameters_MX::isElectronicInvoiceEnabled() )
      #    {
      #        eInvoice_MX.visible(true);
      #    }
      #    else
      #    {
      #        eInvoice_MX.visible(false);
      #    }
      #}
      #//</GMX>
    ENDSOURCE
    SOURCE #updateDesignConsInvoice_JP
      #/// <summary>
      #/// Updates the design for the consolidation invoice related controls.
      #/// </summary>
      #// <GJP>
      #void updateDesignConsInvoice_JP()
      #{
      #    if (!CustConsInvoiceType_JP::isCustConsInvoiceEnabled())
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, ConsTarget_JP)).visible(false);
      #        consTarget_JP.visible(false);
      #    }
      #}
      #// </GJP>
      #
    ENDSOURCE
    SOURCE #updateDesignForUnrealizedVAT
      #/// <summary>
      #///     Sets fields visible.
      #/// </summary>
      #//<GTH>
      #private void updateDesignForUnrealizedVAT()
      #{
      #    noteFormat_TH.visible(true);
      #    salesTable_RefInvoiceId_TH.visible(true);
      #    salesTable_RefInvoiceAmountCur_TH.visible(true);
      #    editReasonCode_TH.visible(true);
      #    salesTable_TaxAgent_TH.visible(true);
      #
      #    this.noteFormatEdit();
      #}
      #//</GTH>
    ENDSOURCE
    SOURCE #updateReturnableDetails_IN
      #/// <summary>
      #/// Return order fields specicfic india are getting updated here.
      #/// </summary>
      #// <GIN>
      #public void updateReturnableDetails_IN()
      #{
      #    SalesReturnInformation_IN           salesReturnInformation;
      #    TaxInformation_IN                   taxInformation;
      #    SalesReturn_IN                      salesReturn = SalesReturn_IN::construct(SalesLine.TaxItemGroup);
      #    SalesReturnPeriodUnit_IN            salesReturnPeriodUnit = SalesReturnPeriodUnit_IN::None;
      #    SalesReturnCalculationDateType_IN   salesReturnCalculationDateType = SalesReturnCalculationDateType_IN::None;
      #    SalesLine                           salesLineOrig;
      #    CustInvoiceTrans                    custInvoiceTransOrig;
      #
      #    taxInformation         = TaxInformation_IN::find(SalesLine_IN.TaxInformation);
      #    salesReturnInformation = salesReturn.getReturnInformation(taxInformation);
      #
      #    if (SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None && salesReturnInformation.RecId)
      #    {
      #        SalesLineReturnDetails_IN.BasisType = (str2enum(salesReturnCalculationDateType, enum2Value(salesReturnInformation.BasisType)));
      #
      #        if(SalesLineReturnDetails_IN.Type == SalesReturnType_IN::CustomerReturns)
      #        {
      #            SalesLineReturnDetails_IN.Period     = salesReturnInformation.Period;
      #            SalesLineReturnDetails_IN.PeriodType = (str2enum(salesReturnPeriodUnit, enum2Value(salesReturnInformation.PeriodType)));
      #        }
      #        else
      #        {
      #            SalesLineReturnDetails_IN.Period     = salesReturnInformation.IncompletePeriod;
      #            SalesLineReturnDetails_IN.PeriodType = (str2enum(salesReturnPeriodUnit, enum2Value(salesReturnInformation.IncompletePeriodType)));
      #        }
      #        if(SalesLine.InventTransIdReturn)
      #        {
      #            custInvoiceTransOrig = CustInvoiceTrans::findRecId(SalesLineReturnDetails_IN.CustInvoiceTrans);
      #            salesLineOrig        = custInvoiceTransOrig.salesLine();
      #            if (salesReturnInformation.BasisType == CustomerCalculationDateType_IN::InvoiceDate)
      #            {
      #                SalesLineReturnDetails_IN.BasisDate = custInvoiceTransOrig.InvoiceDate;
      #            }
      #            else if (salesReturnInformation.BasisType == CustomerCalculationDateType_IN::DeliveryDate)
      #            {
      #                SalesLineReturnDetails_IN.BasisDate =  salesLineOrig.ReceiptDateConfirmed ;
      #            }
      #        }
      #        salesLineReturnDetails_IN.SalesLine_IN  = SalesLine_IN.RecId;
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(true);
      #        SalesLineReturnDetails_IN_ds.write();
      #    }
      #    else
      #    {
      #        SalesLineReturnDetails_IN.Period     = 0;
      #        SalesLineReturnDetails_IN.BasisType  = SalesReturnCalculationDateType_IN::None;
      #        SalesLineReturnDetails_IN.PeriodType = SalesReturnPeriodUnit_IN::None;
      #        salesLineReturnDetails_IN_ds.write();
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(SalesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #updateRFIDTagging
      #void  updateRFIDTagging()
      #{
      #    RFIDItemTaggingLevel    taggingLevel;
      #    boolean                 itemTagging     = true;
      #    boolean                 caseTagging     = true;
      #    boolean                 palletTagging   = true;
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().InventSerialIdFlag)
      #    {
      #        if (salesLine.ItemTagging)
      #        {
      #            caseTagging = false;
      #        }
      #        else
      #        {
      #            caseTagging = true;
      #        }
      #
      #        if (salesLine.CaseTagging)
      #        {
      #            itemTagging = false;
      #        }
      #        else
      #        {
      #            itemTagging = true;
      #        }
      #    }
      #    else
      #    {
      #        itemTagging = false;
      #        caseTagging = true;
      #    }
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().wmsPalletIdFlag
      #        &&  salesline.inventTable().PalletTagging)
      #    {
      #        palletTagging = true;
      #    }
      #    else
      #    {
      #        palletTagging = false;
      #    }
      #
      #    if (itemTagging  ||  caseTagging)
      #    {
      #        taggingLevel = salesLine.inventTable().ItemTaggingLevel;
      #
      #        switch (taggingLevel)
      #        {
      #            case RFIDItemTaggingLevel::None :
      #                itemTagging = false;
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::ItemLevel :
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::CaseLevel :
      #                itemTagging = false;
      #                break;
      #        }
      #    }
      #
      #    salesLine_ds.object(fieldNum(SalesLine, ItemTagging)).allowEdit     ( itemTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, ItemTagging)).skip          (!itemTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, CaseTagging)).allowEdit     ( caseTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, CaseTagging)).skip          (!caseTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, PalletTagging)).allowEdit   ( palletTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, PalletTagging)).skip        (!palletTagging);
      #}
    ENDSOURCE
    SOURCE #visibleCreditLimitCheck
      #// <NAXT>
      #public void visibleCreditLimitCheck()
      #{
      #    if (CustParameters::find().ActivateCreditLimit)
      #    {
      #        creditLimitCheck_BusArea.visible(true);
      #        checkCreditLimit.visible(false);
      #    }
      #}
      #// </NAXT>
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          Index               #SalesIdx
          StartPosition       #Last
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SalesId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Reservation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTableForm.pdsSetHeaderAccess();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable_BR_ds.research(true);
                #    }
                #    // </GBR>
                #
                #    if ((select firstonly salesLine where salesLine.SalesId == salesTable.SalesId).RecId)
                #    {
                #        salesLine_ds.executeQuery();
                #    }
                #
                #    // <GEERU>
                #    if (isRU)
                #    {
                #        salesTable_ds.cacheCalculateMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU));
                #    }
                #    // </GEERU>
                #
                #    //<NAXT CU5/> TFS 26470
                #    salesTable_ds.object(fieldNum(SalesTable, CustomerRef)).mandatory(salesTable.custTable_CustAccount().PurchOrderNumberRequired);
                #
                #    salesTable_ds.refresh();
                #
                #    salesTable_ds.rereadReferenceDataSources();
                #
                #    dimensionDefaultingControllerTable.activated();
                #
                #    // <NAXT>
                #    element.orderClassModified();
                #    salesTable_ds.research(true);
                #    // </NAXT>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InvoiceAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // <NAXT>
                #    dimensionDefaultingControllerTable.activated();
                #    // </NAXT>
                #
                #    // <GEERU>
                #    if (isRU)
                #    {
                #        salesLine_ds.reread();
                #        salesLine_ds.refresh();
                #    }
                #    // </GEERU>
                #
                #    // <NAXT CU4>
                #    //SalesTable_ds.reread();
                #    SalesTable_ds.refresh();
                #    // </NAXT CU4>
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    // <GEEU>
                #    salesTable.initBankAccounts_LV();
                #    BankAccountTable::checkDefaultGiroBank_W(salesTable.CurrencyCode);
                #    salesTable_ds.refresh();
                #    // </GEEU>
                #
                #    if (TaxParameters::find().Customs_IN)
                #    {
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            salesLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine_IN.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export);
                #        }
                #    }
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Payment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)).mandatory(salesTable.dlvModeMandatory());
                #    // <NAXT>
                #    salesTable_ds.research(true);
                #    // </NAXT>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CashDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    CashDisc    cashDisc;
                #
                #    super();
                #
                #    cashDisc = CashDisc::find(salesTable.CashDisc);
                #    salesTable.CashDiscPercent = cashDisc.Percent;
                #
                #    salesTable.dataSource().refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    element.changeType();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyAutoCreateOrders
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (salesTable.InterCompanyAutoCreateOrders)
                #    {
                #        salesTableForm.interCompanyAutoCreateOrdersNow(true);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymentSched
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    if (salesTable.PaymentSched)
                #    {
                #        buttonPaymentSchedule.enabled(true);
                #    }
                #    else
                #    {
                #        buttonPaymentSchedule.enabled(false);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReturnItemNum
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    salesTable.jumpRefReturnItemNum(element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ContactPersonId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable.StoreRecId = InventLocation::getStoreRecId(salesTable.InventLocationId);
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable.InventSiteId)
                #    {
                #        InventLocation::lookupBySiteIdAllTypes(_formControl, salesTable.InventSiteId);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VATNum
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #    {
                #        TaxVATNumTable::jumpRefVATNum(salesTable, element);
                #    }
                #    else
                #    {
                #        super();
                #    }
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #    {
                #        TaxVATNumTable::lookupVATNum(vatNum,salesTable);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EInvoiceLineSpec
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.showDimAccount();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable.DirectDebitMandate = CustDirectDebitMandate::defaultAndDisplayMandate(
                #        salesTable.InvoiceAccount,
                #        salesTable.PaymMode,
                #        salesTable.DirectDebitMandate,
                #        false,
                #        salesTable_ds,
                #        fieldNum(SalesTable, DirectDebitMandate));
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FixedDueDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    PaymCalendarAdjustedDate        paymCalendarAdjustedDate;
                #
                #    super();
                #
                #    // perform the payment calendar work only for the required countries
                #    if (SysCountryRegionCode::isLegalEntityInConsolidatedCountryRegion() && salesTable.FixedDueDate)
                #    {
                #        paymCalendarAdjustedDate = PaymCalendarSourceSalesOrder::getAdjustedDate(salesTable);
                #
                #        salesTable.FixedDueDate = PaymCalendarProcessor::getAdjustedDueDate(salesTable.FixedDueDate, priorDueDate, paymCalendarAdjustedDate);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyOrder
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvReason
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (XWM_Parameters::find().EnableTecsysWMS == NoYes::Yes)
                #    {
                #        SalesTable::lookupDlvReason(_formControl,
                #                                    salesTable.OrderClassRecId,
                #                                    salesTable.InventLocationId,
                #                                    salesTable.DlvMode);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryDateControlType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.refresh(); // redraw display controls
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.CustAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable,
                #        [LogisticsLocationRoleType::Delivery], false,
                #        LogisticsLocationSelectionLookup::transactionAssociatedAddresses(
                #            tableNum(SalesLine),
                #            fieldNum(SalesLine, DeliveryPostalAddress),
                #            fieldNum(SalesLine, SalesId),
                #            salesTable.SalesId,
                #            salesTable.DeliveryPostalAddress));
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ShipCarrierName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WorkerSalesTaker
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return HcmWorkerLookup::newOnlyActiveWorkers().lookupWorker(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (!ret.RecId || !HcmWorkerLookup::newOnlyActiveWorkers().validateWorker(ret.RecId))
                #    {
                #        ret.clear();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD BankDocumentType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.configBankDocumentControls();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankAccount_LV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(BankParameters::checkCurrCodeControl_W())
                #    {
                #        BankAccountTable::lookupGiroBank_W(_formControl, CompanyInfo::standardCurrency());
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurBankAccount_LV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(BankParameters::checkCurrCodeControl_W())
                #    {
                #        BankAccountTable::lookupGiroBank_W(_formControl, salesTable.CurrencyCode);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WorkerSalesResponsible
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return HcmWorkerLookup::newOnlyActiveWorkers().lookupWorker(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (!ret.RecId || !HcmWorkerLookup::newOnlyActiveWorkers().validateWorker(ret.RecId))
                #    {
                #        ret.clear();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD CATPWC
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #}
                #// </NAXT>
              ENDSOURCE
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args        args;
                #    FormRun     formRun;
                #
                #    args = new Args(formStr(XAP_PWCCICCodeLookup));
                #
                #    args.caller(_formControl);
                #    args.record(salesTable);
                #
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #    formRun.init();
                #
                #    this.performFormLookup(formRun, _formControl);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SICCodeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args        args;
                #    FormRun     formRun;
                #
                #    args = new Args(formStr(XAP_SICCodeLookup));
                #
                #    args.caller(_formControl);
                #    args.record(salesTable);
                #
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #    formRun.init();
                #
                #    this.performFormLookup(formRun, _formControl);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DivisionRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD SupplementalOf
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
                #// </NAXT>
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SalesTable::lookupSupplementalOf(_formControl, salesTable.InvoiceAccount);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DestinationCodeRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #     ret = SalesTable::lookupDestinationCode(_formReferenceControl,
                #                                            salesTable.OrderClassRecId,
                #                                            salesTable.InventLocationId,
                #                                            salesTable.DlvMode,
                #                                            salesTable.DlvReason);
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD WMSOrderTypeRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #     ret = SalesTable::lookupWMSOrderType(_formReferenceControl,
                #                                            salesTable.OrderClassRecId,
                #                                            salesTable.InventLocationId,
                #                                            salesTable.DlvMode,
                #                                            salesTable.DlvReason);
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD Equipment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #//<NAXT>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return XAP_EquipmentTable::lookUpEquipmentTableReference(_formReferenceControl,
                #                                                salesTable,
                #                                                sis_MachineTypeId.value(),
                #                                                false,
                #                                                XAP_EquipmentTableLookupType::Equipment);
                #}
                #//</NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD OrderClassRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    //<NAXT>
                #    Common ret;
                #
                #    ret =  XAP_OrderClassWorker::lookupReferenceOrderClass(_formReferenceControl,
                #                                                            currentWorker(),
                #                                                            CompanyInfo::find().RecId);
                #
                #    return ret;
                #    //</NAXT>
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    //TFS - PTI - 20120731 - begin
                #    element.orderClassModified();
                #    //TFS - PTI - 20120731 - end
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    //TFS3436 - PTI - 20120730 - begin
                #    if (salesTable.orig().OrderClassRecId != salesTable.OrderClassRecId && salesTable.xap_OrderClass().ManualSalesOrderCreationLock == NoYes::Yes)
                #    {
                #        ret = checkFailed("@XAP9637");
                #    }
                #    //TFS3436 - PTI - 20120730 - end
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD SvcContractId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    QueryBuildDataSource    queryBuildDataSource;
                #    QueryBuildDataSource    queryBuildDataSource2;
                #    SysReferenceTableLookup lookup;
                #    QueryBuildRange         queryBuildRange;
                #    QueryBuildRange         queryBuildRange2;
                #    QueryBuildRange         queryBuildRange3;
                #    Query                   query;
                #
                #    if (salesTable.Equipment != 0 && salesTable.CustAccount != "")
                #    {
                #        query = new Query();
                #
                #        queryBuildDataSource = query.addDataSource(tableNum(XAP_SvcContractTable));
                #        queryBuildDataSource2 = queryBuildDataSource.addDataSource(tableNum(XAP_SvcContractLine));
                #        queryBuildDataSource2.relations(true);
                #
                #        queryBuildRange  = queryBuildDataSource2.addRange(fieldNum(XAP_SvcContractLine, CounterSalesSetup));
                #        queryBuildRange2 = queryBuildDataSource2.addRange(fieldNum(XAP_SvcContractLine, EquipmentId));
                #        queryBuildRange3 = queryBuildDataSource.addRange(fieldNum(XAP_SvcContractTable, CustAccount));
                #
                #        // Set the range
                #        queryBuildRange.value(strFmt('(CounterSalesSetup == %1) || (CounterSalesSetup == %2)',enum2int(XAP_CounterSalesSetup::CounterSaleAllowed),enum2int(XAP_CounterSalesSetup::InternalCounterSale)));
                #        queryBuildRange2.value(SysQuery::value(salesTable.Equipment));
                #        queryBuildRange3.value(SysQuery::value(salesTable.CustAccount));
                #
                #        lookup = SysReferenceTableLookup::newParameters(tableNum(XAP_SvcContractTable),_formReferenceControl, true);
                #        lookup.parmQuery(query);
                #
                #        lookup.addLookupfield(fieldNum(XAP_SvcContractTable, ContractId));
                #
                #        ret = lookup.performFormLookup();
                #    }
                #    else
                #    {
                #        ret = super(_formReferenceControl);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ContractId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    /* <SYS>
                #    super(_formControl, _filterStr);
                #    </SYS> */
                #    // <GGH>
                #    //S012283 - SzN 25/06/2014 Begin
                #    //ExchangeRate::lookupContractIdByRateType(_formControl, salesTable.ExchangeRateType);
                #    ExchangeRate::lookupContractIdByRateType(_formControl, SalesTable.ExchangeRateType, SalesTable.CurrencyCode);
                #    //S012283 - SzN 25/06/2014 End
                #    // </GGH>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyExchangeRate
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ExchangeRateType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #//S012919 - SzN 24/06/2014
                #public void modified()
                #{
                #    super();
                #
                #    GGH_ExchangeRateSearchHelper::setDataSourceCurrencyFieldAccess(SalesTable_ds,
                #                                                                    SalesTable,
                #                                                                    fieldStr(SalesTable, ExchangeRateType),
                #                                                                    fieldNum(SalesTable, CurrencyExchangeRate),
                #                                                                    fieldNum(SalesTable, ContractId));
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    SysReferenceTableLookup sysReferenceTableLookup;
                #    Query                   query;
                #    QueryBuildDataSource    qbdsExchangeRateType, qbdsOrderClassExchangeRateType;
                #
                #    sysReferenceTableLookup = SysReferenceTableLookup::newParameters(tableNum(ExchangeRateType), _formReferenceControl, true);
                #    query                           = new query();
                #    qbdsExchangeRateType            = query.addDataSource(tableNum(ExchangeRateType));
                #
                #    qbdsOrderClassExchangeRateType  = qbdsExchangeRateType.addDataSource(tableNum(GGH_OrderClassExchangeRateTypes));
                #
                #    qbdsOrderClassExchangeRateType.addRange(fieldNum(GGH_OrderClassExchangeRateTypes, OrderClass)).value(SysQuery::value(SalesTable.OrderClassRecId));
                #    qbdsOrderClassExchangeRateType.joinMode(JoinMode::ExistsJoin);
                #    qbdsOrderClassExchangeRateType.relations(true);
                #
                #    sysReferenceTableLookup.parmQuery(query);
                #    sysReferenceTableLookup.addLookupfield(fieldNum(ExchangeRateType, Name));
                #    sysReferenceTableLookup.addLookupfield(fieldNum(ExchangeRateType, Description));
                #
                #    ret = sysReferenceTableLookup.performFormLookup();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #moveInventDimControl
          #public void moveInventDimControl()
          #{
          #    Object                          parentControl;
          #    Object                          insertAfterControl1, insertAfterControl2;
          #    FormControl                     control1, control2, control3, control4, control5;
          #    XAP_OrderClass                  orderClass = salesTable.xap_OrderClass();
          #    HcmEmploymentDetail             workerDetail;
          #    // <GGH>
          #    workerDetail = HcmEmploymentDetail::findByCurrentUser();
          #
          #    if (workerDetail.MoveInventDimFields)
          #    {
          #        return;
          #    }
          #    // </GGH>
          #    if (salesOrderLayoutType != orderClass.XAP_SalesOrderLayoutType)
          #    {
          #        salesOrderLayoutType = orderClass.XAP_SalesOrderLayoutType;
          #
          #        insertAfterControl1 = this.formRun().design().controlName('InventoryDimensionsGrid_InventLocationId');
          #        control1 = this.formRun().design().controlName('InventoryDimensionsGrid_wMSLocationId');
          #        control2 = this.formRun().design().controlName('InventoryDimensionsGrid_inventBatchId');
          #        control3 = this.formRun().design().controlName('InventoryDimensionsGrid_InventEquipmentId');
          #        control4 = this.formRun().design().controlName('InventoryDimensionsGrid_inventSerialId');
          #        control5 = this.formRun().design().controlName('InventoryDimensionsGrid_configId');
          #
          #        if (insertAfterControl1 && control1 && control2 && control3 && control4 && control5)
          #        {
          #            switch (orderClass.XAP_SalesOrderLayoutType)
          #            {
          #                case XAP_SalesOrderLayoutTypeEnum::EQ:
          #                    parentControl = this.formRun().design().controlName('EQPreView');
          #                    insertAfterControl2 = this.formRun().design().controlName('EQSalesLine_RateContractId');
          #
          #                    parentControl.moveControl(insertAfterControl1.id());             // inventLocationId
          #                    parentControl.moveControl(control2.id(), insertAfterControl1.id()); // InventBatchId
          #                    parentControl.moveControl(control3.id(), control2.id());            // inventEquipmentId
          #                    parentControl.moveControl(control4.id(), control3.id());            // inventSerialId
          #                    parentControl.moveControl(control5.id(), control4.id());            // configId
          #                    parentControl.moveControl(control1.id(), insertAfterControl2.id()); // wmsLocationId
          #                break;
          #                case XAP_SalesOrderLayoutTypeEnum::EQParts:
          #                    parentControl = this.formRun().design().controlName('EQPartsPreView');
          #                    insertAfterControl2 = this.formRun().design().controlName('EQPartslineDeliveryType');
          #
          #                    parentControl.moveControl(insertAfterControl1.id());             // inventLocationId
          #                    parentControl.moveControl(control1.id(), insertAfterControl1.id()); // wmsLocationId
          #                    parentControl.moveControl(control2.id(), insertAfterControl2.id()); // InventBatchId
          #                    parentControl.moveControl(control3.id(), control2.id());            // inventEquipmentId
          #                    parentControl.moveControl(control4.id(), control3.id());            // inventSerialId
          #                    parentControl.moveControl(control5.id(), control4.id());            // configId
          #                break;
          #                default: //XAP_SalesOrderLayoutTypeEnum::Parts is default value because it is first in enum or field is empty.
          #                    parentControl = this.formRun().design().controlName('PartsPreView');
          #                    insertAfterControl2 = this.formRun().design().controlName('SalesLine_ExistingQuote');
          #
          #                    parentControl.moveControl(insertAfterControl1.id());             // inventLocationId
          #                    parentControl.moveControl(control1.id(), insertAfterControl1.id()); // wmsLocationId
          #                    parentControl.moveControl(control2.id(), insertAfterControl2.id()); // InventBatchId
          #                    parentControl.moveControl(control3.id(), control2.id());            // inventEquipmentId
          #                    parentControl.moveControl(control4.id(), control3.id());            // inventSerialId
          #                    parentControl.moveControl(control5.id(), control4.id());            // configId
          #                break;
          #            }
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    salesTable.PackedExtensions = salesTable.orig().PackedExtensions;
          #
          #    ret = super(_forceUpdate);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #isRetailOrder
          #display public NoYes isRetailOrder()
          #{
          #    return salesTable.retailSalesTable().RecId != 0;
          #}
          #
        ENDSOURCE
        SOURCE #validateDelete
          #boolean validateDelete()
          #{
          #    boolean ret;
          #
          #    // Are you sure you want to delete replacement order? A return order is attached.
          #    if (salesTable.ReturnItemNum && SalesTable::findReturnItemNum(salesTable.ReturnItemNum).ReturnReplacementId == salesTable.SalesId
          #        && Box::yesNo("@SYS106592", DialogButton::No) == DialogButton::No)
          #    {
          #        ret = false;
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reRead()
          #{
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceDelete(element, salesTable_ds, true);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #boolean validateWrite()
          #{
          #    boolean                     ret;
          #    // <GEERU>
          #    List                        salesTable2LineUpdateFields;
          #    ListEnumerator              salesTable2LineUpdateFieldsEnumerator;
          #    SalesTable2LineField        salesTable2LineField;
          #    // </GEERU>
          #
          #    if (salesTable.RecId != 0
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesTable.DeliveryDateControlType  = SalesDeliveryDateControlType::None;
          #    }
          #
          #    ret = super();
          #
          #    if (!askingModifyInvoiced && ret && !salesTable.Touched)
          #    {
          #        askingModifyInvoiced = true;
          #        ret = salesTable.checkUpdate();
          #        askingModifyInvoiced = false;
          #    }
          #
          #    if (ret && salesTableType && !salesTableType.formMethodDataSourceValidateWrite(element, salesTable_ds))
          #    {
          #        ret = false;
          #    }
          #
          #    if (ret && salesTable.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePromptOnServer(SalesTable);
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && salesTable.TaxGroup != salesTable.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(salesTable.TableId, salesTable.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #
          #    if (ret)
          #    {
          #        salesTable2LineUpdatePrompt = SalesTable2LineUpdatePrompt::newExecuteExtendedPrompt(salesTable, copyTaxGroupToMarkupTrans);
          #        // If the salesTable2LineUpdatePrompt object is null no fields are to be updated.
          #        if(salesTable2LineUpdatePrompt)
          #        {
          #            ret = salesTable2LineUpdatePrompt.parmExtendedPromptReturnValue();
          #        }
          #    }
          #
          #    // <GEERU>
          #    if (isRU
          #        && ret
          #        && salesTable2LineUpdatePrompt)
          #    {
          #        salesTable2LineUpdateFields = List::create(salesTable2LineUpdatePrompt.packedSalesTable2LineUpdateFields());
          #        salesTable2LineUpdateFieldsEnumerator = salesTable2LineUpdateFields.getEnumerator();
          #
          #        while (salesTable2LineUpdateFieldsEnumerator.moveNext())
          #        {
          #            salesTable2LineField = salesTable2LineUpdateFieldsEnumerator.current();
          #
          #            if (salesTable2LineField.fieldId()          == fieldNum(SalesTable_RU, InventProfileId_RU) &&
          #                salesTable2LineField.updateSalesLines() == NoYes::No)
          #            {
          #                // must be checked for possible inconsistence if user did not select to propagate inventProfileId to the order lines
          #                // otherwise it will be checked on sales order validateWrite() method
          #                ret = salesTable.checkInventProfile_RU(true);
          #            }
          #        }
          #    }
          #    // </GEERU>
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    DialogButton            copyAddress;
          #    boolean                 copyThirdPartyBillingAddress;
          #    boolean                 convertCurrency = false;
          #    TradeCurencyConversion  tradeCurencyConversion = TradeCurencyConversion::ExchRate;
          #    boolean                 salesLineExists;
          #    boolean                 markupTransExists;
          #    boolean                 mustReread;
          #
          #    // <GEEPL>
          #    RefRecId                serviceTariffNumber;
          #    // </GEEPL>
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        salesLineExists = SalesLine::exist(salesTable.SalesId);
          #        markupTransExists = MarkupTrans::exist(salesTable.TableId, salesTable.RecId);
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #            {
          #                [convertCurrency, tradeCurencyConversion] = SalesTable::promptConvertCurrencyCode(salesTable);
          #            }
          #        }
          #
          #        if (salesLineExists)
          #        {
          #            if (salesTable.DeliveryPostalAddress != salesTable.orig().DeliveryPostalAddress)
          #            {
          #                copyAddress = SalesTable::promptCopyDeliveryAddress();
          #            }
          #            if (salesTable.ShipCarrierPostalAddress != salesTable.orig().ShipCarrierPostalAddress)
          #            {
          #                copyThirdPartyBillingAddress = SalesTable::promptCopyThirdPartyBillingAddress() == DialogButton::Yes;
          #            }
          #        }
          #
          #        ttsbegin;
          #
          #        if (copyAddress == DialogButton::Yes || copyAddress == DialogButton::YesToAll)
          #        {
          #            salesTable.copyAddressToLine(copyAddress, salesTable);
          #        }
          #
          #        if (copyThirdPartyBillingAddress)
          #        {
          #            salesTable.copyThirdPartyBillingAddressToLine();
          #        }
          #
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (convertCurrency)
          #            {
          #                salesTable.convertCurrencyCode(salesTable.CurrencyCode, tradeCurencyConversion);
          #            }
          #            else
          #            {
          #                // Cancel has been choosen in the Convert Currency Code dialogue:
          #                //      No attempts to recalc currency code should be made;
          #                //      All changes made to the currency code have to be rolled back;
          #                //      No additional warnings should be issued concerning currency code change operation.
          #                if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #                {
          #                    salesTable.CurrencyCode = salesTable.orig().CurrencyCode;
          #                }
          #            }
          #        }
          #
          #        salesTable.Touched = NoYes::No;
          #
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceWrite(element, salesTable_ds);
          #        }
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(salesTable.TableId, salesTable.RecId, salesTable.TaxGroup, salesTable.orig().TaxGroup, copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        dimensionDefaultingControllerTable.writing();
          #
          #        // <GEEPL>
          #        serviceTariffNumber = taxServiceTariffHeader.ServiceTariffNumber;
          #        // </GEEPL>
          #
          #        super();
          #
          #        // <GEECZ>
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesTable_Intrastat)))
          #        {
          #            salesTable_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        // </GEECZ>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesTable_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        // </GBR>
          #
          #        // <GEEPL>
          #        // The service tariff relationship is lost during the super() call
          #        // from write since it is on a different data source. So, copy
          #        // the original value back in to ensure saving is done correctly.
          #        if (serviceTariffNumber && countryRegion_PL)
          #        {
          #            taxServiceTariffHeader.ServiceTariffNumber = serviceTariffNumber;
          #            taxServiceTariffHeader.ParentRecId = salesTable.RecId;
          #            taxServiceTariffHeader.ParentTableId = salesTable.TableId;
          #        }
          #        // </GEEPL>
          #
          #        //<GTH>
          #        if (TaxThaiGovCertificationFeatureChecker::isTaxBranchEnabled())
          #        {
          #            salesTableExtensionTH.TaxBranch = TaxBranchType::getTaxBranchRecIdByDefaultDimension(salesTable.DefaultDimension);
          #        }
          #        //</GTH>
          #
          #        super();
          #        if (isSalesTableExtensionTHEnabled)
          #        {
          #            salesTableExtensionTH.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        if (isSalesTableWEnabled)
          #        {
          #            salesTable_W.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #
          #        salesTableForm.salesTable(salesTable);
          #
          #        if (salesTable2LineUpdatePrompt)
          #        {
          #            salesTable2LineUpdatePrompt.run();
          #            salesTable2LineUpdatePrompt = null;
          #            mustReread = true;
          #        }
          #
          #        ttscommit;
          #
          #        if (mustReread)
          #        {
          #            salesLine_ds.research();
          #        }
          #
          #        salesTableType = null;
          #    }
          #
          #    if (headerError)
          #    {
          #        element.gotoLines();
          #    }
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ProjTable                       projTableLink;
          #    ProjInvoiceTable                projInvoiceTableLink;
          #    ProjWIPTable                    projWIPTable;
          #    CostControlTransCommittedCost   costControlTransCommittedCost;
          #    QueryBuildRange                 projIdSalesTable;
          #
          #    if (skipLinkActive)
          #    {
          #        return;
          #    }
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(CostControlTransCommittedCost):
          #            costControlTransCommittedCost =  element.args().record() as CostControlTransCommittedCost;
          #            queryBuildRangeSalesId.value(queryValue(costControlTransCommittedCost.RefId));
          #            break;
          #
          #        case tableNum(ProjTable)        :
          #            projTableLink = element.args().record() as ProjTable;
          #            queryBuildRangeProjId.value(projTableLink.ProjId+'*');
          #            break;
          #        case tableNum(ProjInvoiceTable):
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearRange(fieldNum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #            }
          #
          #            projInvoiceTableLink   = element.args().record() as ProjInvoiceTable;
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.ProjInvoiceProjId   == projInvoiceTableLink.ProjInvoiceProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #            break;
          #
          #        case tableNum(ProjWIPTable)     :
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearRange(fieldNum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #            }
          #
          #            projWIPTable   =   element.args().record() as ProjWIPTable;
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.wipProject  == projWIPTable.ProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #
          #            break;
          #
          #            case tableNum(smmActivities) :
          #            smmActivityParentLink::updateQuery(this.query().dataSourceTable(tableNum(SalesTable)), element.args().record() as smmActivities);
          #            break;
          #    }
          #
          #    if (salesTableForm.linkActive())
          #    {
          #         salesTableForm.salesTable(element.args().record() as SalesTable);
          #         salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
          #    }
          #
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceLinkActive(element, salesTable_ds);
          #    }
          #
          #    super();
          #    linkActiveHeaderExecuted = true;
          #}
        ENDSOURCE
        SOURCE #init
          #void  init()
          #{
          #    Query           query;
          #    QueryBuildRange queryBuildRange;
          #    ProdTable       prodTable;
          #    CustTable       custTable;
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(ProjTable) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeProjId = query.addDataSource(tableNum(SalesTable)).addRange(fieldNum(SalesTable, ProjId));
          #            salesTable_ds.query(query);
          #            break;
          #
          #        case tableNum(CostControlTransCommittedCost) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeSalesId = query.addDataSource(tableNum(SalesTable)).addRange(fieldNum(SalesTable, SalesId));
          #            salesTable_ds.query(query);
          #            break;
          #    }
          #
          #
          #
          #    super();
          #
          #    if ((TradeFormHelper::isCalledFromForm(element.args(), formStr(CustTable))
          #        || TradeFormHelper::isCalledFromForm(element.args(), formStr(CustTableListPage)))
          #        && element.args().record().TableId == tableNum(CustTable))
          #    {
          #        this.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #        custTable = element.args().record() as CustTable;
          #        salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addDynalink(fieldNum(SalesTable, CustAccount),element.args().record(),fieldNum(CustTable, AccountNum));
          #        queryBuildRange = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable, CustAccount));
          #        if (queryBuildRange)
          #        {
          #            queryBuildRange.value(custTable.AccountNum);
          #        }
          #    }
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(ProdTable) :
          #            prodTable = element.args().record() as ProdTable;
          #            if (prodTable.InventRefType == InventRefType::Sales && prodTable.InventRefId)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addDynalink(fieldNum(SalesTable, SalesId),element.args().record(),fieldNum(ProdTable, InventRefId));
          #                queryBuildRange = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable, SalesStatus));
          #                if (queryBuildRange)
          #                {
          #                    queryBuildRange.value(SysQuery::valueUnlimited());
          #                }
          #            }
          #            break;
          #
          #        // <NAXT>
          #        case tableNum(XAP_EquipmentTable) :
          #            if (TradeFormHelper::isCalledFromForm(element.args(), formStr(XAP_EquipmentAvailability)))
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #            }
          #            break;
          #        // </NAXT>
          #    }
          #
          #    salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editContactPersonName));
          #    // <GEEU>
          #    if (countryRegion_EEU)
          #    {
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editReasonCode), true);
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editReasonComment), true);
          #    }
          #    // </GEEU>
          #
          #    logisticsPostalAddressDeliveryHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressShipCarrierHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #
          #    logisticsPostalAddressDeliveryHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    logisticsPostalAddressShipCarrierHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU), true);
          #    }
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    if (salesTable.checkDelete())
          #    {
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceDelete(element, salesTable_ds);
          #        }
          #
          #        super();
          #
          #        dimensionDefaultingControllerTable.deleted();
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    SalesTable   newSalesTable;
          #
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    element.editSales(true);
          #
          #    if (salesTableForm.create())
          #    {
          #        if (skipLinkActive)
          #        {
          #            skipLinkActive = false;
          #            if (!linkActiveHeaderExecuted)
          #            {
          #                this.linkActive();
          #            }
          #        }
          #
          #        newSalesTable = salesTableForm.salesTable();
          #
          #        if (newSalesTable)
          #        {
          #            super(append);
          #
          #            salesTable.data(newSalesTable);
          #            //<GGH>
          #            salesTable.ExchangeRateType = XAP_OrderClass::findDefaultExchangeRateType(salesTable.OrderClassRecId);
          #            salesTable.setRate();
          #            //</GGH>
          #
          #            //<NAXT>
          #            element.orderClassModified();
          #            //</NAXT>
          #
          #            salesTable_DS.rereadReferenceDataSources();
          #
          #            // <GEERU>
          #            if (isRU)
          #            {
          #                salesTable_RU.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_RU.TableId,
          #                                                                                  salesTable.RecId,
          #                                                                                  true));
          #                salesTable_RU_DS.rereadReferenceDataSources();
          #            }
          #            // </GEERU>
          #            // <GBR>
          #            if (BrazilParameters::isEnabled())
          #            {
          #                salesTable_BR.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_BR.TableId,
          #                                                                                  salesTable.RecId,
          #                                                                                  true));
          #
          #                salesTable_BR_DS.rereadReferenceDataSources();
          #            }
          #            // </GBR>
          #
          #            // <GEERU><GBR>
          #            if (isRU || BrazilParameters::isEnabled())
          #            {
          #                salesTable_ds.refresh();
          #            }
          #            // </GBR></GEERU>
          #
          #            //<GTH>
          #            if (isSalesTableExtensionTHEnabled)
          #            {
          #                salesTable_DS.research(true);
          #            }
          #            //</GTH>
          #
          #            if (isSalesTableWEnabled)
          #            {
          #                salesTable_DS.research(true);
          #            }
          #
          #            lineViewTab.setFocus();
          #
          #            // Context is now editing. If FormOpenMode is ForNew, change it to ForEdit
          #            if (TradeFormHelper::isOpenedForNew(element.args()))
          #            {
          #                element.args().parmEnum(enum2int(FormOpenMode::ForEdit));
          #            }
          #        }
          #    }
          #    else
          #    {
          #        // If form was opened for the intent of creating new record, and with the given caller, then close form
          #        if (TradeFormHelper::isOpenedForNewFromForm(element.args()))
          #        {
          #            element.close();
          #        }
          #        else
          #        {
          #            element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #        }
          #    }
          #
          #    skipLinkActive = false;
          #}
        ENDSOURCE
        SOURCE #active
          #int  active()
          #{
          #    int             ret;
          #    SalesTableType  editSalesTableType;
          #    SalesTotals     salesTotals;
          #    boolean         allowEditDeliveryPostalAddress;
          #    container       origPackedExtensions = salesTable.PackedExtensions;
          #
          #    ret = super();
          #
          #    editSalesTableType = salesTable.type();
          #
          #    // <NAXT>
          #    if (salesTable.CreditErrorType == XAP_NoneHoldWarning::Hold)
          #    {
          #        pickAndPack.enabled(false);
          #        invoice.enabled(false);
          #        createEMR.enabled(false);
          #    }
          #    else
          #    {
          #        pickAndPack.enabled(true);
          #        invoice.enabled(true);
          #        createEMR.enabled(true);
          #    }
          #
          #    if ( salesTable.SalesStatus != SalesStatus::Delivered && salesTable.SalesStatus != SalesStatus::Backorder)
          #    {
          #        GGH_FMS_Export_FromSalesOrder.enabled(false);
          #    }
          #
          #    // </NAXT>
          #
          #    // <NAXT CU4>
          #    SalesAutoReservation.enabled(salesTable.SalesStatus == SalesStatus::Backorder);
          #    RemoveReservation.enabled(salesTable.SalesStatus == SalesStatus::Backorder || salesTable.SalesStatus == SalesStatus::Canceled);
          #    // </NAXT CU4>
          #
          #    salesTableForm.salesTable(salesTable);
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine, salesLine.LineDeliveryType);
          #    salesTableForm.enableUpdateJournalButtonsMultipleOrders(salesTable,
          #                                              buttonUpdateConfirmation,
          #                                              buttonUpdatePickingList,
          #                                              buttonUpdatePickingListRegistrate,
          #                                              buttonUpdatePackingSlip,
          #                                              buttonUpdateInvoice,
          #                                              null,
          #                                              buttonProformaConfirmation,
          #                                              buttonProformaPackingSlip,
          #                                              // <GEERU>
          #                                              buttonProformaInvoice,
          #                                              buttonUpdateInvoice4Paym_RU,
          #                                              buttonUpdateFacture_RU,
          #                                              factureEditLinesCust_RU,
          #                                              buttonProformaFacture_RU,
          #                                              buttonProformaInvoice4Paym_RU,
          #                                              /* <GEERU>
          #                                              factureEditLinesCust_Proforma_RU);
          #                                              </GEERU> */
          #                                              // <NAXT>
          #                                              factureEditLinesCust_Proforma_RU,
          #                                              xap_ExpressPickingJournal);
          #                                              // </NAXT>
          #                                              // </GEERU>
          #
          #    // <GIN>
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
          #    {
          #        salesTableForm.enableExportOrderButton_IN(
          #            salesTable,
          #            createExportOrder_IN);
          #    }
          #    // </GIN>
          #    // Enables or disables the sales order fields.
          #    if ((salesTable.SalesType == SalesType::ReturnItem && !isReturnFieldsEnabled)
          #        || (salesTable.SalesType != SalesType::ReturnItem && isReturnFieldsEnabled))
          #    {
          #        element.setReturnFields();
          #        isReturnFieldsEnabled = !isReturnFieldsEnabled;
          #    }
          #
          #    buttonLineQuickQuote.  enabled(salesTableForm.editHeaderAllowed());
          #
          #    createCase.enabled(salesTable.RecId != 0);
          #    caseButton.enabled(salesTable.RecId != 0);
          #
          #    element.editSales(salesTableForm.editHeaderAllowed());
          #
          #    salesTable_ds.object(fieldNum(SalesTable, CustAccount)   ).allowEdit(editSalesTableType.editCustAccount());
          #    salesTable_ds.object(fieldNum(SalesTable, InvoiceAccount)).allowEdit(editSalesTableType.editInvoiceAccount());
          #    salesTable_ds.object(fieldNum(SalesTable, vatNum)        ).allowEdit(editSalesTableType.editVATNum());
          #    salesTable_ds.object(fieldNum(SalesTable, InclTax)       ).allowEdit(editSalesTableType.editInclTax());
          #
          #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)       ).mandatory(salesTable.dlvModeMandatory());
          #
          #    //S012648 - SzN 17/06/2014 Begin
          #    //salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).allowEdit(editSalesTableType.editCurrencyCode());
          #    //salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).skip(!editSalesTableType.editCurrencyCode());
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).allowEdit(false);
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).skip(true);
          #    //S012648 - SzN 17/06/2014 End
          #
          #    //S012919 - SzN 24/06/2014 Begin
          #    salesTable_ds.object(fieldNum(SalesTable, ContractId)).allowEdit(ExchangeRateType::find(SalesTable.ExchangeRateType).RateFillLogic == GGH_RateFillLogic::Contract);
          #    salesTable_ds.object(fieldNum(SalesTable, ContractId)).skip(!salesTable_ds.object(fieldNum(SalesTable, ContractId)).allowEdit());
          #    //S012919 - SzN 24/06/2014 End
          #
          #    // <NAXT>
          #    salesTable_DS.object(fieldNum(SalesTable,  OrderClassRecId)).allowEdit(!salesTable.isLinkedToSvcCall());
          #    salesTable_ds.object(fieldNum(SalesTable, PurchOrderFormNum)).mandatory(salesTable.purchOrderFormNumMandatory());
          #    // </NAXT>
          #
          #    //salesTable_ds.object(fieldNum(SalesTable, PurchOrderFormNum)).visible(salesTable.ProjId=='');
          #    //salesTable_ds.object(fieldNum(SalesTable, CustomerRef)).visible(salesTable.ProjId=='');
          #
          #    //<NAXT CU5/> TFS 26470
          #    /* <NAXT>
          #    salesTable_ds.object(fieldNum(SalesTable, CustomerRef)).mandatory(salesTable.custTable_CustAccount().PurchOrderNumberRequired);
          #    </NAXT> */
          #    // <GGH>
          #    salesTable_ds.object(fieldNum(SalesTable, CustomerRef)).mandatory(salesTable.custTable_CustAccount().PurchOrderNumberRequired && !salesTable.ProjId);
          #    // </GGH>
          #
          #    salesTable_ds.object(fieldNum(SalesTable, PartStorePromotionCode)).enabled(salesTable.PartStoreOrder); // <GGH> TFS-48098 - S077821: PartStore Promo Code
          #
          #    salesTable_ds.rereadReferenceDataSources();
          #    element.showInactiveAddressBar();
          #
          #    if (tmpSalesTableTaxTransForm && !tmpSalesTableTaxTransForm.closed())
          #    {
          #        //If the tax window is already showing this documents taxes then don't recalculate.
          #        if (tmpSalesTableTaxTransForm.getHeadingRecId() != salesTable.RecId)
          #        {
          #            salesTotals = SalesTotals::construct(salesTable);
          #            salesTotals.calc();
          #            tmpSalesTableTaxTransForm.pushTaxObject(salesTotals.tax());
          #        }
          #    }
          #
          #    // <GIN>
          #    if (TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        if (tmpSalesTableTaxWithholdTransForm && !tmpSalesTableTaxWithholdTransForm.closed())
          #        {
          #            salesTotals = SalesTotals::construct(salesTable);
          #            salesTotals.calc();
          #            tmpSalesTableTaxWithholdTransForm.pushTaxObject(salesTotals.taxWithhold_IN());
          #        }
          #    }
          #    // </GIN>
          #    salesTableForm.interCompanySetHeaderAccess(interCompanyAllowIndirectCreationOrig);
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        salesTableForm.pdsSetHeaderAccess();
          #    }
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        allowEditDeliveryPostalAddress = salesTable_ds.object(fieldNum(SalesTable,DeliveryPostalAddress)).allowEdit(!salesTable.returnItem());
          #    }
          #    else
          #    {
          #    // </GBR>
          #        allowEditDeliveryPostalAddress = salesTable_ds.object(fieldNum(SalesTable,DeliveryPostalAddress)).allowEdit();
          #    // <GBR>
          #    }
          #    // </GBR>
          #    logisticsLocationSelectHeader.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewHeader.enabled(allowEditDeliveryPostalAddress);
          #
          #    eInvoice.    visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #    eInvoiceLine.visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #
          #    this.showDimAccount();
          #
          #    headerInquiry_CostControlCommittedCost.enabled(salesTable.ProjId ? true : false);
          #
          #    element.configBankDocumentControls();
          #    element.setTitleText();
          #
          #    dimensionDefaultingControllerTable.activated();
          #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
          #    {
          #        retailAddItemMenuItem.enabled(salesTableForm.editHeaderAllowed());
          #        menuItemSalesPrepayment.enabled(salesTable.SalesStatus != SalesStatus::Invoiced);
          #        btngrpAttribute.enabled(element.isRetailAttribute());
          #    }
          #
          #    // <GIN>
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
          #        salesLine_CustomsMaxRetailPrice_IN.visible(SalesTable::find(salesTable.SalesId).CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);//51568
          #        salesLine_MaximumRetailPrice_IN.enabled(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::No);
          #    }
          #    if (isIndiaWHTMarked)
          #    {
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #    }
          #    // </GIN>
          #
          #    // <NAXT>
          #    backorderTO.enabled(salesTableForm.hasWarehouseBackOrder());
          #
          #    //<GGH> TFS_32315
          #    /* original code begin
          #    //<GGH> TFS_29434
          #    if (!orderClassDesignAppliedByInit)
          #    {
          #    //</GGH> TFS_29434
          #        element.orderClassModified();
          #    //<GGH> TFS_29434
          #        orderClassDesignAppliedByInit = false;
          #    }
          #    //</GGH> TFS_29434
          #    original code end */
          #    if (SalesTable.OrderClassRecId != orderClassRecId)
          #    {
          #        element.orderClassModified();
          #        orderClassRecId = SalesTable.OrderClassRecId;
          #    }
          #    //</GGH> TFS_32315
          #
          #    salesTable_ds.object(fieldNum(SalesTable, RenMainTable)).visible(true);
          #    // </NAXT>
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        salesTable_BR_DS.enableDataSourceFields_BR();
          #    }
          #    // </GBR>
          #
          #    // <GEEPL>
          #    headerPackageParm.enabled(! salesTable.ProjId);
          #    linePackageParm.enabled  (! salesTable.ProjId);
          #    // </GEEPL>
          #
          #    tieredCharges.enabled(salesTable.markupAllowed());
          #    salesTable.PackedExtensions = origPackedExtensions;
          #
          #    //<GTH>
          #    if (isUnrealizedVATEnabled)
          #    {
          #        element.noteFormatEdit();
          #    }
          #    //</GTH>
          #
          #    CustDirectDebitMandate::defaultAndDisplayMandate(
          #        salesTable.InvoiceAccount,
          #        salesTable.PaymMode,
          #        salesTable.DirectDebitMandate,
          #        false,
          #        salesTable_ds,
          #        fieldNum(SalesTable, DirectDebitMandate));
          #
          #    // <GGH>
          #    this.lineGridViewByOrderClass();
          #    UpdatePromisedDate.enabled(salesTable.SalesStatus == SalesStatus::Invoiced ? false :true);
          #    this.moveInventDimControl();
          #    // </GGH>
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #editHeader
          #void editHeader()
          #{
          #    this.editSales();
          #}
        ENDSOURCE
        SOURCE #editSales
          #void editSales()
          #{
          #    element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #}
        ENDSOURCE
        SOURCE #reReadLines
          #void  reReadLines()
          #{
          #    salesLine_ds.executeQuery();
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    if (!salesLine.PBAItemLine::checkMandatory() )
          #    {
          #        return false;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #showDimAccount
          #void showDimAccount()
          #{
          #    if (salesTable.eInvoiceLineSpec == NoYes::No)
          #    {
          #        eInvoice_EInvoiceLineSpec.enabled(true);
          #        eInvoice_EInvoiceAccountCode.enabled(true);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(false);
          #    }
          #    else
          #    {
          #        eInvoice_EInvoiceAccountCode.enabled(false);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #checkCreditLimit
          #void checkCreditLimit()
          #{
          #    TypeOfCreditmaxCheck    typeOfCreditmaxCheck    = CustParameters::find().CreditMaxCheck;
          #    SalesUpdate qtySpec = (typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceDelivered ? SalesUpdate::PackingSlip :
          #                           typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceAll       ? SalesUpdate::All         : 0);
          #    SalesTotals salesTotals = SalesTotals::construct(salesTable, qtySpec);
          #
          #    salesTable.checkCreditLimit(salesTotals);
          #}
        ENDSOURCE
        SOURCE #refreshDDC
          #void refreshDDC()
          #{
          #    if (salesTable_ds && salesTable && salesTable.DeliveryDateControlType)
          #    {
          #        salesTable_ds.refresh();
          #    }
          #}
        ENDSOURCE
        SOURCE #lineGridViewByOrderClass
          #public void lineGridViewByOrderClass()
          #{
          #    XAP_OrderClass      orderClass = salesTable.xap_OrderClass();
          #
          #    switch (orderClass.XAP_SalesOrderLayoutType)
          #    {
          #        case XAP_SalesOrderLayoutTypeEnum::EQ:
          #            EQPreView.visible(true);
          #            EQPostView.visible(true);
          #        break;
          #        case XAP_SalesOrderLayoutTypeEnum::EQParts:
          #            EQPartsPreView.visible(true);
          #            EQPartsPostView.visible(true);
          #        break;
          #        default: //XAP_SalesOrderLayoutTypeEnum::Parts is default value because it is first in enum or field is empty.
          #            PartsPreView.visible(true);
          #            PartsPostView.visible(true);
          #        break;
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine
          Table               #SalesLine
          Index               #SalesLineIdx
          CounterField        #LineNum
          JoinSource          #SalesTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #// DCG - TFS4093 - HPe
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    infolog.closeInfolog(0);
                #
                #    ret = salesTableForm.salesLine_validateField_ItemId(ret);
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args    args;
                #    FormRun formRun;
                #
                #    // <NAXT>
                #    if (!SalesParameters::find().DefaultItemIdLookup)
                #    {
                #        XAP_ItemLookup::lookup(_formControl, element, salesLine);
                #        return;
                #    }
                #    else
                #    // </NAXT>
                #    if (EcoResProductParameters::find().pcLookupMethod == PCLookupMethod::Configurable)
                #    {
                #        args = new Args(formStr(PCProductLookup));
                #        args.caller(element);
                #        formRun = classfactory.formRunClass(args);
                #        formRun.init();
                #        this.performFormLookup(formRun, _formControl);
                #    }
                #    else if (PBAParameters::find().LookupMethod == PBALookupMethod::Configurable)
                #    {
                #        args = new Args(formStr(PBAItemIdLookup));
                #        args.caller(element);
                #        args.record(salesLine);
                #        args.parm(_filterStr);
                #        formRun = classfactory.formRunClass(args);
                #        formRun.init();
                #        this.performFormLookup(formRun, _formControl);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #void  modified()
                #{
                #    ItemId  itemId;
                #
                #    // <GIN>
                #    InventTable     inventTableLoc;
                #    // </GIN>
                #
                #    super();
                #
                #    itemId = salesLine.ItemId;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.ItemId = itemId;
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)) && itemBarcode)
                #    {
                #        salesLine.InventDimId = itemBarcode.InventDimId;
                #
                #        salesLine_ds.itemIdModified();
                #
                #        salesLine.SalesQty = itemBarcode.Qty;
                #        salesLine.SalesUnit = itemBarcode.UnitID;
                #    }
                #    else
                #    {
                #        salesLine_ds.itemIdModified();
                #    }
                #
                #    // <GIN>
                #    if (isIndiaIndirectTaxParameterMarked)
                #    {
                #        inventTableLoc = InventTable::find(salesLine.ItemId);
                #        salesLine_IN.ExciseTariffCodes_IN   = inventTableLoc.ExciseTariffCodes_IN;
                #        salesLine_IN.CustomsTariffCodeTable_IN  = inventTableLoc.CustomsExportTariffCodeTable_IN;
                #        salesLine_IN.ServiceCodeTable_IN        = inventTableLoc.ServiceCodeTable_IN;
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            //MRP defaulted from item is converted using Customs exchange rate for Export orders.
                #            salesLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine_IN.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export);
                #        }
                #        salesLine_DS.enableExciseFields_IN();
                #    }
                #    if (TaxParameters::isCustomsEnable_IN()
                #        && salesTable.CustomsExportOrder_IN
                #        && TaxParameters::find().EximIncentiveSchemes_IN)
                #    {
                #        eximSalesLine_IN.EximProductGroupTable = InventTable::find(salesLine.ItemId).EximProductGroupTable_IN;
                #        element.enableFieldsActive_IN();
                #    }
                #    if (TaxParameters::checkTaxParameters_IN())
                #    {
                #        salesLine_IN.assessableValue(salesLine);
                #    }
                #    // </GIN>
                #
                #
                #    salesLine_ds.refreshDDC();
                #
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
                #    {
                #        salesLine_ds.cacheCalculateMethod(tableMethodStr(SalesLine,pdsCWUnitId));
                #    }
                #
                #    // <NAXT>
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine, displayLineWarning));
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine, replacementIcon));
                #    // </NAXT>
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine.setTaxGroupAndTaxItemGroupFields_BR();
                #
                #        if (salesLine.inventTable().ItemType != ItemType::Service)
                #        {
                #            salesLine.LedgerDimension = SalesPurchOperationType_BR::find(salesTable_BR.SalesPurchOperationType_BR).LedgerDimension;
                #        }
                #
                #        salesLine_ds.refresh();
                #
                #        salesLine_BR_DS.enableDataSourceFields_BR();
                #    }
                #    // </GBR>
                #    // <GGH>
                #    if (salesLine.inventTable().FreezeSalesPrice)
                #    {
                #        salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
                #        salesLine_ds.object(fieldNum(SalesLine, LineAmount)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
                #    }
                #    // </GGH>
                #}
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    // Do not default Name from category when modified.
                #    keepName = true;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesPrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #
                #    // <NAXT-2012-DCG>
                #    salesCostBreakdownLines_ds.research();
                #    //<GGH> TFS 34657
                #    /*
                #    salesTable_ds.research(true);
                #    */
                #    //</GGH>
                #    // </NAXT-2012-DCG>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineAmount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    salesLine_ds.active();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Reservation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (#PdsSameLotEnabled
                #        && salesLine.Reservation == ItemReservation::Automatic)
                #    {
                #        // trigger a change on the quantity, so batch reservation can be called
                #        salesTable_ds.object(fieldNum(SalesLine, SalesQty)).modified();
                #    }
                #
                #    salesTableForm.pdsSetLineAccess(salesLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim);
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine.calcPackingUnitQty(inventDim);
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret && salesLine.RecId && !salesLine.isAgreementLinkValid())
                #    {
                #        ret = salesLine.unLinkAgreementLinePrompt(fieldNum(SalesLine,SalesUnit));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjTransId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ProjItemTrans::jumpRefTransId(salesLine, element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    // <GGH> TFS_46502
                #    if (ret)
                #    {
                #        ret = XAP_PICPackageQtyAdjustment::validateRefillQty(salesLine);
                #    }
                #    // </GGH> TFS_46502
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #void  modified()
                #{
                #    if (salesLine.SalesQty > 0 && salesLine.type().mustSalesQtyBeNegative())
                #    {
                #        error("@SYS98119");
                #    }
                #
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #    salesLine.modifyWMSLocation(inventDim, false);
                #
                #    element.checkCreditNoteLine();
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #
                #    // <GIN>
                #    salesLine_DS.enableExciseFields_IN();
                #    // </GIN>
                #
                #    salesLine_ds.refresh();
                #
                #    if (PBATableInstance::existsPost(salesLine.InventTransId))
                #    {
                #        if (salesLine.orig().SalesPrice &&
                #            salesLine.orig().SalesPrice != salesLine.SalesPrice)
                #        {
                #            if (PBAParameters::find().PriceCalc == NoYes::Yes)
                #            {
                #                //salesLine.SalesPrice = salesLine.orig().SalesPrice;
                #                salesLine.calcLineAmount();
                #            }
                #            else
                #            {
                #                if (Box::yesNo("@SYS97951", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #                {
                #                    salesLine_ds.write();
                #                    element.pbaConfigureLine();
                #                }
                #            }
                #        }
                #        if (salesLine.orig().SalesQty != salesLine.SalesQty)
                #        {
                #            if (Box::yesNo("@SYS97953", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #            {
                #                salesline_ds.write();
                #                element.pbaConfigureLine();
                #            }
                #            else
                #            {
                #                //clean up BOM, Route and PBA id fields
                #                salesLine.ItemBOMId = '';
                #                salesLine.ItemRouteId = '';
                #                salesLine.ItemPBAId = '';
                #            }
                #        }
                #    }
                #    // PBA end
                #
                #    // <GIN>
                #    if (TaxParameters::isCustomsEnable_IN())
                #    {
                #        if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty < 0)
                #        {
                #            eximSalesLine_IN.ApplyDEPB                = NoYes::No;
                #            eximSalesLine_IN.MarketValue              = 0.00;
                #            eximSalesLine_IN.dbkCenvatStatus          = EximDBKCenvatStatus_IN::None;
                #            eximSalesLine_IN.dbkRateType              = EximDBKRateType_IN::AllIndustryRate;
                #            eximSalesLine_IN.dbkPercent               = 100;
                #            eximSalesLine_IN.EximIncentiveSchemeGroup = 0;
                #            eximSalesLine_IN.EximPorts                = 0;
                #            eximSalesLine_IN.EximProductGroupTable    = 0;
                #        }
                #
                #        if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty > 0)
                #        {
                #            eximSalesLine_IN.EximProductGroupTable = InventTable::find(salesLine.ItemId).EximProductGroupTable_IN;
                #        }
                #
                #        element.setEximFieldsAccess_IN();
                #    }
                #    // </GIN>
                #
                #    salesLine_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventRefId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    //<NAXT>
                #    InventJournalTable      inventJournalTable;
                #    Args                    args;
                #
                #    if (salesLine.InventRefType == InventRefType::InventJournal)
                #    {
                #        inventJournalTable = InventJournalTable::find(salesLine.InventRefId);
                #        args  = new Args();
                #        args.record(inventJournalTable);
                #        MenuFunction::runClient(menuitemDisplayStr(InventJournalTableBOM), MenuItemType::Display, false, args);
                #        return;
                #    }
                #    //</NAXT>
                #
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemBOMId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTable::lookupBOMId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemRouteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTable::lookupRouteId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventTransIdReturn
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTransOrigin::lookupTransIdReturn(_formControl, salesLine, inventDim);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.checkCreditNoteLine();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerLine.activated();
                #
                #    //S013080 - SzN 26/06/2014 Begin
                #    dimensionDefaultingControllerLineProduct.activated();
                #    //S013080 - SzN 26/06/2014 End
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CaseTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesCategory
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::resolveCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Sales);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::lookupCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Sales);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCategory   salesCategory;
                #    ItemFreeTxt     name;
                #
                #    if (keepName)
                #    {
                #        name           = salesLine.Name;
                #    }
                #
                #    // Reset line, but keep category
                #    salesCategory = salesLine.SalesCategory;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.SalesCategory   = salesCategory;
                #
                #    super();
                #
                #    // Name is defaulted from category in super(). So we revert to saved value it if needed.
                #    if (keepName)
                #    {
                #        salesLine.Name = name;
                #    }
                #
                #    // Enabled/disable fields
                #    salesLine_ds.changedStockedStatus(true);
                #
                #
                #    if (salesLine.isCategoryBased())
                #    {
                #        if (salesTable.MatchingAgreement)
                #        {
                #            salesLine.SalesPurchLine::autoMatchAgreementLine(salesTable.MatchingAgreement);
                #        }
                #
                #        if (salesLineForeignTradeCategory.SalesLineDataAreaId == '')
                #        {//Only create record if no one exists
                #            salesLineForeignTradeCategory_ds.allowCreate(true);
                #            salesLineForeignTradeCategory_ds.create();
                #            salesLineForeignTradeCategory_ds.allowEdit(true);
                #            salesLineForeignTradeCategory_ds.allowCreate(false);
                #        }
                #    }
                #    else
                #    {
                #        salesLineForeignTradeCategory.clearFormFields();
                #        salesLineForeignTradeCategory_ds.allowEdit(false);
                #        salesLineForeignTradeCategory_ds.refresh();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ActivityNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    HierarchyTreeTable::lookupHierarchyTree(_formControl, ProjTable::find(salesLine.ProjId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD LedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return ledgerDefaultAccountController.resolveReference();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExpectedRetQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.refresh(); // redraw display controls
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.CustAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable,
                #        [LogisticsLocationRoleType::Delivery], false,
                #        LogisticsLocationSelectionLookup::transactionAssociatedAddresses(
                #            tableNum(SalesLine),
                #            fieldNum(SalesLine, DeliveryPostalAddress),
                #            fieldNum(SalesLine, SalesId),
                #            salesTable.SalesId,
                #            salesTable.DeliveryPostalAddress));
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ShipCarrierName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemPBAId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    PBAVersion::lookupPBAId(_formControl, salesLine.ItemId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD RetailVariantId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #/// <summary>
                #/// Jump Reference
                #/// </summary>
                #public void jumpRef()
                #{
                #    Args args = new Args();
                #
                #    args.caller(element);
                #    args.record(InventTable::find(salesLine.ItemId));
                #    args.lookupRecord(EcoResDistinctProductVariant::find(InventDimCombination::findVariantId(salesLine.RetailVariantId).DistinctProductVariant));
                #
                #    new MenuFunction(menuitemDisplayStr(EcoResProductVariantsAction), MenuItemType::Display).run(args);
                #}
              ENDSOURCE
              SOURCE #modified
                #/// <summary>
                #/// Retail Variant ID - Modified
                #/// </summary>
                #public void modified()
                #{
                #    InventDimCombination    comb;
                #
                #    super();
                #
                #    comb = InventDimCombination::findVariantId(salesLine.RetailVariantId);
                #    if (comb)
                #    {
                #        inventDim.InventSizeId = comb.inventDim().InventSizeId;
                #        inventDim.InventColorId = comb.inventDim().InventColorId;
                #        inventDim.InventStyleId = comb.inventDim().InventStyleId;
                #        inventDim.ConfigId = comb.inventDim().ConfigId;
                #        // set Name according to VariantId
                #        salesLine.InventDimId    = InventDim::findOrCreate(inventDim).InventDimId;
                #        salesLine.initFromProductDimensions(inventDim);
                #
                #        // set Unit price according to VariantId trade agreements
                #        salesLine.setPriceDisc(inventDim);
                #
                #        salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #    }
                #}
              ENDSOURCE
              SOURCE #lookup
                #/// <summary>
                #/// RetailVariantId - Lookup
                #/// </summary>
                #/// <param name="_formControl">
                #/// Form String Control
                #/// </param>
                #/// <param name="_filterStr">
                #/// Filter String
                #/// </param>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    // super(_formControl, _filterStr);
                #
                #    FormRun formRun = classfactory.formRunClass(new Args(formStr(RetailVariantLookup)));
                #    FormStringControl formControl = _formControl;
                #    ;
                #
                #    formRun.args().parm(salesLine.ItemId);
                #    formRun.args().caller(_formControl);
                #    formRun.init();
                #
                #    formRun.run();
                #    formControl.performFormLookup(formRun);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PdsCWQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.modifyWMSLocation(inventDim, false);
                #
                #    element.checkCreditNoteLine();
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD TradeInRefRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    XAP_TradeInSelectItem   selectItem = new XAP_TradeInSelectItem();
                #
                #    selectItem.parmCallerControl(_formControl);
                #    selectItem.run(salesLine);
                #
                #    if (selectItem.parmSelectedRecId() && selectItem.parmSelectedRecId() != salesLine.TradeInRefRecId)
                #    {
                #        SalesLine::updateTradeInReference(salesLine,
                #                                          selectItem.parmSelectedRecId(),
                #                                          selectItem.parmInventEquipmentId(),
                #                                          selectItem.parmEquipmentDimensionValue());
                #
                #        _formControl.update();
                #
                #        inventDim.data(InventDim::find(salesLine.InventDimId));
                #
                #        salesLine_ds.refresh();
                #    }
                #
                #}
                #// </NAXT>
              ENDSOURCE
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    RefRecId    prevReference;
                #    SalesLine   checkSalesLine;
                #
                #    prevReference = salesLine.orig().TradeInRefRecId;
                #
                #    super();
                #
                #    if (salesLine.TradeInRefRecId && salesLine.TradeInRefRecId != prevReference)
                #    {
                #        select firstonly SalesId, RecId, InventDimId, LineType from checkSalesLine
                #            where checkSalesLine.RecId == salesLine.TradeInRefRecId;
                #
                #        if (checkSalesLine.RecId                         &&
                #            checkSalesLine.SalesId  == salesLine.SalesId &&
                #            checkSalesLine.LineType == XAP_LineTypes::Equipment)
                #        {
                #            SalesLine::updateTradeInReference(salesLine,
                #                                              salesLine.TradeInRefRecId,
                #                                              checkSalesLine.inventEquipmentId(),
                #                                              XAP_DimensionHandler::dimensionValue(checkSalesLine.DefaultDimension, XAP_DimensionEntryCode::Equipment));
                #
                #            inventDim.data(InventDim::find(salesLine.InventDimId));
                #
                #            salesLine_ds.refresh();
                #        }
                #        else
                #        {
                #            salesLine.TradeInRefRecId = prevReference;
                #        }
                #    }
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD SubLineOf
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SalesLine::lookupSublineOf(salesLine, _formControl);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CostBreakdownMargin
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <NAXT-2012-DCG>
                #public void modified()
                #{
                #    super();
                #
                #    salesCostBreakdownLines_ds.research();
                #}
                #// </NAXT-2012-DCG>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SmartSourcingNeedByDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    if (salesLine.SmartSourcingNeedByDate < systemDateGet())
                #    {
                #        throw error("@XAP13096");
                #    }
                #    else
                #    {
                #        ret = super();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DestinationCodeRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #     ret = SalesTable::lookupDestinationCode(_formReferenceControl,
                #                                            salesTable.OrderClassRecId,
                #                                            salesLine.inventDim().InventLocationId,
                #                                            salesLine.DlvMode,
                #                                            salesLine.DlvReasonId);
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD DlvReasonId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (XWM_Parameters::find().EnableTecsysWMS == NoYes::Yes)
                #    {
                #        SalesTable::lookupDlvReason(_formControl,
                #                                    salesTable.OrderClassRecId,
                #                                    salesLine.inventDim().InventLocationId,
                #                                    salesLine.DlvMode);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WMSOrderTypeRecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #     ret = SalesTable::lookupWMSOrderType(_formReferenceControl,
                #                                            salesTable.OrderClassRecId,
                #                                            salesLine.inventDim().InventLocationId,
                #                                            salesLine.DlvMode,
                #                                            salesLine.DlvReasonId);
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD CATPWC
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    super();
                #
                #    // <NAXT CU4>
                #    if (salesLine.CATPWC && pwcLookupRefRecId)
                #    {
                #        salesLine.CICCode = XAP_CRMPWCCICCodeTable::findRecId(pwcLookupRefRecId).CICCode;
                #    }
                #
                #    //salesTable_ds.refresh();
                #    salesLine_ds.refresh();
                #    // </NAXT CU4>
                #
                #}
                #// </NAXT>
              ENDSOURCE
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args        args;
                #    FormRun     formRun;
                #
                #    args = new Args(formStr(XAP_PWCCICCodeLookup));
                #
                #    // <NAXT CU4>
                #    args.caller(element);
                #    //args.record(salesTable);
                #    args.record(salesLine);
                #    // </NAXT CU4>
                #
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #    formRun.init();
                #
                #    this.performFormLookup(formRun, _formControl);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD EquipmentSIS
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #//<NAXT>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return XAP_EquipmentTable::lookUpEquipmentTableReference(_formReferenceControl,
                #                                                salesTable,
                #                                                sis_MachineTypeId.value(),
                #                                                false,
                #                                                XAP_EquipmentTableLookupType::Equipment);
                #}
                #//</NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD SICCodeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args        args;
                #    FormRun     formRun;
                #
                #    args = new Args(formStr(XAP_SICCodeLookup));
                #
                #    args.caller(_formControl);
                #    args.record(salesTable);
                #
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #    formRun.init();
                #
                #    this.performFormLookup(formRun, _formControl);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EquipmentAttachedTo
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr = "")
                #{
                #    SalesLine::lookupAttachedTo(_formControl, salesLine.SalesId, salesLine.RecId);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FreezePrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    super();
                #
                #    if (!salesLine.FreezePrice)
                #    {
                #        salesLine.setPriceDisc(salesLine.inventDim());
                #    }
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EquipmentSMU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #//<GGH>
                #public void modified()
                #{
                #    super();
                #    if (InventParameters::find().PexFunctionality)
                #    {
                #        salesLine_ds.object(fieldNum(SalesLine, EquipmentSMUCaptureDate)).mandatory((salesLine.EquipmentSMU != 0));
                #    }
                #
                #}
                #//</GGH>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSerialIdInstalledOn
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventSerial::lookUpSerialIdByItem( _formControl,
                #                                        salesLine,
                #                                        true);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ExchangeRate
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ExchangeRateType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    /* <SYS>
                #    super();
                #    </SYS> */
                #    // <GGH>
                #    /*
                #    GGH_ExchangeRateSearchHelper::setDataSourceCurrencyFieldAccess(SalesLine_ds,
                #                                                                    SalesLine,
                #                                                                    fieldStr(SalesLine, ExchangeRateType),
                #                                                                    fieldNum(SalesLine, ExchangeRate),
                #                                                                    fieldNum(SalesLine, RateContractId));
                #    if (SalesLine.checkRateContractId())
                #    {
                #    */
                #    super();
                #    /*
                #    }
                #    else
                #    {
                #
                #        SalesLine.ExchangeRateType = SalesLine.orig().ExchangeRateType;
                #    */
                #        GGH_ExchangeRateSearchHelper::setDataSourceCurrencyFieldAccess(SalesLine_ds,
                #                                                                        SalesLine,
                #                                                                        fieldStr(SalesLine, ExchangeRateType),
                #                                                                        fieldNum(SalesLine, ExchangeRate),
                #                                                                        fieldNum(SalesLine, RateContractId));
                #    //}
                #    // </GGH>
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    SysReferenceTableLookup sysReferenceTableLookup;
                #    Query                   query;
                #    QueryBuildDataSource    qbdsExchangeRateType, qbdsOrderClassExchangeRateType;
                #
                #    sysReferenceTableLookup = SysReferenceTableLookup::newParameters(tableNum(ExchangeRateType), _formReferenceControl, true);
                #    query                           = new query();
                #    qbdsExchangeRateType            = query.addDataSource(tableNum(ExchangeRateType));
                #
                #    qbdsOrderClassExchangeRateType  = qbdsExchangeRateType.addDataSource(tableNum(GGH_OrderClassExchangeRateTypes));
                #
                #    qbdsOrderClassExchangeRateType.addRange(fieldNum(GGH_OrderClassExchangeRateTypes, OrderClass)).value(SysQuery::value(salestable.OrderClassRecId));
                #    qbdsOrderClassExchangeRateType.joinMode(JoinMode::ExistsJoin);
                #    qbdsOrderClassExchangeRateType.relations(true);
                #
                #    sysReferenceTableLookup.parmQuery(query);
                #    sysReferenceTableLookup.addLookupfield(fieldNum(ExchangeRateType, Name));
                #    sysReferenceTableLookup.addLookupfield(fieldNum(ExchangeRateType, Description));
                #
                #    ret = sysReferenceTableLookup.performFormLookup();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD RateContractId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    /* <SYS>
                #    super(_formControl, _filterStr);
                #    </SYS> */
                #    // <GGH>
                #    //S012283 - SzN 25/06/2014 Begin
                #    //ExchangeRate::lookupContractIdByRateType(_formControl, SalesLine.ExchangeRateType);
                #    ExchangeRate::lookupContractIdByRateType(_formControl, SalesLine.ExchangeRateType, SalesLine.CurrencyCode);
                #    //S012283 - SzN 25/06/2014 End
                #    // </GGH>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BOMReferenceLot
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #deleteMarked
          #// <NAXT>
          #public void deleteMarked()
          #{
          #    // <NAXT CU4> T21081
          #    MultiSelectionHelper    msh;
          #    SalesLine               salesLineLocal;
          #    FormDataSource          fds;
          #    Common                  buffer;
          #
          #    msh = MultiSelectionHelper::createFromCaller(this.formRun());
          #    buffer = msh.getFirst();
          #    if (buffer.TableId == tableNum(SalesLine))
          #    {
          #        salesLineLocal = buffer;
          #        fds = msh.parmDatasource();
          #        while (salesLineLocal)
          #        {
          #            if (salesLineLocal.ExchangeCoreCharge == XAP_ExchangeCoreCharge::Charge)
          #            {
          #                fds.findRecord(salesLineLocal);
          #                fds.mark(0);
          #            }
          #            salesLineLocal = msh.getNext();
          #        }
          #    }
          #    // </NAXT CU4>
          #    super();
          #
          #    this.executeQuery();
          #}
          #// </NAXT>
        ENDSOURCE
        SOURCE #researchSalesTableDS
          #// <NAXT>
          #public void researchSalesTableDS()
          #{
          #    salesTable_ds.research(true);
          #}
          #// </NAXT>
        ENDSOURCE
        SOURCE #enableDataSourceFields_BR
          #public void enableDataSourceFields_BR()
          #{
          #    boolean enableDeliveryTaxGroups = salesLine.SalesType == SalesType::ItemReq || salesLine_BR.DeliveryCFOPTable_BR;
          #
          #    salesLine_ds.object(fieldNum(SalesLine, DeliveryTaxGroup_BR)).allowEdit(enableDeliveryTaxGroups);
          #    salesLine_ds.object(fieldNum(SalesLine, DeliveryTaxItemGroup_BR)).allowEdit(enableDeliveryTaxGroups);
          #}
        ENDSOURCE
        SOURCE #initCustInvoiceTrans
          #// <GEEU>
          #private void initCustInvoiceTrans()
          #{
          #    Query                   query;
          #    QueryBuildDataSource    qbds;
          #    QueryBuildRange         qbr;
          #
          #    query = new Query();
          #    qbds = query.addDataSource(tableNum(CustInvoiceTrans));
          #
          #    qbr = qbds.addRange(fieldNum(CustInvoiceTrans, RecId));
          #    qbr.value(SysQuery::value(salesLine.RefReturnInvoiceTrans_W));
          #
          #    custInvoiceTrans_ds.query(query);
          #    custInvoiceTrans_ds.executeQuery();
          #}
          #// </GEEU>
        ENDSOURCE
        SOURCE #allowEditLine_PL
          #// <GEEU>
          #private void allowEditLine_PL()
          #{
          #    boolean isCreditNote_PL;
          #
          #    isCreditNote_PL = salesTable.isCreditNote_PL();
          #
          #    salesLine_DS.object(fieldNum(SalesLine, Reservation)).allowEdit(! isCreditNote_PL);
          #
          #    salesLine_DS.object(fieldNum(SalesLine, CreditNoteReasonCode)).allowEdit(isCreditNote_PL);
          #    wmsOrderAllowCreate.enabled(!isCreditNote_PL);
          #    inventTransPick.enabled(!isCreditNote_PL);
          #
          #    if (salesLine.CreditNoteInternalRef_PL && !salesLine.RefReturnInvoiceTrans_W && !salesLine.ProjId && salesLine.aiExistsOnOriginalInvoice())
          #    {
          #        salesLine_DS.object(fieldNum(SalesLine, SalesQty)).allowEdit  (false);
          #        salesLine_DS.object(fieldNum(SalesLine, LineAmount)).allowEdit(false);
          #    }
          #}
          #// </GEEU>
        ENDSOURCE
        SOURCE #active_BR
          #private void active_BR()
          #{
          #    salesLine_BR_ds.object(fieldNum(SalesLine_BR, TaxServiceCode_BR)).allowEdit(!salesLine_BR.TaxServiceCode_BR);
          #
          #    if (salesLine.ProjId)
          #    {
          #        if (salesLine.SalesType == SalesType::ItemReq)
          #        {
          #            salesLine_BR_ds.object(fieldNum(SalesLine_BR, TaxServiceCode_BR)).allowEdit(false);
          #        }
          #    }
          #
          #    salesLine_BR_DS.enableDataSourceFields_BR();
          #    this.enableDataSourceFields_BR();
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    super();
          #
          #    if (isCalledFromLP)
          #    {
          #        isCalledFromLP = false;
          #        if (salesTable && TradeFormHelper::isEditableNotGridView(element.args()))
          #        {
          #            salesLine_SalesQty.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #enableProjectFields
          #void enableProjectFields()
          #{
          #    if (salesLine.ProjId)
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(true);
          #        salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(true);
          #        salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(true);
          #    }
          #    else
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(false);
          #        salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(false);
          #        salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(false);
          #    }
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean ret = true;
          #    str warning = salesLine.type().getDeleteWarning();
          #
          #    if (warning != "")
          #    {
          #        ret = (Box::yesNo(warning, DialogButton::No) == DialogButton::Yes)
          #            && salesLine.validateDelete();
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #changedStockedStatus
          #/// <summary>
          #/// Updates the form to reflect the current stocked status, i.e. after a change to the stocked field based on itemid or category field change.
          #/// </summary>
          #/// <param name="_resetPrice">
          #/// A boolean value that specifies if price should be reset for the line.
          #/// </param>
          #void changedStockedStatus(boolean _resetPrice)
          #{
          #    // Update inventDim with new data which has been set due to modification
          #    inventDim.data(InventDim::find(salesLine.InventDimId));
          #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventLocationId), _resetPrice);
          #
          #    InventMovement::bufferSetTransQtyUnit(salesLine);
          #    // Update inventdim fields
          #    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
          #    // Update tagging fields based on dimension settings.
          #    element.updateRFIDTagging();
          #
          #    // Disable category editing if itemid is selected
          #    salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(salesLine.ItemId == '');
          #    // Disable itemid editing if only a category is selected
          #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(!salesLine.isCategoryBased());
          #
          #    // Update allow edit for scrap
          #    element.checkCreditNoteLine();
          #    // Update allow edit for inventory fields
          #
          #    salesTableForm.pdsSetLineAccess(salesLine);
          #    salesTableForm.adjustLineAccessBasedOnItem(salesLine);
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, AssetId_RU)).allowEdit(salesLine.ItemId &&
          #                                                                       InventTable::find(salesLine.ItemId).AssetGroupId_RU != '' ||
          #                                                                       salesLine.SalesCategory);
          #    }
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #inventDim
          #InventDim inventDim()
          #{
          #    return inventDim;
          #}
        ENDSOURCE
        SOURCE #itemIdModified
          #/// <summary>
          #/// Updates the <c>SalesLine</c> and form based on the item when changed.
          #/// </summary>
          #void itemIdModified()
          #{
          #    this.changedStockedStatus(false); //GGH TFS31714 - move up
          #
          #    //resetPrice is false here because, it would be called subsequently from changedStockedStatus.
          #    //if an agereement is associated with the SO then reset the price since it won't be reset after the mathichg agreement line is found.
          #    salesLine.itemIdChanged(salesTable.MatchingAgreement !=0, salesTable.MatchingAgreement);
          #
          #    // <NAXT>
          #    element.setTradeInFields();
          #    // </NAXT>
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        salesTableForm.enableLineSalesQtyFields(
          #            salesLine,
          #            salesLine.SalesUnit != '',
          #            salesLine.inventTable().isStocked());
          #    }
          #    // Reread ReferenceGroup controls, e.g. to show the category name.
          #    salesLine_ds.rereadReferenceDataSources();
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    //S013080 - SzN 26/06/2014 Begin
          #    dimensionDefaultingControllerLineProduct.activated();
          #    //S013080 - SzN 26/06/2014 End
          #
          #    // <GEERU>
          #    element.enableForeignTrade_RU();
          #    // </GEERU>
          #
          #    //<GGH>
          #    //TODO: MOVE to Interaction class and eliminate the duplicate finds
          #    if (salesLine.inventTable().FreezeSalesPrice)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #        salesLine_ds.object(fieldNum(SalesLine, LineAmount)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #        salesLine_ds.object(fieldNum(SalesLine, LineDisc)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #        salesLine_ds.object(fieldNum(SalesLine, LinePercent)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #    }
          #    //</GGH>
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #lineDeliveryTypeImage
          #display LineDeliveryTypeImage lineDeliveryTypeImage(SalesLine _salesLine)
          #{
          #    return imageList.image(_salesLine.lineDeliveryImageRessNo());
          #}
        ENDSOURCE
        SOURCE #initValue
          #void  initValue()
          #{
          #    salesLine.initFromSalesTable(salesTable);
          #
          #    // For category based lines Name should be kept if manually modified.
          #    keepName = false;
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, itemName), false);
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, timeZoneSite), true);
          #
          #    if (InventParameters::find().UseQualityManagement)
          #    {
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, qualityOrderStatusDisplay), true);
          #    }
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        this.cacheAddMethod(tableMethodStr(SalesLine, pdsCWUnitId));
          #    }
          #    // <GEEU>
          #    if (countryRegion_EEU)
          #    {
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, editReasonCode));
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, editReasonComment));
          #    }
          #    // </GEEU>
          #
          #    logisticsPostalAddressDeliveryLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressShipCarrierLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #
          #    logisticsPostalAddressDeliveryLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    logisticsPostalAddressShipCarrierLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #
          #    // <NAXT>
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, displayMultipleReplacementLineWarning));
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, displayLineWarning));
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, reservedPhysicalInSalesUnit));
          #    // </NAXT>
          #}
        ENDSOURCE
        SOURCE #salesTable_ds
          #FormDataSource salesTable_ds()
          #{
          #    return salesTable_ds;
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    SalesLine   localSalesLine;
          #    SalesLine   salesLineFind;
          #    boolean     agreementWasChanged = (salesLine.MatchingAgreementLine != salesLine.orig().MatchingAgreementLine);
          #    boolean     wasDataSourceResearched = false;
          #    // <GEEU>
          #    SalesQty    origSalesQty_PL;
          #    // </GEEU>
          #    boolean     updatePricingCalculationCache = SalesLine.RecId == 0;
          #
          #    // <GEEPL>
          #    RefRecId    serviceTariffNumber;
          #    // </GEEPL>
          #
          #    //<NAXT_TFS19483_LD>
          #    XAP_OutstandingCoreLine outstandingCoreLine;
          #    //</NAXT_TFS19483_LD>
          #
          #    // <NAXT>
          #    if (salesLine.RecVersion == 0
          #     && !salesLine.EquipmentId
          #     && salesLine.inventDim().InventEquipmentId)
          #    {
          #        salesLine.type().updateSublineOf();
          #    }
          #    // </NAXT>
          #
          #    if (!salesTable.checkCreditCard())
          #    {
          #        salesTable_ds.setTouched();
          #    }
          #
          #    autoConfig = salesLine.PBAItemLine::doConfigureOnWrite();
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        // <GEEU>
          #        origSalesQty_PL = salesLine.orig().SalesQty;
          #        // </GEEU>
          #
          #        salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #        salesTableForm.salesLine_Write(salesLine);
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(salesLine.TableId, salesLine.RecId, salesLine.TaxGroup, salesLine.orig().TaxGroup, copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        dimensionDefaultingControllerLine.writing();
          #
          #        // <GEEPL>
          #        serviceTariffNumber = taxServiceTariffLine.ServiceTariffNumber;
          #
          #        // </GEEPL>
          #        super();
          #
          #        if (updatePricingCalculationCache)
          #        {
          #            salesTableForm.recalculatePotencyPricingCache(salesLine.RecId, salesLine.ItemId);
          #        }
          #
          #        // <GEECZ>
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_Intrastat)))
          #        {
          #            salesLine_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GEECZ>
          #
          #        if (!salesLine_IN.RecId)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            salesLine_IN.SalesLine = salesLine.RecId;
          #            salesLine_IN_ds.write();
          #        }
          #
          #
          #        // <GEEPL>
          #        // The service tariff relationship is lost during the super() call
          #        // from write since it is on a different data source. So, copy
          #        // the original value back in to ensure saving is done correctly.
          #        if (serviceTariffNumber && countryRegion_PL)
          #        {
          #            taxServiceTariffLine.ServiceTariffNumber = serviceTariffNumber;
          #            taxServiceTariffLine.ParentRecId = salesLine.RecId;
          #            taxServiceTariffLine.ParentTableId = salesLine.TableId;
          #        }
          #        // </GEEPL>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesLine_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GBR>
          #
          #        // Agreement linking is handled as part of SalesLine insert/update/delete
          #
          #        if (salesLine.isCategoryBased() && !salesLineForeignTradeCategory.SalesLineInventTransId)
          #        {
          #            salesLineForeignTradeCategory.initFromSalesLine(salesLine);
          #            salesLineForeignTradeCategory_ds.write();
          #            salesLine.type().updatePendingRegistrationsNonStocked(false);
          #        }
          #
          #        // <GEEU>
          #        if (countryRegion_EEU && !isRU)
          #        {
          #            salesLine.updateCreditNoteMarking_PL(origSalesQty_PL);
          #        }
          #        // </GEEU>
          #
          #        if (salesLine.InventDimId != inventDim.InventDimId)
          #        {
          #            inventDim.data(InventDim::find(salesLine.InventDimId));
          #            inventDim_ds.setCurrent();
          #        }
          #
          #        // <GIN>
          #        if (isSalesLine_INEnabled)
          #        {
          #            salesLine_IN.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GIN>
          #
          #        salesTableForm.refreshDeliverySchedule(salesLine, agreementWasChanged && !salesLine.MatchingAgreementLine);
          #
          #        if (
          #        SalesLine::setConfirmedDatesUsingUIStrategy(salesLine, salesTable)
          #        )
          #        {
          #            salesLine.update();
          #            salesLine_ds.reread();
          #            salesLine_ds.refresh();
          #        }
          #        else
          #        {
          #            salesLine_ds.reread();
          #        }
          #
          #        if (PurchTable::find(salesLine.InventRefId).InterCompanyOrder
          #        ||  salesTable.InterCompanyOrder)
          #        {
          #            localSalesLine.data(salesLine.data());
          #            salesLine_ds.executeQuery();
          #            salesLine_ds.findRecord(localSalesLine);
          #        }
          #        salesTable_ds.reread();
          #        salesTable_ds.refresh();
          #        //lines have changed so salesTable.estimated migth need to be re-calculated
          #        salesTable_ds.setTouched();
          #    }
          #
          #    if (autoConfig)
          #    {
          #        // start the configuration process
          #        salesLine.PBAItemLine::autoConfig();
          #
          #        // finds the current selected sales line
          #        salesLineFind = SalesLine::findInventTransId(salesLine.InventTransId);
          #        // syncs sales table with db
          #        salesLine_ds.research();
          #
          #        // updates table ui
          #        salesLine_DS.reread();
          #
          #        // finds the current selected sales line
          #        salesLine_ds.findRecord(salesLineFind);
          #
          #        wasDataSourceResearched = true;
          #    }
          #
          #    if (!askingModifyInvoiced && !wasDataSourceResearched)
          #    {
          #        // if using retail pricing, re-query the sales lines (discounts may have changed for other lines)
          #        if (RetailParameters::isRetailEnabledAndInUse() &&
          #            RetailPricingEngine::useRetailPricing(salesLine))
          #        {
          #            salesLine_ds.research(true);
          #        }
          #    }
          #
          #    interCompanyIsPriceDiscSearchNeeded = 0;
          #
          #    if (salesTable.CashDiscPercent && salesLine.SalesQty < 0)
          #    {
          #        if (salesLine.creditNoteLine())
          #        {
          #            info("@SYS99047");
          #        }
          #    }
          #
          #    if (salesTable.ProjId)
          #    {
          #        element.automaticTotalDiscount();
          #    }
          #
          #    //<NAXT_TFS19483_LD>
          #    ttsBegin;
          #
          #    select firstonly RecId
          #        from outstandingCoreLine
          #        where outstandingCoreLine.ReferenceTransId == salesLine.InventTransId;
          #
          #    if (!outstandingCoreLine.RecId && InventTable::find(salesLine.ItemId).ExchangeType == XAP_ExchangeTypes::WornCore)
          #    {
          #        outstandingCoreLine.RecId               = 0;
          #        outstandingCoreLine.ReferenceTransId    = salesLine.InventTransId;
          #        outstandingCoreLine.insert();
          #    }
          #
          #    ttsCommit;
          #    //<NAXT_TFS19483_LD>
          #}
          #
        ENDSOURCE
        SOURCE #linkActive
          #void  linkActive()
          #{
          #    super();
          #
          #    /* Set caption */
          #    if (!salesLine && salesTable)
          #    {
          #        salesTableForm.salesTable(salesTable);
          #        salesLine_ds.create();
          #        if(lineViewHeader.isDisplayed()) // NAXT TFS21154
          #        {
          #            lineViewHeader.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    SalesId salesId;
          #    boolean interCompanySalesLineExist;
          #    // <GEEU>
          #    boolean mustFormResearchAfterDelete = salesTableForm.mustFormResearchAfterDelete(salesLine, salesLine_ds.anyMarked());
          #    // </GEEU>
          #
          #    // <NAXT>
          #    boolean setTouched =(salesLine.RecId);
          #    // </NAXT>
          #
          #    if (salesLine.checkDelete())
          #    {
          #        salesId                    = salesLine.SalesId;
          #        interCompanySalesLineExist = salesLine.interCompanySalesLineExist();
          #
          #        //For PBA mandaroty configuration item deleting
          #        deleting = true;
          #        super();
          #        deleting = false;
          #
          #        // if retail order, we need to recalculate after deleting a line
          #        if (RetailParameters::isRetailEnabledAndInUse() &&
          #            RetailPricingEngine::useRetailPricing(salesLine))
          #        {
          #            RetailPricingEngine::setRetailDiscountsOnOrder(salesTable);
          #            salesLine_ds.research(true);
          #        }
          #
          #        if (mustFormResearchAfterDelete
          #            // <NAXT>
          #            && setTouched // TFS5137-2013-03-27-sza
          #            // </NAXT>
          #            )
          #        {
          #            salesLine_ds.research(true);
          #        }
          #
          #        if (salesId && SalesTable::exist(salesId))
          #        {
          #            if (SalesParameters::find().DeleteHeading == NoYes::Yes && SalesTable::find(salesId).SalesStatus == SalesStatus::Invoiced)
          #            {
          #                salesTable.delete();
          #                salesTable_ds.research();
          #            }
          #            else
          #            {
          #                salesTable_ds.reread();
          #                salesTable_ds.refresh();
          #            }
          #        }
          #
          #        /* <SYS>
          #        salesTableForm.setTouched(salesTable);
          #        <SYS> */
          #        // <NAXT>
          #        if (setTouched)
          #        {
          #            salesTableForm.setTouched(salesTable);
          #        }
          #        // </NAXT>
          #
          #        dimensionDefaultingControllerLine.deleted();
          #
          #        //S013080 - SzN 26/06/2014 Begin
          #        dimensionDefaultingControllerLineProduct.deleted();
          #        //S013080 - SzN 26/06/2014 End
          #
          #        if (salesTable.ProjId)
          #        {
          #            element.automaticTotalDiscount();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    // <GEEU>
          #    LineNum lineCount;
          #    // </GEEU>
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    //S013080 - SzN 26/06/2014 Begin
          #    dimensionDefaultingControllerLineProduct.activated();
          #    //S013080 - SzN 26/06/2014 End
          #
          #    if (!salesTableForm.canNewLineBeAppended(salesLine))
          #    {
          #        append = false;
          #    }
          #
          #    if (!salesLine.PBAItemLine::checkMandatory())
          #    {
          #        return;
          #    }
          #
          #    if (salesTable.checkUpdate())
          #    {
          #        super(append);
          #        // <GEEU>
          #        if (countryRegion_EEU && !isRU)
          #        {
          #            lineCount = salesTable.lineNumForCreditNote();
          #
          #            if (lineCount > 0)
          #            {
          #                salesLine.LineNum = lineCount;
          #            }
          #        }
          #        // </GEEU>
          #
          #        element.setEditItemOrCategoryAllowed(true);
          #
          #        // filter exist on itemId
          #        if (salesLine.ItemId)
          #        {
          #            this.itemIdModified();
          #        }
          #        // filter exists on SalesCategory
          #        else if (salesLine.SalesCategory)
          #        {
          #            this.changedStockedStatus(true);
          #        }
          #
          #        salesLine_ds.refresh();
          #
          #        //Won't create new salesline if current one was not created correctly
          #        if (!salesLine.ItemId && !salesLine.SalesCategory)
          #        {
          #            salesTableForm.salesLine_Create(salesLine);
          #        }
          #
          #        if (salesTable &&
          #            lineViewHeader.isDisplayed()) // TFS 21154
          #        {
          #           salesLine_ItemId.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #int  active()
          #{
          #    int     ret;
          #    boolean returnItem = salesTable.returnItem();
          #    boolean allowEditDeliveryPostalAddress;
          #
          #    // <NAXT>
          #    boolean featureLineType = salesLine.LineType == XAP_LineTypes::Feature;
          #    // </NAXT>
          #
          #    ret = super();
          #
          #    // <NAXT>
          #    // Reset allowEdit property of the SalesPrice field
          #    salesLine_ds.object(fieldNum(SalesLine,SalesPrice)).allowEdit(true);
          #
          #    if (XAP_SalesCostBreakdownLines::exist(XAP_CostBreakdownSource::SalesOrder, salesLine.RecId))
          #    {
          #        salesLine_ds.reread();
          #        salesLine_ds.refresh();
          #    }
          #
          #    salesTableForm.parmActiveSalesLine(salesLine);
          #    // </NAXT>
          #
          #    //<GGH> TFS_30983
          #    salesTableForm.setBOMLevelDrivedFields(salesLine, true);
          #    //</GGH> TFS_30983
          #
          #    salesTableForm.salesTable(salesTable);
          #
          #    buttonHeaderTradeAgreements.    enabled(!returnItem);
          #
          #    element.setEditItemOrCategoryAllowed(salesLine.RecId == 0);
          #
          #    salesLine_ds.allowCreate(salesTableForm.createLineAllowed(salesLine));
          #    // <GEEU>
          #    salesLine_ds.allowEdit(salesTableForm.editLineAllowed(salesLine));
          #    // </GEEU>
          #    salesLine_ds.allowDelete(salesTableForm.deleteLineAllowed(salesLine));
          #
          #    // <GGH>
          #    // Exist posted and not credit noted prepayment value to the sales order.
          #    if (salesTableForm.parmPostedPrepaymentIsActive())
          #    {
          #        salesLine_ds.allowCreate(false);
          #        salesLine_ds.allowEdit(false);
          #        salesLine_ds.allowDelete(false);
          #    }
          #    // </GGH>
          #
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, AssetId_RU)).allowEdit(
          #            salesLine.SalesStatus != SalesStatus::Invoiced &&
          #            (salesLine.ItemId                               &&
          #             InventTable::find(salesLine.ItemId).AssetGroupId_RU ||
          #             salesLine.SalesCategory));
          #
          #        salesLine_ds.object(fieldNum(SalesLine, LedgerDimension)).allowEdit(element.allowEditLedgerAccount_RU());
          #
          #        element.enableForeignTrade_RU();
          #    }
          #    // </GEERU>
          #
          #    element.checkCreditNoteLine();
          #
          #    // <NAXT>
          #    salesLine_ds.object(fieldNum(SalesLine, OverAllowance)).allowEdit(salesLine.LineType != XAP_LineTypes::Equipment);
          #
          #    element.setTradeInFields();
          #
          #    element.showSurplusReturn();
          #
          #    element.setLineControlsVisible();
          #    // </NAXT>
          #
          #    element.updateDesign(InventDimFormDesignUpdate::Active);
          #    element.updateRFIDTagging();
          #
          #    if (headerError)
          #    {
          #        salesTable.Touched  = NoYes::Yes;
          #        headerError         = false;
          #    }
          #
          #    // <GEEU>
          #    // Credit note
          #    if (countryRegion_EEU && !isRU)
          #    {
          #        this.allowEditLine_PL();
          #        this.initCustInvoiceTrans();
          #
          #        if (salesLine.RefReturnInvoiceTrans_W != 0 || salesLine.CreditNoteInternalRef_PL != 0)
          #        {
          #            tabCreditNote.visible(true);
          #        }
          #        else
          #        {
          #            tabCreditNote.visible(false);
          #        }
          #
          #        element.redraw();
          #    }
          #    // </GEEU>
          #
          #    salesTableForm.interCompanySetLineAccess(salesLine);
          #
          #    allowEditDeliveryPostalAddress = salesLine_ds.object(fieldNum(SalesLine,DeliveryPostalAddress)).allowEdit();
          #    logisticsLocationSelectLine.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewLine.enabled(allowEditDeliveryPostalAddress);
          #
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine, salesLine.LineDeliveryType);
          #
          #    salesLine_ds.enableProjectFields();
          #
          #    element.showInactiveAddressBar();
          #
          #    salesTableForm.pdsSetLineAccess(salesLine);
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        this.active_BR();
          #    }
          #    // </GBR>
          #
          #    // <GIN>
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        element.enableFieldsActive_IN();
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #        this.enableExciseFields_IN();
          #
          #        if (salesTable.CustomsExportOrder_IN
          #            && salesLine.RecId
          #            && salesLine.SalesQty > 0
          #            && TaxParameters::find().EximIncentiveSchemes_IN
          #            && !EximSalesLine_IN::exist(salesLine.RecId))
          #        {
          #            element.setTaxWithholdEnabled_IN();
          #            taxInformation_IN_ds.executeQuery();
          #        }
          #        salesLineReturnDetails_IN_ds.enableSalesLineReturnDataSource();
          #    }
          #    // </GIN>
          #
          #    // <NAXT>
          #    element.setCostBreakdownFieldAccess();
          #    // </NAXT>
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    //S013080 - SzN 26/06/2014 Begin
          #    dimensionDefaultingControllerLineProduct.activated();
          #    //S013080 - SzN 26/06/2014 End
          #
          #    // <NAXT>
          #    xap_BackorderTrans_ds.allowDelete( salesLine.inventTable().xap_nprItem().BuildableHose == NoYes::Yes );
          #    salesLine_ds.object(fieldNum(SalesLine, SmartSourcingNeedByDate)).allowEdit(!salesLine.SmartSourced);
          #
          #    salesLine.type().setTecsysFieldsAllowEdit();
          #    salesTableForm.enableDropBoxField(salesLine);
          #    // </NAXT>
          #
          #    // <GEEPL>
          #    if (countryRegion_PL)
          #    {
          #        element.enableInventExtPurchButton();
          #    }
          #    // </GEEPL>
          #
          #    //<GGH>
          #    if (InventParameters::find().PexFunctionality)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, EquipmentSMUCaptureDate)).mandatory((salesLine.EquipmentSMU != 0));
          #    }
          #    //</GGH>
          #
          #    // <GGH>
          #    salesLine.type().setKitExplodeFieldsAllowEdit();
          #    // </GGH>
          #
          #    //<GGH>
          #    //TODO: MOVE to Interaction class and eliminate the duplicate finds
          #    if (salesLine.inventTable().FreezeSalesPrice)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #        salesLine_ds.object(fieldNum(SalesLine, LineAmount)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #        salesLine_ds.object(fieldNum(SalesLine, LineDisc)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #        salesLine_ds.object(fieldNum(SalesLine, LinePercent)).allowEdit( HcmEmploymentDetail::findByCurrentUser().AllowFreezeSalesPriceUpdate );
          #    }
          #    //</GGH>
          #
          #    //S012648 - SzN 17/06/2014 Begin
          #    salesLine_ds.object(fieldNum(SalesLine, RateContractId)).allowEdit(ExchangeRateType::find(SalesLine.ExchangeRateType).RateFillLogic == GGH_RateFillLogic::Contract);
          #    //S012648 - SzN 17/06/2014 End
          #
          #    //<GGH> TFS_30983
          #    salesTableForm.setBOMLevelDrivedFields(salesLine);
          #    //</GGH> TFS_30983
          #
          #
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean                    ret = true;
          #
          #    salesTableForm.setTouched(salesTable);
          #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    if (salesLine.RecId != 0
          #    &&  salesLine.InterCompanyInventTransId
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesLine.DeliveryDateControlType = SalesDeliveryDateControlType::None;
          #    }
          #
          #    if (!salesLine.isAgreementLinkValid(true))
          #    {
          #        ret = salesLine.unLinkAgreementLinePrompt(0,tableNum(SalesLine),false);
          #    }
          #
          #    //<GGH_30795_LD>
          #    if (ret)
          #    {
          #        ret = salesLine.validateMargin();
          #    }
          #    //</GGH_30795_LD>
          #
          #    ret = super() && ret;
          #
          #    if (!askingModifyInvoiced && ret)
          #    {
          #        askingModifyInvoiced = true;
          #        ret = salesTable.checkUpdate();
          #        if (!ret)
          #        {
          #            salesLine_ds.reread();
          #            salesTable_ds.reread();
          #        }
          #        askingModifyInvoiced = false;
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && salesLine.TaxGroup != salesLine.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(salesLine.TableId, salesLine.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #    if (ret)
          #    {
          #       ret = salesTableForm.salesLine_validateWrite(salesLine, inventDim);
          #    }
          #
          #    if (ret && salesLine.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePromptOnServer(salesLine, false, false, true, false);
          #    }
          #
          #    // <NAXT>
          #    if (ret && salesLine.TradeIn && !salesLine.TradeInRefRecId)
          #    {
          #        ret = checkFailed(strFmt("@XAP4654", salesLine.ItemId));
          #    }
          #
          #    if (ret)
          #    {
          #        ret = XAP_PartsPriceExpirationTable::checkForSalesLineExpiredPrice(salesLine);
          #    }
          #    // </NAXT>
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    if (!deleting)
          #    {
          #        if (!salesLine.PBAItemLine::checkMandatory())
          #        {
          #            return false;
          #        }
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #refreshDDC
          #void refreshDDC()
          #{
          #    if (salesLine_ds && salesLine && salesLine.DeliveryDateControlType)
          #    {
          #        salesLine_ds.refresh();
          #    }
          #}
        ENDSOURCE
        SOURCE #enableExciseFields_IN
          #// <GIN>
          #public void enableExciseFields_IN()
          #{
          #    if (TaxParameters::isExciseEnable_IN())
          #    {
          #        taxExciseTypeController.buildUI(
          #            salesLine_IN.ExciseType_IN,
          #            salesLine_IN.ExciseRecordType_IN,
          #            salesLine.ItemId,
          #            salesLine.SalesQty > 0 ? TaxDirection::OutgoingTax : TaxDirection::IncomingTax);
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseManufacture_IN
          #// <GIN>
          #edit ExciseManufacture_IN exciseManufacture_IN(
          #    boolean                 _set,
          #    ExciseManufacture_IN    _exciseManufacture_IN)
          #{
          #    ExciseManufacture_IN    exciseManufacture;
          #
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseManufacture(_set,_exciseManufacture_IN,salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseManufacture = taxExciseTypeController.exciseRecordType2ExciseManufacture(salesLine_IN.ExciseRecordType_IN);
          #
          #    return exciseManufacture;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseNone_IN
          #// <GIN>
          #edit ExciseNone_IN exciseNone_IN(
          #    boolean         _set,
          #    ExciseNone_IN   _exciseNone_IN)
          #{
          #    ExciseNone_IN           exciseNone;
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseNone(_set,_exciseNone_IN, salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseNone = taxExciseTypeController.exciseRecordType2ExciseNone(salesLine_IN.ExciseRecordType_IN);
          #    return exciseNone;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseTraders_IN
          #// <GIN>
          #edit ExciseTraders_IN exciseTraders_IN(
          #    boolean          _set,
          #    ExciseTraders_IN _exciseTraders_IN)
          #{
          #    ExciseTraders_IN        exciseTraders;
          #
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseTraders(_set,_exciseTraders_IN, salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseTraders = taxExciseTypeController.exciseRecordType2ExciseTraders(salesLine_IN.ExciseRecordType_IN);
          #
          #    return exciseTraders;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #getPotencyCalculatedLineAmount
          #/// <summary>
          #///     Displays the adjusted net amount.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The adjusted net amount.
          #/// </returns>
          #public display PDSCalculatedLineAmount getPotencyCalculatedLineAmount(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculatedAmount(_salesLine.RecId);
          #    }
          #    else
          #    {
          #        return 0;
          #    }
          #}
        ENDSOURCE
        SOURCE #getPotencyCalculatedUnitPrice
          #/// <summary>
          #///     Displays the adjusted unit price if this is an advanced pricing order.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The adjusted unit price.
          #/// </returns>
          #public display PDSCalculatedUnitPrice getPotencyCalculatedUnitPrice(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculatedUnitPrice(_salesLine.RecId);
          #    }
          #    else
          #    {
          #        return 0;
          #    }
          #}
        ENDSOURCE
        SOURCE #getPotencyCalculationId
          #/// <summary>
          #///     Displays the calculation ID if this is an advanced pricing order.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The calculation ID.
          #/// </returns>
          #public display PDSCalculationId getPotencyCalculationId(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculationId(_salesLine.RecId);
          #    }
          #    else
          #    {
          #        return '';
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLineForeignTradeCategory
          Table               #SalesLineForeignTradeCategory
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #allowEdtItemCodeId
          #void allowEdtItemCodeId()
          #{
          #    if (salesLine.isCategoryBased())
          #    {
          #        if (salesLine.deliveredInTotal()       != 0 ||
          #            salesLine.invoicedInTotal()        != 0)
          #        {
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).allowEdit(false);
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).skip(true);
          #        }
          #        else
          #        {
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).allowEdit(true);
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).skip(false);
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int     ret;
          #    boolean allowEditLine;
          #
          #    ret = super();
          #
          #    if (salesLine.isCategoryBased())
          #    {
          #        allowEditLine = salesTableForm.editLineAllowed();
          #        salesLineForeignTradeCategory_ds.allowEdit(allowEditLine);
          #        if (allowEditLine)
          #        {
          #            salesLineForeignTradeCategory_ds.allowEdtItemCodeId();
          #        }
          #    }
          #    else
          #    {
          #        salesLineForeignTradeCategory_ds.allowEdit(false);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (salesLine.RecId && salesLine.isCategoryBased())
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (salesLine.RecId && salesLine.isCategoryBased())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    if (salesLine.isCategoryBased())
          #    {
          #        super(_append);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          JoinSource          #SalesLine
          LinkType            #InnerJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventBatchId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventBatchId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,wmsLocationId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSPalletId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,wmsPalletId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsPalletId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSerialId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    // <GGH>
                #    if (SalesLine.InstalledOn != SalesLine.orig().InstalledOn
                #     && InventTable::getExchangeType(SalesLine.ItemId) == XAP_ExchangeTypes::WornCore)
                #    {
                #        SalesLine_ds.research(true);
                #    }
                #    //< /GGH>
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSerialId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventLocationId), !salesLine.MatchingAgreementLine);
                #
                #    if (!salesLine.RecId && salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #
                #        salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #    }
                #
                #    if (salesLine_ds && salesLine)
                #    {
                #        salesLine_ds.refresh();
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD configId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,ConfigId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!EcoResProductMasterConfigurationMgr::configure(_formControl,
                #                                                       salesLine.ItemId,
                #                                                       InventDim::findOrCreate(inventDim).InventDimId,
                #                                                       salesLine.deliveryDate(),
                #                                                       salesLine.ItemBOMId,
                #                                                       salesLine.QtyOrdered))
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,ConfigId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSizeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSizeId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSizeId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventColorId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventColorId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventColorId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSiteId), !salesLine.MatchingAgreementLine);
                #
                #    if (!salesLine.RecId)
                #    {
                #        if (salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #        {
                #            salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #            salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #
                #            salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #        }
                #    }
                #
                #    if (salesLine_ds && salesLine)
                #    {
                #        salesLine_ds.refresh();
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSiteId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventGtdId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventGtdId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventGtdId_RU),
                #                            InventTable::itemProductDimensionGroup(salesLine.ItemId));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventProfileId_RU));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventProfileId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventOwnerId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventOwnerId_RU));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventOwnerId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStyleId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventStyleId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventStyleId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventEquipmentId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #// <NAXT>
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventEquipmentId));
                #    }
                #
                #    return ret;
                #}
                #// </NAXT>
              ENDSOURCE
              SOURCE #modified
                #// <NAXT>
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventEquipmentId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.LineType == XAP_LineTypes::Equipment)
                #    {
                #        if (salesLine.RecId && SalesLine::existTradeInReference(salesLine.RecId))
                #        {
                #            SalesLine::updateTradeInTransactions(salesLine.RecId, salesLine.inventEquipmentId());
                #
                #            salesLine_ds.research(true);
                #        }
                #        else
                #        {
                #            inventDim.data(InventDim::find(salesLine.InventDimId));
                #            inventDim_ds.reread();
                #            inventDim_ds.refresh();
                #        }
                #    }
                #}
                #// </NAXT>
              ENDSOURCE
              SOURCE #lookup
                #// <NAXT>
                #public void lookup(FormControl _formControl, str _filterStr = "")
                #{
                #    Args        args;
                #    FormRun     formRun;
                #
                #    // super(_formControl, _filterStr);
                #
                #    args = new Args(formStr(XAP_InventEquipmentIdLookup));
                #
                #    args.caller(element);
                #    args.record(salesLine_ds.cursor());
                #
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #
                #    formRun.init();
                #
                #    this.performFormLookup(formRun, _formControl);
                #}
                #// </NAXT>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #FiscalEstablishment
          #// <GBR>
          #display FiscalEstablishmentId_BR FiscalEstablishment()
          #{
          #    return inventDim.inventSite().fiscalEstablishment().FiscalEstablishmentId;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #//  super();
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    inventDim.data(InventDim::find(salesLine.InventDimId));
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InterCompanyPurchSalesReference
          Table               #InterCompanyPurchSalesReference
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          MaxAccessRight      #NoAccess
          AutoSearch          #No
          AutoNotify          #No
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #XAP_OutstandingCoreLine
          Table               #XAP_OutstandingCoreLine
          AllowCheck          #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD DamagedQty
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FullQty
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD NoCreditQty
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PrimeProductSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    InventTable  inventTable;
                #    Args          args;
                #    MenuFunction  mf;
                #
                #    inventTable = InventTable::find(xap_OutstandingCoreLine.ItemId);
                #
                #    args = new Args();
                #    args.caller(element);
                #    args.record(inventTable);
                #
                #    mf = new MenuFunction(menuitemDisplayStr(InventSerial), MenuItemType::Display);
                #    mf.run(args);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReturnedSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    InventTable  inventTable;
                #    Args          args;
                #    MenuFunction  mf;
                #
                #
                #    inventTable = InventTable::find(xap_OutstandingCoreLine.ItemId);
                #
                #    args = new Args();
                #    args.caller(element);
                #    args.record(inventTable);
                #
                #    mf = new MenuFunction(menuitemDisplayStr(InventSerial), MenuItemType::Display);
                #    mf.run(args);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SoldSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    InventTable  inventTable;
                #    Args          args;
                #    MenuFunction  mf;
                #
                #
                #    inventTable = InventTable::find(xap_OutstandingCoreLine.ItemId);
                #
                #    args = new Args();
                #    args.caller(element);
                #    args.record(inventTable);
                #
                #    mf = new MenuFunction(menuitemDisplayStr(InventSerial), MenuItemType::Display);
                #    mf.run(args);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VendorClaimNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    XAP_Lookup::lookup(_formControl, xap_OutstandingCoreLine, fieldNum(XAP_OutstandingCoreLine, VendorClaimNumber), 'VendorClaimLookup');
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CoreCreditType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    xap_OutstandingCoreLine.updateSalesLinePrice(salesLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PalletBarCodeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #//<NAXT CU5> TFS28426
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    XAP_Lookup::lookup(_formControl, XAP_OutstandingCoreLine, fieldNum(XAP_OutstandingCoreLine, PalletBarCodeId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #    RGBint rgbR;
          #    RGBint rgbG;
          #    RGBint rgbB;
          #    ;
          #
          #    ret = super();
          #
          #    switch (xap_OutstandingCoreLine.VendorClaimNumberStatus)
          #    {
          #        //RED
          #        case XAP_VendorClaimNumberEnum::Empty:
          #        case XAP_VendorClaimNumberEnum::WarrantySystemNotAvailable:
          #        case XAP_VendorClaimNumberEnum::InvalidVendorClaimNumber:
          #                rgbR = 255;
          #                rgbG = 0;
          #                rgbB = 0;
          #                break;
          #
          #        //GREEN
          #        case XAP_VendorClaimNumberEnum::PRRIssued:
          #        case XAP_VendorClaimNumberEnum::PRRNotIssued:
          #                rgbR = 0;
          #                rgbG = 255;
          #                rgbB = 0;
          #                break;
          #    }
          #
          #    wornCoreWarranty_VendorClaimNumber.colorScheme(FormColorScheme::RGB);
          #    wornCoreWarranty_VendorClaimNumber.backgroundColor(WinAPI::RGB2int(rgbR,rgbG,rgbB));
          #
          #    if (salesLine.SalesStatus == SalesStatus::Invoiced)
          #    {
          #        this.object(fieldNum(XAP_OutstandingCoreLine, FullQty)).allowEdit(false);
          #        this.object(fieldNum(XAP_OutstandingCoreLine, DamagedQty)).allowEdit(false);
          #        this.object(fieldNum(XAP_OutstandingCoreLine, NoCreditQty)).allowEdit(false);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    //this.queryBuildDataSource().addLink(fieldNum(XAP_OutstandingCoreLine, InventTransId), fieldNum(SalesLine, InventTransId));
          #    this.queryBuildDataSource().addDynalink(fieldNum(XAP_OutstandingCoreLine, ReferenceTransId), salesLine, fieldNum(SalesLine, InventTransId));
          #}
        ENDSOURCE
        SOURCE #write
          #// <NAXT>
          #public void write()
          #{
          #    super();
          #}
          #// </NAXT>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #XAP_BackorderTrans
          Table               #XAP_BackorderTrans
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          JoinSource          #SalesLine
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SourceId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    xap_BackorderTrans.lookupSource(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    super();
          #
          #    backorderTO.enabled(salesTableForm.hasWarehouseBackOrder());
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTableExtensionTH
          Table               #SalesTableExtensionTH
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD NoteFormat
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.noteFormatEdit();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (salesTable.RecId)
          #    {
          #        salesTableExtensionTH.SalesTable = salesTable.RecId;
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesTableExtensionTHEnabled = SalesTableExtensionTH::isExtensionEnabled();
          #    if (isSalesTableExtensionTHEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesCostBreakdownLines
          Table               #XAP_SalesCostBreakdownLines
          Index               #SourceLineIdx
          AllowEdit           #No
          JoinSource          #SalesLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #delete
          #public void delete()
          #{
          #    super();
          #
          #    salesLine_ds.research(true);
          #    element.setCostBreakdownFieldAccess(false);
          #}
        ENDSOURCE
        SOURCE #write
          # // <NAXT-2012-DCG>
          #public void write()
          #{
          #    super();
          #
          #    salesLine_ds.research(true);
          #
          #    if (salesCostBreakdownLines.LineType != XAP_CostBreakdownLineType::PurchasePriceDiscount && salesCostBreakdownLines.Revenue == 0)
          #    {
          #        salesCostBreakdownLines_ds.research(true);
          #    }
          #    else
          #    {
          #        salesCostBreakdownLines_ds.reread();
          #        salesCostBreakdownLines_ds.refresh();
          #    }
          #
          #    element.setCostBreakdownFieldAccess(false);
          #}
          #// </NAXT-2012-DCG>
        ENDSOURCE
        SOURCE #active
          #// <NAXT-2012-DCG>
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    salesCostBreakdownLines_ds.object(fieldNum(XAP_SalesCostBreakdownLines,Cost    )).allowEdit(!salesCostBreakdownLines.ConfigHeader);
          #    salesCostBreakdownLines_ds.object(fieldNum(XAP_SalesCostBreakdownLines,prgCode )).allowEdit(salesCostBreakdownLines.LineType == XAP_CostBreakdownLineType::Manual);
          #    salesCostBreakdownLines_ds.object(fieldNum(XAP_SalesCostBreakdownLines,Discount)).allowEdit(salesCostBreakdownLines.LineType == XAP_CostBreakdownLineType::MarketingProgram);
          #    salesCostBreakdownLines_ds.object(fieldNum(XAP_SalesCostBreakdownLines,Revenue )).allowEdit(salesCostBreakdownLines.LineType != XAP_CostBreakdownLineType::MarketingProgram);
          #    salesCostBreakdownLines_ds.object(fieldNum(XAP_SalesCostBreakdownLines,Margin  )).allowEdit(salesCostBreakdownLines.LineType != XAP_CostBreakdownLineType::MarketingProgram);
          #
          #    return ret;
          #}
          #// </NAXT-2012-DCG>
        ENDSOURCE
        SOURCE #init
          #// <NAXT-2012-DCG>
          #public void init()
          #{
          #    super();
          #
          #    salesCostBreakdownLines_ds.queryBuildDataSource().clearDynalinks();
          #    salesCostBreakdownLines_ds.queryBuildDataSource().addDynalink(fieldNum(XAP_SalesCostBreakdownLines,SourceReference),
          #                                                                  salesLine,
          #                                                                  fieldNum(SalesLine,RecId));
          #    salesCostBreakdownLines_ds.queryBuildDataSource().addRange(fieldNum(XAP_SalesCostBreakdownLines,Source)).value(SysQuery::value(XAP_CostBreakdownSource::SalesOrder));
          #}
          #// </NAXT-2012-DCG>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustInvoiceTrans
          Table               #CustInvoiceTrans
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EximSalesLine_IN
          Table               #EximSalesLine_IN
          Index               #SalesLineRecIdx
          AllowCheck          #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ApplyDEPB
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    eximSalesLine_IN_MarketValue.allowEdit(eximSalesLine_IN.ApplyDEPB);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DBKCenvatStatus
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    boolean isDBKEnabled;
                #    ;
                #
                #    super();
                #
                #    isDBKEnabled = eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None;
                #    eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
                #    eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isIN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #active
          #// <GIN>
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        element.enableFieldsActive_IN();
          #    }
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    if (salesLine.RecId)
          #    {
          #        if (!EximSalesLine_IN::findBySalesLineRecId(salesLine.RecId).RecId)
          #        {
          #            eximSalesLine_IN.SalesLineRecId = salesLine.RecId;
          #        }
          #        super();
          #    }
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_BR
          Table               #SalesLine_BR
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CFOPTable_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GBR>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CFOPAttributesDeterminer_BR cfopAttributes;
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        cfopAttributes = CFOPAttributesDeterminer_BR::construct(salesLine);
                #        cfopAttributes.parmFiscalEstablishment(inventDim.inventSite().fiscalEstablishment());
                #
                #        ret = CFOPTable_BR::lookupCFOPTable(_formReferenceControl, cfopAttributes);
                #    }
                #
                #    return ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    buttonLineFiscalDocumentText_BR.enabled(salesLine.type().canFiscalDocTextBeRegistrated_BR());
                #
                #    salesLine_ds.enableDataSourceFields_BR();
                #    salesLine_ds.refresh();
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD FiscalDocumentType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return FiscalDocumentType_BR::lookupReference(salesLine.inventDim().inventSite().fiscalEstablishment().RecId, _formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    FiscalDocumentTypeId_BR fiscalDocumentTypeId;
                #
                #    // Get the text that the user entered into the control to see if there is a match to display
                #    fiscalDocumentTypeId = _formReferenceControl.filterValue(AbsoluteFieldBinding::construct(fieldStr(FiscalDocumentType_BR, FiscalDocumentTypeId), tableStr(FiscalDocumentType_BR))).value();
                #
                #    if (fiscalDocumentTypeId)
                #    {
                #        ret = FiscalDocumentType_BR::find
                #        (
                #            fiscalDocumentTypeId,
                #            salesLine.inventDim().inventSite().fiscalEstablishment().FiscalEstablishmentId
                #        );
                #    }
                #    else
                #    {
                #        ret = super(_formReferenceControl);
                #    }
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD TaxServiceCode_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    NoYes                   serviceCodeOnDlvAddress;
                #    LogisticsPostalAddress  logisticsPostalAddress;
                #
                #
                #
                #    if(salesTable.ProjId)
                #    {
                #        serviceCodeOnDlvAddress = salesTable.projTable().projInvoice().TaxServiceCodeOnDlvAddress_BR;
                #        logisticsPostalAddress = LogisticsPostalAddress::findRecId(salesTable.projTable().postalAddress().RecId);
                #    }
                #    else
                #    {
                #        serviceCodeOnDlvAddress = salesTable.salesTable_BR().ServiceCodeOnDlvAddress_BR;
                #        logisticsPostalAddress = LogisticsLocationEntity::location2PostalAddress(salesLine.deliveryLocation());
                #    }
                #
                #    TaxServiceCode_BR::lookup(_formControl, serviceCodeOnDlvAddress,
                #                              logisticsPostalAddress.CountryRegionId,
                #                              logisticsPostalAddress.State,
                #                              logisticsPostalAddress.City);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableDataSourceFields_BR
          #/// <summary>
          #///    Sets which fields should be enabled in the form datasource.
          #/// </summary>
          #// <GBR>
          #public void enableDataSourceFields_BR()
          #{
          #    FormDataObject      formDataObject;
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, FiscalDocumentType_BR));
          #    formDataObject.allowEdit(salesTable.hasIssueFiscalDocument_BR());
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, TaxServiceCode_BR));
          #    formDataObject.allowEdit(salesLine.inventTable().ItemType == ItemType::Service);
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (BrazilParameters::isEnabled())
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && salesLine_BR.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_IN
          Table               #SalesLine_IN
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CompanyLocation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::locationLookup(_formReferenceControl, CompanyInfo::find().RecId);
                #}
                #// </GIN>
                #
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    salesline_IN_ds.object(fieldNum(SalesLine_IN, TaxInformation)).modified();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRefLocationAddressForm(salesLine_IN.CompanyLocation_IN, this);
                #}
                #// </GIN>
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD CustomsTariffCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formReferenceControl, enum2str(Direction_IN::Export));
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #resolveReference
                #// <GIN>
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return CustomsTariffCodeTable_IN::resolveCustomsTariffCode(_formReferenceControl, Direction_IN::Export);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExciseType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesLine_DS.enableExciseFields_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ServiceCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = ServiceCodeTable_IN::lookupServiceCode(_formReferenceControl);
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TaxInformation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::lookup(_formReferenceControl, salesline_IN.CompanyLocation_IN);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    taxInformation_IN_DS.linkActive();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRef(salesLine_IN.TaxInformation, this);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    if (isSalesLine_INEnabled && salesLine_IN.SalesLine != 0)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #
          #        if (!salesLineReturnDetails_IN.RecId && salesLineReturnDetails_IN.Type != SalesReturnType_IN::None)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            salesLineReturnDetails_IN.SalesLine_IN = salesLine_IN.RecId;
          #            salesLineReturnDetails_IN_ds.write();
          #        }
          #
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #initValue
          #// <GIN>
          #public void initValue()
          #{
          #    super();
          #    salesLine_IN.TaxModelDocLineExtensionIN::init(salesLine.salesLineView_IN());
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isSalesLine_INEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_Intrastat
          Table               #SalesLine_Intrastat
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        salesLine_intrastat_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_BR
          Table               #SalesTable_BR
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CFPSId_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CFPSTable_BR::lookup(_formControl, SalesPurchBoth_BR::Sales);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesPurchOperationType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    boolean                     ret;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(salesLine);
                #
                #    ret = salesPurchOperationTypeController_BR.validate(salesTable_BR.SalesPurchOperationType_BR, cfopAttributesDeterminer);
                #
                #    if (ret && !salesTable.createInventTrans_BR())
                #    {
                #        if (Box::yesNo("@GLS104", DialogButton::No) == DialogButton::No)
                #        {
                #            return false;
                #        }
                #    }
                #
                #    return super() && ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #lookupReference
                #// <GBR>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    SalesPurchOperationTypeController_BR s;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(salesLine);
                #    s = new SalesPurchOperationTypeController_BR (element.name());
                #    return s.lookupReference(_formReferenceControl, cfopAttributesDeterminer);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableDataSourceFields_BR
          #public void enableDataSourceFields_BR()
          #{
          #    FormDataObject  formDataObject;
          #
          #    formDataObject = salesTable_BR_DS.object(fieldNum(SalesTable_BR, CustFinalUser_BR));
          #    formDataObject.allowEdit(!salesTable.custTable_InvoiceAccount().Suframa_BR);
          #
          #    formDataObject = salesTable_BR_DS.object(fieldNum(SalesTable_BR, SalesPurchOperationType_BR));
          #    formDataObject.allowEdit(salesTable.type().canEditSalesPurchOperationType_BR());
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, DeliveryCFOPTable_BR));
          #    formDataObject.allowEdit(salesTable.SalesType == SalesType::ItemReq);
          #
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (BrazilParameters::isEnabled())
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #displaySuframaPISCOFINS_BR
          #// <GBR>
          #public display NoYes displaySuframaPISCOFINS_BR()
          #{
          #    return salesTable.custTable_InvoiceAccount().SuframaPISCOFINS_BR;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #displaySuframa_BR
          #// <GBR>
          #public display CustSuframa_BR displaySuframa_BR()
          #{
          #    return salesTable.custTable_InvoiceAccount().Suframa_BR;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && salesTable_BR.SalesTable)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_Intrastat
          Table               #SalesTable_Intrastat
          JoinSource          #SalesTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        salesTable_intrastat_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTableSymbol
          Table               #SalesTableSymbol
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxInformation_IN
          Table               #TaxInformation_IN
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine_IN
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD SalesTaxRegistrationNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #                                           TaxType_IN::SalesTax,
                #                                           salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxRegistrationNumbers_IN::lookupRegistrationNumberValue(_formControl, TaxType_IN::SalesTax, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TIN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #                                           TaxType_IN::VAT,
                #                                           salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxRegistrationNumbers_IN::lookupRegistrationNumberValue(_formControl, TaxType_IN::VAT, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TAN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxWithholdRegNumbers_IN::jumpRef(
                #        TaxWithholdRegNumbers_IN::find(taxInformation_IN.tin).RegistrationNumber,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ManECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.ManECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TraderECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.TraderECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD IECRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.iecRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Customs,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD STCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.stcRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::ServiceTax,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ECCNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.eccNumber).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isIN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxServiceTariffHeader
          Table               #TaxServiceTariff
          OnlyFetchActive     #Yes
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxServiceTariffLine
          Table               #TaxServiceTariff
          OnlyFetchActive     #Yes
          JoinSource          #SalesLine
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (countryRegion_PL)
          #    {
          #        if (!taxServiceTariffLine.ParentRecId)
          #        {
          #            taxServiceTariffLine.ParentRecId = salesLine.RecId;
          #        }
          #
          #        if (!taxServiceTariffLine.ParentTableId)
          #        {
          #            taxServiceTariffLine.ParentTableId = salesLine.TableId;
          #        }
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    super(_append);
          #
          #    if (taxServiceTariffHeader.ServiceTariffNumber && !salesLine.RecId && countryRegion_PL)
          #    {
          #        taxServiceTariffLine.ServiceTariffNumber = taxServiceTariffHeader.ServiceTariffNumber;
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_RU
          Table               #SalesTable_RU
          Index               #SalesTable
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD AgreementHeaderExt_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GEERU>
                #public void modified()
                #{
                #    super();
                #
                #    // force a refresh because the agreement document title is indirectly related on a different datasource
                #    salesTable_DS.cacheCalculateMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU));
                #    salesTable_DS.refresh();
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #lookupReference
                #// <GEERU>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = SalesAgreementHeaderExt_RU::salesAgreementReferenceLookup(_formReferenceControl,
                #        salesTable.CustAccount,
                #        salesTable.ShippingDateRequested,
                #        salesTable.InvoiceAccount);
                #
                #    return ret;
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #jumpRef
                #// <GEERU>
                #public void jumpRef()
                #{
                #    SalesAgreementHeaderExt_RU::salesAgreementJumpRef(salesTable_RU.AgreementHeaderExt_RU);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ConsigneeAccount_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CustTable::lookupCustomer(_formControl);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ConsignorAccount_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    VendTable::lookupVendor(_formControl);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable_RU.InventProfileType_RU != InventProfileType_RU::NotSpecified)
                #    {
                #        InventProfile_RU::lookupInventProfileId(_formControl, salesTable_RU.InventProfileType_RU);
                #    }
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #validate
                #// <GEERU>
                #public boolean validate()
                #{
                #    boolean ret = true;
                #
                #    if (salesTable_RU.InventProfileType_RU == InventProfileType_RU::NotSpecified && salesTable_RU.InventProfileId_RU)
                #    {
                #        ret = false;
                #    }
                #    ret = ret && super();
                #
                #    return ret;
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceAgreementDate_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GEERU>
                #public void modified()
                #{
                #    super();
                #    element.automaticTotalDiscount();
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GEERU>
          #public void init()
          #{
          #    if (isRU)
          #    {
          #        switch (element.args().dataset())
          #        {
          #            case tableNum(SalesAgreementHeaderExt_RU):
          #                if (element.args().record())
          #                {
          #                    this.linkType(FormLinkType::InnerJoin);
          #                }
          #                break;
          #
          #            default :
          #                this.linkType(FormLinkType::OuterJoin);
          #                break;
          #        }
          #    }
          #
          #    super();
          #
          #    if (isRU)
          #    {
          #        switch (element.args().dataset())
          #        {
          #            case tableNum(SalesAgreementHeaderExt_RU):
          #                if (element.args().record())
          #                {
          #                    this.query().dataSourceTable(tableNum(SalesTable_RU)).clearDynalinks();
          #                    this.query().dataSourceTable(tableNum(SalesTable_RU)).addDynalink(
          #                        fieldNum(SalesTable_RU, AgreementHeaderExt_RU),
          #                        element.args().record(),
          #                        fieldNum(AgreementHeaderExt_RU, RecId));
          #                }
          #                break;
          #        }
          #    }
          #}
          #// </GEERU>
          #
        ENDSOURCE
        SOURCE #write
          #// <GEERU>
          #public void write()
          #{
          #    if (isRU && salesTable_RU.SalesTable != 0)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
          #// </GEERU>
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLineReturnDetails_IN
          Table               #SalesLineReturnDetails_IN
          AllowCheck          #No
          JoinSource          #SalesLine_IN
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableSalesLineReturnDataSource
          #/// <summary>
          #///    Sets which fields should be enabled in the form datasource.
          #/// </summary>
          #public void enableSalesLineReturnDataSource()
          #{
          #    if (isIndiaIndirectTaxParameterMarked
          #        && SalesLine_IN.RecId
          #        && salesLine.SalesQty
          #        && (salesLine.creditNoteLine(salesTable) || salesTable.returnItem()))
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #        SalesLineReturnDetails_IN_ds.refresh();
          #    }
          #    else if(salesLine.SalesQty > 0)
          #    {
          #        element.setReturnDetails_IN();
          #        this.linkType(FormLinkType::Passive);
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (isIndiaIndirectTaxParameterMarked && SalesLine_IN.RecId
          #        && salesLine.SalesQty && (salesLine.creditNoteLine(salesTable) || salesTable.returnItem()))
          #    {
          #        if (!SalesLineReturnDetails_IN::findbySalesLine(SalesLine_IN.RecId).RecId)
          #        {
          #            SalesLineReturnDetails_IN.SalesLine_IN = SalesLine_IN.RecId;
          #        }
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_W
          Table               #SalesTable_W
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD EntryCertificateRequired_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.allowEditIssueOwnEntryCertificate_W();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (custParameters.EntryCertificateIssuingEnabled_W)
          #    {
          #        element.allowEditIssueOwnEntryCertificate_W();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesTableWEnabled = SalesTable_W::isLegalEntityInCountryRegion();
          #    if (isSalesTableWEnabled)
          #    {
          #        // Switch the link type as fields appear in the grid that require an outerjoin
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryHeader
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTable
          JoinRelation        #DeliveryPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierHeader
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTable
          JoinRelation        #ShipCarrierPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryLine
          Table               #LogisticsPostalAddress
          JoinSource          #SalesLine
          JoinRelation        #DeliveryPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierLine
          Table               #LogisticsPostalAddress
          JoinSource          #SalesLine
          JoinRelation        #ShipCarrierPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #AgreementHeaderExt_RU
          Table               #AgreementHeaderExt_RU
          JoinSource          #SalesTable_RU
          JoinRelation        #AgreementHeaderExt_RU
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ServiceCodeTable_IN
          Table               #ServiceCodeTable_IN
          JoinSource          #SalesLine_IN
          JoinRelation        #ServiceCodeTable_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDREFERENCEDATASOURCES
  
  JOINS
    SalesLine SalesTable
    SalesLineForeignTradeCategory SalesLine
    InventDim SalesLine
    InterCompanyPurchSalesReference SalesTable
    XAP_OutstandingCoreLine SalesLine
    XAP_BackorderTrans SalesLine
    SalesTableExtensionTH SalesTable
    SalesCostBreakdownLines SalesLine
    EximSalesLine_IN SalesLine
    SalesLine_BR SalesLine
    SalesLine_IN SalesLine
    SalesLine_Intrastat SalesLine
    SalesTable_BR SalesTable
    SalesTable_Intrastat SalesTable
    SalesTableSymbol SalesTable
    TaxInformation_IN SalesLine_IN
    TaxServiceTariffHeader SalesTable
    TaxServiceTariffLine SalesLine
    SalesTable_RU SalesTable
    SalesLineReturnDetails_IN SalesLine_IN
    SalesTable_W SalesTable
    LogisticsPostalAddressDeliveryHeader SalesTable
    LogisticsPostalAddressShipCarrierHeader SalesTable
    LogisticsPostalAddressDeliveryLine SalesLine
    LogisticsPostalAddressShipCarrierLine SalesLine
    AgreementHeaderExt_RU SalesTable_RU
    ServiceCodeTable_IN SalesLine_IN
  ENDJOINS
  
  PARTREFERENCES
    PARTREFERENCE #LatestSalesOrders
      PROPERTIES
        Name                #LatestSalesOrders
        MenuItemName        #SalesLatestOrdersPart
        DataSource          #SalesTable
        DataSourceRelation  #SalesTable.SalesTableCustomerOrderClass
        ElementPosition     #536870911
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #CustPrepaymentAmount
      PROPERTIES
        Name                #CustPrepaymentAmount
        MenuItemName        #XAP_CustPrepaymentAmount
        DataSource          #SalesLine
        DataSourceRelation  #SelfLink
        ElementPosition     #1073741822
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #CustRelatedInfo
      PROPERTIES
        Name                #CustRelatedInfo
        MenuItemName        #CustRelatedInfo
        DataSource          #SalesTable
        IsLinked            #Yes
        ElementPosition     #1610612733
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS9694
      TitleDatasource     #SalesTable
      DataSource          #SalesTable
      HideIfEmpty         #No
      Style               #DetailsFormTransaction
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane
          ElementPosition     #1073741822
          HierarchyParent     #TabWornCore
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPaneHeader
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          DataSource          #SalesTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #BackorderActionPaneStrip
          ElementPosition     #1073741822
          HierarchyParent     #TabBackorder
          Style               #Strip
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #CostBreakdownActionPaneStrip
          ElementPosition     #1073741822
          HierarchyParent     #TabLineCostBreakdown
          Style               #Strip
          DataSource          #SalesCostBreakdownLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #LinesActionPaneStrip
          ElementPosition     #1073741822
          HierarchyParent     #LineViewLines
          Style               #Strip
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab
          ElementPosition     #1717986912
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS62937
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab1
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #aptabRetail
          ConfigurationKey    #Retail
          ElementPosition     #1744830457
          HierarchyParent     #ActionPaneHeader
          Caption             #@RET3014
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #BackorderOverviewActionTab
          ElementPosition     #1431655764
          HierarchyParent     #BackorderActionPaneStrip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #CostBreakdownActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #CostBreakdownActionPaneStrip
          DataSource          #SalesCostBreakdownLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #General
          AutoDeclaration     #Yes
          ElementPosition     #1503238548
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114913
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Inquiries
          HelpText            #@SYS3850
          ElementPosition     #1932735276
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS3850
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Invoice
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS14204
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #LineOverviewActionTab
          ElementPosition     #1431655764
          HierarchyParent     #LinesActionPaneStrip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Manage
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS115306
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #PickAndPack
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS317470
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #SalesOrder
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS19627
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Sell
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114644
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #BackorderGroup
          ElementPosition     #1299095042
          HierarchyParent     #SalesOrder
          Caption             #@SYS54557
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #btngrpAttribute
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #aptabRetail
          Caption             #@SYS334125
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #btngrpInquiries
          ElementPosition     #1789569705
          HierarchyParent     #aptabRetail
          Caption             #@SYS316992
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneTab
          Caption             #@XAP4816
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup1
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneTab1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupBackorder
          ElementPosition     #1431655764
          HierarchyParent     #BackorderOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #CashBtnGroup
          ElementPosition     #1908874349
          HierarchyParent     #Sell
          Caption             #@XAP7252
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #CommerceServices
          ConfigurationKey    #DOCommerceServices
          ElementPosition     #1829337920
          HierarchyParent     #SalesOrder
          Caption             #@SYS331239
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #CostBreakdownButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #CostBreakdownActionPaneTab
          DataSource          #SalesCostBreakdownLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #EventNotification
          ElementPosition     #2067947214
          HierarchyParent     #SalesOrder
          Caption             #@RET4160023
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralCustomer
          ElementPosition     #1073741823
          HierarchyParent     #General
          Caption             #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralMaintain
          ElementPosition     #1431655764
          HierarchyParent     #General
          Caption             #@SYS316594
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralRelatedInfo
          ElementPosition     #1789569705
          HierarchyParent     #General
          Caption             #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralSetup
          ElementPosition     #715827882
          HierarchyParent     #General
          Caption             #@SYS342635
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #Generate
          ElementPosition     #1073741820
          HierarchyParent     #Sell
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InquiriesGroup
          ElementPosition     #1431655764
          HierarchyParent     #Inquiries
          Caption             #@SYS3850
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #IntercompanyTracing
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1717986916
          HierarchyParent     #Manage
          Caption             #@SYS317473
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceBill
          ElementPosition     #805306365
          HierarchyParent     #Invoice
          Caption             #@SYS114665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceChange
          ElementPosition     #1610612730
          HierarchyParent     #Invoice
          Caption             #@SYS1038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceGenerate
          ElementPosition     #536870910
          HierarchyParent     #Invoice
          Caption             #@SYS318742
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceIntroduce
          ElementPosition     #1342177275
          HierarchyParent     #Invoice
          Caption             #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceJournals
          ElementPosition     #1879048185
          HierarchyParent     #Invoice
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceSettle
          ElementPosition     #1073741820
          HierarchyParent     #Invoice
          Caption             #@SYS114666
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewActionButtonGroup
          ElementPosition     #1610612734
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewMainActionButtonGroup
          ElementPosition     #1073741822
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageBankDocument
          ElementPosition     #1288490187
          HierarchyParent     #Manage
          Caption             #@SYS313653
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageCustomer
          ElementPosition     #858993458
          HierarchyParent     #Manage
          Caption             #@SYS11779
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackDelivery
          ElementPosition     #1431655764
          HierarchyParent     #PickAndPack
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackFMS
          ElementPosition     #2028178999
          HierarchyParent     #PickAndPack
          Caption             #@GGH1386
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackGenerate
          ElementPosition     #715827882
          HierarchyParent     #PickAndPack
          Caption             #@SYS318742
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackJournals
          ElementPosition     #1670265058
          HierarchyParent     #PickAndPack
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackNew
          ElementPosition     #954437176
          HierarchyParent     #PickAndPack
          Caption             #@XAP65
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackQualityManagement
          ElementPosition     #1193046470
          HierarchyParent     #PickAndPack
          Caption             #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackSurplus
          ElementPosition     #1908874352
          HierarchyParent     #PickAndPack
          Caption             #@XAP8121
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackWMS
          ElementPosition     #477218588
          HierarchyParent     #PickAndPack
          Caption             #@XWM867
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ProcessGroup
          ElementPosition     #1252698790
          HierarchyParent     #Sell
          Caption             #@SYS114631
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ReservationGrp
          ConfigurationKey    #XAP_Equipments
          ElementPosition     #2087831322
          HierarchyParent     #Sell
          Caption             #@SYS7669
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #RetailPrepaymentBalance
          ConfigurationKey    #Retail
          ElementPosition     #2028178999
          HierarchyParent     #Sell
          Caption             #@RET4990
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderAdd
          ElementPosition     #1206302539
          HierarchyParent     #SalesOrder
          Caption             #@XAP11438
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderAttachments
          ElementPosition     #1988410782
          HierarchyParent     #SalesOrder
          Caption             #@SYS316708
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderCopy
          ElementPosition     #927925030
          HierarchyParent     #SalesOrder
          Caption             #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderEquipment
          ElementPosition     #2094459358
          HierarchyParent     #SalesOrder
          Caption             #@XAP43
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderImport
          ElementPosition     #2067947214
          HierarchyParent     #SalesOrder
          Caption             #@SYS54759
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderList
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1670265058
          HierarchyParent     #SalesOrder
          Caption             #@SYS118440
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderModify
          ElementPosition     #556755018
          HierarchyParent     #SalesOrder
          Caption             #@SYS316703
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderNew
          NeededPermission    #Delete
          ElementPosition     #371170012
          HierarchyParent     #SalesOrder
          Caption             #@SYS2055
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderView
          ElementPosition     #1113510036
          HierarchyParent     #SalesOrder
          Caption             #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesPrepay
          AutoDeclaration     #Yes
          DisplayTarget       #Client
          ElementPosition     #984263335
          HierarchyParent     #Sell
          Caption             #@SYS319483
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellApply
          ElementPosition     #1431655760
          HierarchyParent     #Sell
          Caption             #@SYS24973
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCalculate
          ElementPosition     #894784850
          HierarchyParent     #Sell
          Caption             #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCharges
          ElementPosition     #536870910
          HierarchyParent     #Sell
          Caption             #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCreate
          ElementPosition     #357913940
          HierarchyParent     #Sell
          Caption             #@SYS112171
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellJournals
          ElementPosition     #1610612730
          HierarchyParent     #Sell
          Caption             #@SYS2827
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellTax
          ElementPosition     #715827880
          HierarchyParent     #Sell
          Caption             #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellTradeAgreements
          ElementPosition     #1789569700
          HierarchyParent     #Sell
          Caption             #@SYS316483
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ShowGroup
          AutoDeclaration     #Yes
          ElementPosition     #742340024
          HierarchyParent     #SalesOrder
          Caption             #@SYS317437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridBackorder
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #TabBackorder
          DataSource          #XAP_BackorderTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridHeader
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGroup
          VisibleCols         #7
          VisibleRows         #9
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridLineCostBreakdown
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #TabLineCostBreakdown
          VisibleRows         #5
          DataSource          #SalesCostBreakdownLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #SalesLineGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #LineViewLines
          VisibleRows         #5
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #AbnormalCallPartsTab
          ElementPosition     #2075900857
          HierarchyParent     #GroupLineViewHeader
          DataSource          #SalesTable
          DataGroup           #partsabnormalCall
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Administration
          ElementPosition     #1035393900
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Agreement_RU
          CountryRegionCodes  #RU
          ElementPosition     #2013265915
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS15240
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Asset_RU
          ElementPosition     #2130706430
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #FixedAssets_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #AttachedTo
          ElementPosition     #764295390
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #AttachedTo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankAccounts_LV
          ElementPosition     #1932735281
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #BankAccounts_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Barcode
          ElementPosition     #858993458
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #Barcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Baseinfo
          ElementPosition     #1090519031
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS19627
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BomRoute
          ElementPosition     #1670265058
          HierarchyParent     #TabPageProduct
          Caption             #@SYS22227
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Campaign
          ElementPosition     #815167260
          HierarchyParent     #GroupReferences
          FrameType           #None
          DataSource          #SalesTable
          DataGroup           #Campaign
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CarrierInfo
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #DeliveryDoubleColumnGroup
          DataSource          #SalesTable
          DataGroup           #CarrierInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CarrierInfoLine
          ElementPosition     #1431655764
          HierarchyParent     #TabLineDelivery
          DataSource          #SalesLine
          DataGroup           #CarrierInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Commission
          ElementPosition     #766958445
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #Commission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CompanyInfo
          AutoDeclaration     #Yes
          ElementPosition     #322122546
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS81121
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ConsTarget_JP
          AutoDeclaration     #Yes
          CountryRegionCodes  #JP
          ElementPosition     #1879048190
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataGroup           #ConsTarget_JP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ContactInfo
          ElementPosition     #997045972
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #ContactInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CreditLimit
          ElementPosition     #1620199707
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS1532
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CreditNoteInvoice
          ElementPosition     #2043092079
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #CreditNoteInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Currency
          ElementPosition     #715827882
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #CurrencyShow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustInfo
          ElementPosition     #1968526675
          HierarchyParent     #WornCoreGroup
          DataSource          #XAP_OutstandingCoreLine
          DataGroup           #CustInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customer
          VerticalSpacing     #5
          ElementPosition     #715827882
          HierarchyParent     #GroupCustomer
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustomerPartsTab
          ElementPosition     #477218588
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS302
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustomerReturns_IN
          AutoDeclaration     #Yes
          ElementPosition     #2093796553
          HierarchyParent     #TabLineSetup
          Caption             #@SYP4312289
          DataSource          #SalesLineReturnDetails_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customs_IN
          AutoDeclaration     #Yes
          ElementPosition     #1181116002
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5007
          DataSource          #SalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateAndTime
          ElementPosition     #1994091957
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS112412
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Delivery
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryAddressHeaderOverview
          ElementPosition     #715827882
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryDoubleColumnGroup
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderDelivery
          FrameType           #None
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryPartsTab
          ElementPosition     #1252698793
          HierarchyParent     #GroupLineViewHeader
          DataSource          #SalesTable
          DataGroup           #PartsDeliverySO
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryPartStore
          ElementPosition     #2013265917
          HierarchyParent     #TabHeaderDelivery
          DataSource          #SalesTable
          DataGroup           #PartStore
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliverySalesTax_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1610612730
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #DeliverySalesTax_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliverySmartSourcingNeedByDate
          ElementPosition     #1879048189
          HierarchyParent     #TabHeaderDelivery
          DataSource          #SalesTable
          DataGroup           #SmartSourcingDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Disc
          ElementPosition     #613566756
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS11829
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DiscMarkup
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #DiscountMiscCharges
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #EInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice_MX
          AutoDeclaration     #Yes
          CountryRegionCodes  #MX
          ElementPosition     #1908874352
          HierarchyParent     #TabPageProduct
          DataSource          #SalesLine
          DataGroup           #EletronicInvoice_MX
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoiceLine
          AutoDeclaration     #Yes
          ElementPosition     #1994091957
          HierarchyParent     #TabLineSetup
          Caption             #@SYS5779
          DataSource          #SalesLine
          DataGroup           #EInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EntryCertificate_W
          ElementPosition     #2146959358
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable_W
          DataGroup           #EntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EQPartsPostView
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #739688808
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EQPartsPreView
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #462305505
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EQPostView
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #832149909
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EQPreView
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #554766606
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Equipment
          ElementPosition     #305718156
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Equipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EquipmentAdministration
          ElementPosition     #382147695
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #EquipmentAdmin
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EquipmentOrder
          ElementPosition     #1150437667
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #EquipmentOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EquipmentPartsTab
          ElementPosition     #1861152493
          HierarchyParent     #GroupLineViewHeader
          DataSource          #SalesTable
          DataGroup           #partsequipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Excise_IN
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5005
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EximIncentiveScheme_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1503238548
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS61737
          DataSource          #EximSalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ExportInformation
          ElementPosition     #2013265915
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #ExportInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ExternalRefernces
          ElementPosition     #1375731702
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS318616
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Financials
          ElementPosition     #1687308579
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine
          DataGroup           #Financials
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Financials1
          ElementPosition     #1968526675
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesLine
          DataGroup           #Financial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalDocType_PL
          CountryRegionCodes  #PL
          ElementPosition     #2024704929
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #FiscalDocType_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalInformation_BR
          ElementPosition     #1431655764
          HierarchyParent     #TabLineFiscalInformation_BR
          DataSource          #SalesLine_BR
          DataGroup           #FiscalInformation_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FixedAssets
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #TabLineFixedAsset
          FrameType           #None
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTrade
          ElementPosition     #858993458
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTradeCategory
          ElementPosition     #1288490187
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
          DataSource          #SalesLineForeignTradeCategory
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiroMoneyTransferSlip
          ElementPosition     #1687308579
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS316960
          DataSource          #SalesTable
          DataGroup           #GiroMoneyTransferSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGroup
          ElementPosition     #1431655764
          HierarchyParent     #TabPageGrid
          Style               #BorderlessGridContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          ElementPosition     #715827882
          HierarchyParent     #Customer
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupColumnLast
          ElementPosition     #1717986916
          HierarchyParent     #TabPageForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCreditNote
          ElementPosition     #1073741822
          HierarchyParent     #TabCreditNote
          Caption             #@GLS220480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCustomer
          ElementPosition     #747784479
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCustomerReturnPeriod
          ElementPosition     #1717986916
          HierarchyParent     #CustomerReturns_IN
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDiscountHeaderOverview
          ElementPosition     #1789569705
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS335044
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeaderAddress
          ElementPosition     #1073741823
          HierarchyParent     #HeaderDeliveryAddress
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeaderAddressHeaderOverview
          ElementPosition     #1073741823
          HierarchyParent     #DeliveryAddressHeaderOverview
          FrameType           #None
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineDeliveryAddressRef
          ElementPosition     #1288490187
          HierarchyParent     #TabPageAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineViewHeader
          ElementPosition     #1431655764
          HierarchyParent     #LineViewHeader
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupNotificationToTheCentralBank
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #NotificationToTheCentralBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupOriginalInvoice
          ElementPosition     #1610612733
          HierarchyParent     #TabCreditNote
          Caption             #@SYS300088
          DataSource          #CustInvoiceTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupProductModel
          ElementPosition     #1193046470
          HierarchyParent     #TabPageProduct
          Caption             #@SYS40117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupReferences
          ElementPosition     #1879048186
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupReferencesHeaderOverview
          ElementPosition     #1431655764
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupSmartSourcing
          ElementPosition     #1968526675
          HierarchyParent     #TabLineDelivery
          DataSource          #SalesLine
          DataGroup           #SmartSourcing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupStatus
          ElementPosition     #1230728621
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS36398
          DataSource          #SalesTable
          DataGroup           #Status
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupTestHeading
          AutoDeclaration     #Yes
          Visible             #No
          Width               #Column width
          ElementPosition     #715827880
          HierarchyParent     #LineViewLines
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDeliveryAddress
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1744830461
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS306383
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderFiscalInformation
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS56
          DataSource          #SalesTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderForeignTrade
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderForeignTrade
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderInfo
          ElementPosition     #1073741822
          HierarchyParent     #TabPageDetails
          FrameType           #None
          Style               #DetailTitleContainer
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderMarketingProgram
          ElementPosition     #1789569705
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #MarketingProgram
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HoseBuild
          ElementPosition     #2070787801
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #HoseBuild
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IndiaSalesTax
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS5878
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterCompanyAdmin
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderIntercompanySettings
          FrameType           #None
          DataSource          #SalesTable
          DataGroup           #IntercompanyAdmin
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterestAndFine_BR
          CountryRegionCodes  #BR
          ElementPosition     #1556925642
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable_BR
          DataGroup           #InterestAndFine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat
          ElementPosition     #1789569705
          HierarchyParent     #TabHeaderForeignTrade
          FrameType           #None
          DataSource          #SalesTable_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat1
          ElementPosition     #1073741822
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
          DataSource          #SalesLine_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Inventory
          ElementPosition     #1495568958
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS108783
          DataSource          #SalesTable
          DataGroup           #Inventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventoryDimensionsGrid
          AutoDeclaration     #Yes
          ElementPosition     #277383303
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #InventDim
          DataGroup           #InventoryDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventProfile_RU
          ElementPosition     #2146435070
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable_RU
          DataGroup           #InventProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InvoiceScheduleLine
          ElementPosition     #1938700513
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #InvoiceScheduleLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemReference
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #TabPageProduct
          DataSource          #SalesLine
          DataGroup           #ItemReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Jobsite
          ElementPosition     #1533916890
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #Jobsite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineCommission
          ElementPosition     #920350134
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Commission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineCratedDateTime
          ElementPosition     #1840700268
          HierarchyParent     #TabLineSetup
          Caption             #@SYS112412
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS16056
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDeliveryAddress
          ElementPosition     #858993458
          HierarchyParent     #TabPageAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1932735281
          HierarchyParent     #TabPageAddress
          Caption             #@GLS221489
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineInventory
          AutoDeclaration     #Yes
          ElementPosition     #306783378
          HierarchyParent     #TabLineSetup
          Caption             #@SYS981
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineJobsite
          ElementPosition     #1380525201
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Jobsite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineMarketingProgram
          ElementPosition     #1840700268
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine
          DataGroup           #MarketingProgram
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineNTO
          ElementPosition     #1227133512
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #NTO
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LinePosting
          ElementPosition     #613566756
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Posting
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #lineRFIDTaggingLevel
          ElementPosition     #1717986916
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineSalesTax
          ElementPosition     #766958445
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1968526675
          HierarchyParent     #DeliveryAddressHeaderOverview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineWithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2040109461
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine_IN
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineWithholdTax
          AutoDeclaration     #Yes
          CountryRegionCodes  #TH,SA,GB,IE,BR
          ElementPosition     #1073741823
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #WithholdingTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Measurement
          ElementPosition     #1431655764
          HierarchyParent     #GroupColumnLast
          Caption             #@SYS34825
          DataSource          #SalesLineForeignTradeCategory
          DataGroup           #Measurement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MiscDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS102988
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MiscLineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS102988
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #NoteFormat_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1744830457
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTableExtensionTH
          DataGroup           #NoteFormat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #NotUsedFields
          Visible             #No
          ElementPosition     #184922202
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #NTO
          ElementPosition     #1380525201
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #NTO
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OrderLine
          ElementPosition     #1222872624
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS22920
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Others
          ElementPosition     #2058005160
          HierarchyParent     #WornCoreGroup
          Caption             #@SYS118908
          FrameOptionButton   #Hide
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Packagingmaterial
          ConfigurationKey    #InventPackaging
          ElementPosition     #1288490187
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #PackagingMaterial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsAbnormalCall
          ElementPosition     #1840700268
          HierarchyParent     #PartsSummary
          DataSource          #SalesTable
          DataGroup           #PartsAbnormalCall
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsCustomer
          ElementPosition     #613566756
          HierarchyParent     #PartsSummary
          DataSource          #SalesTable
          DataGroup           #PartsCustomer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsDelivery
          ElementPosition     #1073741823
          HierarchyParent     #PartsSummary
          DataSource          #SalesTable
          DataGroup           #PartsDelivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsEquipment
          ElementPosition     #920350134
          HierarchyParent     #PartsSummary
          DataSource          #SalesTable
          DataGroup           #PartsEquipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsPostView
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #647227707
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsPreView
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #369844404
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsReturn
          ElementPosition     #1789569705
          HierarchyParent     #WornCoreGroup
          DataSource          #SalesLine
          DataGroup           #PartsReturn
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsSetupHeader
          ElementPosition     #1533916890
          HierarchyParent     #PartsSummary
          DataSource          #SalesTable
          DataGroup           #PartsSetupHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsStatus
          ElementPosition     #1227133512
          HierarchyParent     #PartsSummary
          DataSource          #SalesTable
          DataGroup           #PartsStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PartsSummary
          ElementPosition     #1431655764
          HierarchyParent     #TabPartsSummary
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Payment
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #TabHeaderPriceCalc
          Caption             #@SYS333953
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsCWMain
          Visible             #No
          ElementPosition     #924611010
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataGroup           #PdsCWMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsRebate
          ElementPosition     #1227133512
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine
          DataGroup           #PdsRebate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Posting
          ElementPosition     #613566756
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS5943
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Potency
          ElementPosition     #1503238551
          HierarchyParent     #TabLinePriceDisc
          Caption             #@PSC311
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Price_RU
          ElementPosition     #894784852
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable_RU
          DataGroup           #Price_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Prices
          ElementPosition     #920350134
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS12983
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductDimensions
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #TabPageProduct
          Caption             #@SYS133228
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductSerial
          ElementPosition     #1431655764
          HierarchyParent     #WornCoreGroup
          DataSource          #XAP_OutstandingCoreLine
          DataGroup           #ProductSerial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Project
          ElementPosition     #1431655764
          HierarchyParent     #TabLineProject
          FrameType           #None
          DataSource          #SalesLine
          DataGroup           #SalesOrderProject
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Promotion
          ElementPosition     #2058005160
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #Promotion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Quantity
          ElementPosition     #1070013546
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Quantity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Reservation
          ElementPosition     #1227133512
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS981
          DataSource          #SalesTable
          DataGroup           #Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Return
          ElementPosition     #460175067
          HierarchyParent     #TabLineSetup
          Caption             #@SYS24700
          DataSource          #SalesLine
          DataGroup           #ReturnGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Return1
          ElementPosition     #2080374780
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #Return
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ReturnedOrder
          ElementPosition     #2086899254
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #ReturnedOrded
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #RFIDTaggingLevel
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderPacking
          DataSource          #SalesTable
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesAvailableDlvDatesHeaderGroup
          ElementPosition     #1193046470
          HierarchyParent     #Delivery
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesAvailableDlvDatesLineGroup
          ElementPosition     #1227133512
          HierarchyParent     #LineDelivery
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLine_DeliveryPostalAddressGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineDeliveryAddress
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLineIntercompany
          ElementPosition     #1528590780
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Intercompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLineStatus
          ElementPosition     #1681449858
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Status
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesPerson1Group
          ElementPosition     #1921432735
          HierarchyParent     #Administration
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesPerson2Group
          ElementPosition     #2034458190
          HierarchyParent     #Administration
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesPool
          ElementPosition     #917154468
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #SalesPool
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTableTimeZoneDelivery
          ElementPosition     #1610612733
          HierarchyParent     #TabHeaderDelivery
          Caption             #@SYS110097
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTax
          ElementPosition     #460175067
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ServiceTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #1717986912
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5006
          DataSource          #SalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SetupPartsTab
          ElementPosition     #2004318069
          HierarchyParent     #GroupLineViewHeader
          DataSource          #SalesTable
          DataGroup           #PartsSetupHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ShipCarrierAddr
          ConfigurationKey    #ShipCarrier
          ElementPosition     #1610612733
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS116845
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ShipCarrierLineAddress
          ConfigurationKey    #ShipCarrier
          ElementPosition     #1717986916
          HierarchyParent     #TabPageAddress
          Caption             #@SYS116845
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SimulateDeliveryDatesGroup
          ElementPosition     #1533916890
          HierarchyParent     #DeliveryHeaderOverview
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SIS
          ElementPosition     #306783378
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #SIS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #StatusPartsTab
          ElementPosition     #1932735281
          HierarchyParent     #GroupLineViewHeader
          DataSource          #SalesTable
          DataGroup           #partsstatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #StorageDimensions
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #TabPageProduct
          Caption             #@SYS108783
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SubLine
          ElementPosition     #611436312
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #SubLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Suframa_BR
          ElementPosition     #1073741822
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine_BR
          DataGroup           #Suframa_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SuframaRegion_BR
          CountryRegionCodes  #BR
          ElementPosition     #1288490187
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS128
          DataSource          #SalesTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SurplusReturn
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1834308947
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #SurplusReturn
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TEPS
          ElementPosition     #1533916890
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine
          DataGroup           #TEPS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TEPS1
          ElementPosition     #1370938211
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #TEPS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TEPSAuth
          AllowEdit           #No
          ElementPosition     #1687308579
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #TEPSAuth
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TEPSPricing
          ElementPosition     #1533916890
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #TEPSPricing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TimeZoneDelivery
          ElementPosition     #1789569705
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS110097
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TrackingDimensions
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TabPageProduct
          Caption             #@SYS317445
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TradeIn
          ElementPosition     #458577234
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #TradeIn
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Transport
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #DeliveryDoubleColumnGroup
          DataSource          #SalesTable
          DataGroup           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5004
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT_IN
          ElementPosition     #1073741822
          HierarchyParent     #VAT
          FrameType           #None
          DataSource          #TaxInformation_IN
          DataGroup           #VAT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax
          AutoDeclaration     #Yes
          ElementPosition     #1932735279
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS7372
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2145386494
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WMS
          ElementPosition     #2147221502
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #WMS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WornCore
          ElementPosition     #715827882
          HierarchyParent     #WornCoreGroup
          DataSource          #XAP_OutstandingCoreLine
          DataGroup           #WornCore
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WornCoreGroup
          ElementPosition     #1610612734
          HierarchyParent     #TabWornCore
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WornCoreWarranty
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #WornCoreGroup
          DataSource          #XAP_OutstandingCoreLine
          DataGroup           #WornCoreWarranty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonHeaderTradeAgreements
          AutoDeclaration     #Yes
          HelpText            #@SYS69473
          ElementPosition     #715827882
          HierarchyParent     #GeneralCustomer
          Text                #@SYS115266
          ButtonDisplay       #Text & Image left
          NormalImage         #12430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventory
          AutoDeclaration     #Yes
          HelpText            #@SYS69645
          ElementPosition     #1073741820
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS981
          ButtonDisplay       #Text & Image left
          NormalImage         #10932
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEPL>
            #    boolean     isExternalItem;
            #    int         controlCount, i;
            #    FormControl curControl;
            #    // </GEEPL>
            #
            #    if (buttonLineInventTrans.visible() &&
            #        buttonLineInventTrans.enabled())
            #    {
            #        buttonLineInventTransGoodsInRoute_RU.visible(salesLine.hasInventTransGoodsInRoute_RU());
            #    }
            #
            #    // <GEEPL>
            #    if (countryRegion_PL)
            #    {
            #        isExternalItem = !salesLine.isCategoryBased() && (salesLine.inventDim().inventLocation().InventLocationType == InventLocationType::PlExternalItems);
            #
            #        controlCount = buttonLineInventory.controlCount();
            #        for (i = 1; i <= controlCount; i++)
            #        {
            #            curControl = buttonLineInventory.controlNum(i);
            #            curControl.enabled(! isExternalItem);
            #        }
            #
            #        plInventExternalReserve.visible (isExternalItem);
            #        plInventSumExternal.visible     (true);
            #
            #        plInventExternalReserve.enabled (isExternalItem);
            #        plInventSumExternal.enabled     (true);
            #    }
            #    else
            #    {
            #        plInventExternalReserve.visible (false);
            #        plInventSumExternal.visible     (false);
            #    }
            #    // </GEEPL>
            #
            #    //<NAXT>
            #    xap_OutstandingCore.enabled(element.editLinesAllowed());
            #    //</NAXT>
            #
            #    //<GGH_TFS19687_LD>
            #    buttonCoreReturnReview.enabled(SalesLine.inventDim().inventLocation().CoreInspectionStatus == XAP_CoreInspectionResult::NotInspected);
            #    //</GGH_TFS19687_LD>
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreateActivity
          HelpText            #@SYS26027
          ElementPosition     #1073741823
          HierarchyParent     #GeneralCustomer
          Text                #@SYS38378
          NormalImage         #10197
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreditCard
          HelpText            #@SYS116961
          ElementPosition     #1431655764
          HierarchyParent     #ManageCustomer
          Text                #@SYS101746
          ButtonDisplay       #Text & Image left
          NormalImage         #12446
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #GeneralCustomerCases
          HelpText            #@SYS310451
          ElementPosition     #1431655764
          HierarchyParent     #GeneralCustomer
          Text                #@SYS130461
          ButtonDisplay       #Text & Image left
          NormalImage         #11229
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #InterfaceForLine
          HelpText            #@XAP14908
          ElementPosition     #1845493755
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@XAP2552
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripFinancials
          HelpText            #@SYS80043
          ElementPosition     #805306365
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS80043
          ButtonDisplay       #Text & Image left
          NormalImage         #10694
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEU>
            #
            #    buttonChangeTaxGroups.enabled(salesTable.SalesStatus != SalesStatus::Invoiced   &&
            #                           salesLine.InventTransIdReturn                            &&
            #                           salesLine.CreditNoteInternalRef_PL);
            #    // </GEEU>
            #
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripProduct
          NeededPermission    #Delete
          HelpText            #@SYS317849
          ElementPosition     #1330992465
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS317847
          ButtonDisplay       #Text & Image left
          NormalImage         #12422
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    // <GIN>
            #    if (TaxParameters::isCustomsEnable_IN()
            #        && EximParameters_IN::checkParameters())
            #    {
            #        element.enableEximInquiry_IN();
            #    }
            #    // </GIN>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripSalesLine
          HelpText            #@SYS69510
          ElementPosition     #536870910
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS123905
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <NAXT>
            #void clicked()
            #{
            #    super();
            #
            #    xap_CreateHoseAssembly.enabled(salesLine.inventTable().xap_nprItem().BuildableHose);
            #}
            #// </NAXT>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdate
          NeededPermission    #Delete
          HelpText            #@SYS28285
          ElementPosition     #1588243110
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
          MultiSelect         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #mbTemplatesButton
          AutoDeclaration     #Yes
          HelpText            #@SYS345469
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS345468
          NormalImage         #12723
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #MenuButton
          NeededPermission    #Delete
          HelpText            #@XAP15978
          ElementPosition     #1996488700
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS7669
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_DivisionRecId
          ElementPosition     #1017229095
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #DivisionRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_HoldInvoiceReasonCode
          ElementPosition     #1554100006
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #HoldInvoiceReasonCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_InvoiceType
          ElementPosition     #1469330915
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #InvoiceType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_OrderClassRecId
          ElementPosition     #904203640
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #OrderClassRecId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    //<NAXT CU5> TFS_28341
            #    element.orderClassModified();
            #    //</NAXT CU5> TFS_28341
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_SalesPerson1
          ElementPosition     #1073741822
          HierarchyParent     #SalesPerson1Group
          DataSource          #SalesTable
          ReferenceField      #SalesPerson1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_SalesPerson2
          ElementPosition     #1073741822
          HierarchyParent     #SalesPerson2Group
          DataSource          #SalesTable
          ReferenceField      #SalesPerson2
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_SOSRecId
          ElementPosition     #1130254550
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #SOSRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_SvcCallRecId
          ElementPosition     #1243280005
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #SvcCallRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_SvcSegmentRecId
          ElementPosition     #1356305460
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #SvcSegmentRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_WorkerSalesResponsible
          ElementPosition     #339076365
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #WorkerSalesResponsible
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_WorkerSalesTaker
          ElementPosition     #452101820
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #WorkerSalesTaker
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Agreement_RU_AgreementHeaderExt_RU
          ElementPosition     #1073741822
          HierarchyParent     #Agreement_RU
          DataSource          #SalesTable_RU
          ReferenceField      #AgreementHeaderExt_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #CopyOfReferenceGroup
          ElementPosition     #858993458
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #CreditLimit_BusinessAreaCreditLimit
          ElementPosition     #858993458
          HierarchyParent     #CreditLimit
          DataSource          #SalesTable
          ReferenceField      #BusinessAreaCreditLimit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Customs_IN_CustomsTariffCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #Customs_IN
          DataSource          #SalesLine_IN
          ReferenceField      #CustomsTariffCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQPartsSalesLine_ExchangeRateType
          ElementPosition     #1263225670
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          ReferenceField      #ExchangeRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQPartsSalesLine_MarketingTableRecId
          ElementPosition     #1768515938
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          ReferenceField      #MarketingTableRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQPartsSalesLine_SalesCategory
          ElementPosition     #1010580536
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQPartsSalesLine_SOSRecId
          ElementPosition     #116080196
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          ReferenceField      #SOSRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQSalesLine_ExchangeRateType
          ElementPosition     #928641568
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          ReferenceField      #ExchangeRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQSalesLine_MarketingTableRecId
          ElementPosition     #2031403430
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          ReferenceField      #MarketingTableRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQSalesLine_SalesCategory
          ElementPosition     #1973363332
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EQSalesLine_SOSRecId
          ElementPosition     #1218842058
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          ReferenceField      #SOSRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Excise_IN_ExciseTariffCodes_IN
          ElementPosition     #173534032
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          ReferenceField      #ExciseTariffCodes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximIncentiveSchemeGroup
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1503238549
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximIncentiveSchemeGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximPorts
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1717986914
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximPorts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximProductGroupTable
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1932735279
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximProductGroupTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR_CFOPTable_BR
          ElementPosition     #1073741823
          HierarchyParent     #FiscalInformation_BR
          DataSource          #SalesLine_BR
          ReferenceField      #CFOPTable_BR
          Label               #@GLS200
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR_FiscalDocumentType_BR
          ElementPosition     #715827882
          HierarchyParent     #FiscalInformation_BR
          DataSource          #SalesLine_BR
          ReferenceField      #FiscalDocumentType_BR
          ReplacementFieldGroup #FiscalDocumentTypeReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LineWithholdTax_TaxWithholdItemGroupHeading_TH
          ElementPosition     #1073741822
          HierarchyParent     #LineWithholdTax
          DataSource          #SalesLine
          ReferenceField      #TaxWithholdItemGroupHeading_TH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #MarketingProgram_MarketingTableRecId
          ElementPosition     #1431655764
          HierarchyParent     #HeaderMarketingProgram
          DataSource          #SalesTable
          ReferenceField      #MarketingTableRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #MarketingProgram1_MarketingTableRecId
          ElementPosition     #1610612733
          HierarchyParent     #LineMarketingProgram
          DataSource          #SalesLine
          ReferenceField      #MarketingTableRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #OriginalInvoice_SalesCategory
          ElementPosition     #1193046470
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PartsSetupHeader_OrderClassRecId
          ElementPosition     #1757032074
          HierarchyParent     #PartsSetupHeader
          DataSource          #SalesTable
          ReferenceField      #OrderClassRecId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    //<NAXT CU5> TFS_28341
            #    element.orderClassModified();
            #    //</NAXT CU5> TFS_28341
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Payment_DirectDebitMandate
          ElementPosition     #2098677199
          HierarchyParent     #Payment
          DataSource          #SalesTable
          ReferenceField      #DirectDebitMandate
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookupReference
            #public Common lookupReference()
            #{
            #    return CustDirectDebitMandate::lookupReference(
            #        SalesTable.InvoiceAccount,
            #        this);
            #}
            #
          ENDSOURCE
          SOURCE #resolveReference
            #public Common resolveReference()
            #{
            #    return CustDirectDebitMandate::resolveReference(
            #        SalesTable.InvoiceAccount,
            #        this);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Project_LineCategoryGroupId
          ElementPosition     #1533916890
          HierarchyParent     #Project
          DataSource          #SalesLine
          ReferenceField      #LineCategoryGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ReferenceGroup
          ElementPosition     #858993458
          HierarchyParent     #GroupHeaderAddress
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Sales_SalesCategory
          ElementPosition     #858993458
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_CFOPTable_BR
          ElementPosition     #1073741820
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine_BR
          ReferenceField      #CFOPTable_BR
          Label               #@GLS200
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_CompanyLocation_IN
          HelpText            #@GLS222760
          ElementPosition     #795364312
          HierarchyParent     #CompanyInfo
          DataSource          #SalesLine_IN
          ReferenceField      #CompanyLocation_IN
          Label               #@SYS33556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_DeliveryPostalAddress
          ElementPosition     #858993458
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          DataSource          #SalesLine
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_DestinationCodeRecId
          ElementPosition     #1380525201
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          ReferenceField      #DestinationCodeRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_DropBoxCodeRecId
          ElementPosition     #1457221045
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          ReferenceField      #DropBoxCodeRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_ExchangeRateType
          ElementPosition     #1263225670
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          ReferenceField      #ExchangeRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdCountryRegionToRemittance_IN
          ElementPosition     #1789569705
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          ReferenceField      #TaxWithholdCountryRegionToRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdNatureOfRemittance_IN
          ElementPosition     #1073741823
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          ReferenceField      #TaxWithholdNatureOfRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_MarketingTableRecId
          ElementPosition     #1768515938
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          ReferenceField      #MarketingTableRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_MRPConsolidationCodeSetupRecId
          ElementPosition     #1994091957
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          ReferenceField      #MRPConsolidationCodeSetupRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SalesCategory
          ElementPosition     #1010580536
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SalesTaxFormTypes_IN
          ElementPosition     #1610612734
          HierarchyParent     #IndiaSalesTax
          DataSource          #SalesLine_IN
          ReferenceField      #SalesTaxFormTypes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SOSRecId
          ElementPosition     #116080196
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          ReferenceField      #SOSRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_TaxInventVATCommodityCode_IN
          ElementPosition     #1610612734
          HierarchyParent     #VAT
          DataSource          #SalesLine_IN
          ReferenceField      #TaxInventVATCommodityCode_IN
          ReplacementFieldGroup #CommodityCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    Query                   query = new Query();
            #    SysReferenceTableLookup sysReferenceTableLookup;
            #    QueryBuildDataSource    queryBuildDataSource;
            #
            #    sysReferenceTableLookup = SysReferenceTableLookup::newParameters(tableNum(TaxInventVATCommodityCode_IN), this);
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, CommodityCode));
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, Description));
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, LogisticsAddressStateId));
            #
            #    queryBuildDataSource = query.addDataSource(tableNum(TaxInventVATCommodityCode_IN));
            #
            #    queryBuildDataSource.addRange(fieldNum(TaxInventVATCommodityCode_IN, ItemId)).value(queryValue(salesLine.ItemId));
            #    sysReferenceTableLookup.parmQuery(query);
            #
            #    sysReferenceTableLookup.performFormLookup();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_WMSOrderTypeRecId
          ElementPosition     #1329394638
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          ReferenceField      #WMSOrderTypeRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLineStatus_FACRecId
          NeededPermission    #Manual
          ElementPosition     #1994091957
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          ReferenceField      #FACRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLineTaxExtensionIN_TaxInformation
          ElementPosition     #1696777201
          HierarchyParent     #CompanyInfo
          DataSource          #SalesLine_IN
          ReferenceField      #TaxInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_DeliveryDealer
          ElementPosition     #894784852
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          ReferenceField      #DeliveryDealer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_DestinationCodeRecId
          ElementPosition     #2096353083
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          ReferenceField      #DestinationCodeRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_DivisionRecId
          ElementPosition     #1879048189
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          ReferenceField      #DivisionRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_DropBoxId
          ElementPosition     #1968526675
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          ReferenceField      #DropBoxId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_InvoiceScheduleTableRecId
          ElementPosition     #2055448631
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          ReferenceField      #InvoiceScheduleTableRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_RenMainTable
          ElementPosition     #2004318068
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          ReferenceField      #RenMainTable
          ReplacementFieldGroup #RentalId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_SalesPurchOperationType_BR
          ElementPosition     #715827882
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          ReferenceField      #SalesPurchOperationType_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_SvcContractId
          ElementPosition     #1983865843
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          ReferenceField      #SvcContractId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_TaxAgent_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #2086126969
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          ReferenceField      #TaxAgent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_WMSOrderTypeRecId
          ElementPosition     #2045222520
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          ReferenceField      #WMSOrderTypeRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTableSymbol_BankConstantSymbol
          ElementPosition     #2049870753
          HierarchyParent     #Payment
          DataSource          #SalesTableSymbol
          ReferenceField      #BankConstantSymbol
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTariffNumberHeader
          ElementPosition     #2013265917
          HierarchyParent     #HeaderForeignTrade
          DataSource          #TaxServiceTariffHeader
          ReferenceField      #ServiceTariffNumber
          ReplacementFieldGroup #ServiceTariffId
          Label               #@GLS115893
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTariffNumberLine
          HelpText            #@GLS115894
          ElementPosition     #2102744402
          HierarchyParent     #ForeignTrade
          DataSource          #TaxServiceTariffLine
          ReferenceField      #ServiceTariffNumber
          ReplacementFieldGroup #ServiceTariffId
          Label               #@GLS115893
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTax_IN_ServiceCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #ServiceTax_IN
          DataSource          #SalesLine_IN
          ReferenceField      #ServiceCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SetupPartsTab_OrderClassRecId
          ElementPosition     #1757032074
          HierarchyParent     #SetupPartsTab
          DataSource          #SalesTable
          ReferenceField      #OrderClassRecId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    //<NAXT CU5> TFS_28341
            #    element.orderClassModified();
            #    //</NAXT CU5> TFS_28341
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SetupPartsTab_PartPriceGroupRecId
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1366580502
          HierarchyParent     #SetupPartsTab
          DataSource          #SalesTable
          ReferenceField      #PartPriceGroupRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SIS_MachineTypeId
          AutoDeclaration     #Yes
          ElementPosition     #780903144
          HierarchyParent     #SIS
          DataSource          #SalesTable
          ReferenceField      #MachineTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ECCNumber
          AutoDeclaration     #Yes
          ElementPosition     #151842278
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ECCNumber
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_IECRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #Customs_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #IECRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ManECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #108458770
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ManECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_SalesTaxRegistrationNumber
          ElementPosition     #1073741822
          HierarchyParent     #IndiaSalesTax
          DataSource          #TaxInformation_IN
          ReferenceField      #SalesTaxRegistrationNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_STCRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #ServiceTax_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #STCRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_TraderECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #130150524
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #TraderECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TradeIn_TradeInEquipment
          ElementPosition     #794568947
          HierarchyParent     #TradeIn
          DataSource          #SalesLine
          ReferenceField      #TradeInEquipment
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    QueryBuildDataSource    queryBuildDataSource;
            #    QueryBuildDataSource    queryBuildDataSource2;
            #    SysTableLookup          lookup;
            #    QueryBuildRange         queryBuildRange;
            #    Query                   query;
            #
            #    query = new Query();
            #
            #    // Add the first data source to the query
            #    queryBuildDataSource = query.addDataSource(tableNum(XAP_EquipmentTable));
            #    // Add the range to this first data source
            #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(XAP_EquipmentTable, FleetType));
            #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(XAP_EquipmentTable, MachineType));
            #    // Set the range
            #    queryBuildRange.value(strFmt('(FleetType == %1) || (FleetType == %2)',enum2int(XAP_FleetType::Competitive),enum2int(XAP_FleetType::Customer)));
            #
            #    queryBuildDataSource2 = queryBuildDataSource.addDataSource(tableNum(XAP_EquipmentTradeInfo));
            #    queryBuildDataSource2.relations(true);
            #    queryBuildDataSource2.addRange(fieldNum(XAP_EquipmentTradeInfo, CustAccount)).value(queryValue(salesTable.CustAccount));
            #
            #    lookup = SysTableLookup::newParameters(tableNum(XAP_EquipmentTable), this.controlNum(1), true);
            #
            #    lookup.parmQuery(query);
            #
            #    // Add the fields to be shown in the lookup form.
            #    lookup.addLookupfield(fieldNum(XAP_EquipmentTable, EquipmentId));
            #    lookup.addLookupMethod(identifierStr(custAccount));
            #    lookup.addLookupfield(fieldNum(XAP_EquipmentTable, InventSerialId));
            #    lookup.addLookupfield(fieldNum(XAP_EquipmentTable, FleetType));
            #    lookup.addLookupMethod(identifierStr(displayMachineMake));
            #    lookup.addLookupMethod(identifierStr(displayMachineType));
            #    // Perform the lookup.
            #    lookup.performFormLookup();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #WithholdingTax_TAN
          ElementPosition     #715827882
          HierarchyParent     #WithholdingTax
          DataSource          #TaxInformation_IN
          ReferenceField      #TAN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #XAP_BackorderTrans_Facility
          ElementPosition     #1503238551
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          ReferenceField      #Facility
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #DetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabPageDetails
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #HeaderDetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #HeaderView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineDetailsTab
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #LineViewLineDetails
          Tabs                #12
          Style               #IndexTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineViewTab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LineView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #MainTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #tabChanged
            #public void tabChanged(int _fromTab, int _toTab)
            #{
            #    super(_fromTab, _toTab);
            #    element.lock();
            #
            #    // Buttons to show in Grid View
            #    editDetailsButton.visible(tabPageGrid.isActivePage());
            #    salesOrderList.visible(tabPageGrid.isActivePage());
            #
            #    // Buttons to show in Details View
            #    editSalesOrder.visible(!tabPageGrid.isActivePage());
            #    showGroup.visible(!tabPageGrid.isActivePage());
            #
            #    element.unLock();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #HeaderView
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineView
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewHeader
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #858993458
          HierarchyParent     #LineViewTab
          Caption             #@SYS335042
          FastTabExpanded     #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLineDetails
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #LineViewTab
          Caption             #@SYS23823
          DataSource          #SalesLine
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          FastTabExpanded     #No
          Scrollbars          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLines
          Width               #Column width
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #LineViewTab
          Caption             #@SYS335043
          FastTabExpanded     #Always
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #RBOPrePayment
          AutoDeclaration     #Yes
          Width               #Column width
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1651910490
          HierarchyParent     #HeaderDetailsTab
          Caption             #@RET4486
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabBackorder
          ElementPosition     #1994091957
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS54557
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabCreditNote
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          ElementPosition     #2004318064
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS8125
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionLine
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1687308579
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #SalesLine
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerLine.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          Width               #Column width
          ElementPosition     #1817101539
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #SalesTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerTable.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderAddress
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #660764196
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderDelivery
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #825955245
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderFiscalInformation_BR
          CountryRegionCodes  #BR
          Width               #Column width
          ElementPosition     #1982292588
          HierarchyParent     #HeaderDetailsTab
          Caption             #@GLS56
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderForeignTrade
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1486719441
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderGeneral
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #330382098
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderIntercompanySettings
          Width               #Column width
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1321528392
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS317558
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPacking
          Width               #Column width
          ElementPosition     #1156337343
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS82176
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPriceCalc
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #991146294
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderSetup
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #495573147
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineCostBreakdown
          AutoDeclaration     #Yes
          ElementPosition     #1278264075
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@XAP10616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1861152488
          HierarchyParent     #LineDetailsTab
          Caption             #@GLS56
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineFixedAsset
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS12578
          DataSource          #SalesLine
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #
            #    //element.setupAsset(purchLine);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineGeneral
          AutoDeclaration     #Yes
          ElementPosition     #306783378
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #SalesLine
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLinePriceDisc
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1176002949
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineProject
          AutoDeclaration     #Yes
          ElementPosition     #1380525201
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS80304
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineSetup
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageAddress
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeMultiShipTo
          ElementPosition     #613566756
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageDetails
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #MainTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #Details
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    element.lockWindowUpdate(true);
            #    salesorderlist.visible(false);
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageForeignTrade
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1533916890
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #MainTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          ViewEditMode        #Edit
          Style               #DetailsFormGrid
          PanelStyle          #Grid
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    element.lockWindowUpdate(true);
            #    salesorderlist.visible(true);
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPagePacking
          ElementPosition     #920350134
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS82176
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageProduct
          AutoDeclaration     #Yes
          ElementPosition     #766958445
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS103105
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerLineProduct.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPartsSummary
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          Width               #Column width
          ElementPosition     #2064888117
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@XAP7183
          DataSource          #SalesTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabTaxInformation_IN
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #1717986912
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS33652
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabWornCore
          AutoDeclaration     #Yes
          ElementPosition     #1789569700
          HierarchyParent     #LineDetailsTab
          Caption             #@XAP4271
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonChangeTaxGroups
          AutoDeclaration     #Yes
          HelpText            #@GLS109917
          ElementPosition     #1342177275
          HierarchyParent     #LineStripFinancials
          Text                #@GLS109917
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GEEU>
            #void clicked()
            #{
            #    Dialog      dialog;
            #    DialogField taxGroupItem;
            #    DialogField taxGroup;
            #
            #    super();
            #
            #    if (salesLine.CreditNoteInternalRef_PL &&
            #        salesLine.InventTransIdReturn)
            #    {
            #        dialog      = new Dialog("@GLS109917");
            #        taxGroup     = dialog.addFieldValue(extendedTypeStr(TaxGroup),     salesLine.TaxGroup);
            #        taxGroupItem = dialog.addFieldValue(extendedTypeStr(TaxItemGroup), salesLine.TaxItemGroup);
            #
            #        if (dialog.run())
            #        {
            #            if (taxGroup.value())
            #            {
            #                salesLine.TaxGroup      = taxGroup.value();
            #                salesLine.TaxItemGroup  = taxGroupItem.value();
            #                salesLine_ds.write();
            #            }
            #            else
            #            {
            #                Box::warning("@GLS109918");
            #            }
            #        }
            #    }
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyOriginalSalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS94563
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1073741823
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93838
          ButtonDisplay       #Text & Image above
          NormalImage         #10664
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (salesTable.SalesType == SalesType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(salesTable,true).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(salesTable,true).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyPurchTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS94560
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1789569705
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS75319
          ButtonDisplay       #Text & Image above
          NormalImage         #10603
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::construct(salesTable).formRun(formStr(PurchTable),element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesFormLetter_Pickinglist
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS94424
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1227133512
          HierarchyParent     #PickAndPackGenerate
          Text                #@SYS114678
          ButtonDisplay       #Text & Image above
          NormalImage         #10602
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    PurchTable                  purchTable_Reference = salesTable.referencePurchTable();
            #    SalesTableInteractionHelper salesTableInteractionHelper;
            #
            #    if (!purchTable_Reference.RecId && !purchTable_Reference.InterCompanySalesId)
            #    {
            #        throw(error("@SYS28047"));
            #    }
            #
            #    TradeInterCompany::construct(purchTable_Reference).menuFunction(classStr(SalesFormLetter_PickingList), MenuItemType::Action, element);
            #    salesTableInteractionHelper = SalesTableInteractionHelper::construct();
            #    salesTableInteractionHelper.initHeaderActions(salesTable);
            #    buttonInterCompanySalesFormLetter_Pickinglist.enabled(salesTableInteractionHelper.parmEnableICPickingListButton());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS94562
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #715827882
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93837
          ButtonDisplay       #Text & Image above
          NormalImage         #10604
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (salesTable.SalesType == SalesType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(salesTable.referencePurchTable()).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(salesTable.referencePurchTable()).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonLineProduction
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS28807
          ConfigurationKey    #Prod
          SecurityKey         #ProdDaily
          ElementPosition     #306783378
          HierarchyParent     #LineStripProduct
          Text                #@SYS114884
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine.type().formProduction(element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #CopyOfReservation
          NeededPermission    #Manual
          HelpText            #@XAP2936
          ElementPosition     #858993458
          HierarchyParent     #ReservationGrp
          Text                #@SYS7120
          ButtonDisplay       #Text & Image left
          NormalImage         #3460
          ImageLocation       #EmbeddedResource
          Big                 #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args                args;
            #
            #    super();
            #
            #    args = new Args();
            #    args.record(salesTable);
            #    args.parmEnumType(enumNum(XAP_AddOrList));
            #    args.parmEnum(XAP_AddOrList::List);
            #
            #    new MenuFunction(menuitemDisplayStr(XAP_RenEqReservation), MenuItemType::Display).run(args);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #CreateLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS305729
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1717986912
          HierarchyParent     #LineStripUpdate
          Text                #@SYS132301
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.createAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #EndDisc
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS68934
          ConfigurationKey    #PriceDisc
          ElementPosition     #1503238552
          HierarchyParent     #SellCalculate
          Text                #@SYS6465
          ButtonDisplay       #Text & Image left
          NormalImage         #10831
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    salesTable.updateFinalDisc();
            #    // CreditLimit calculation should only be triggered if updateFinalDisc() changes the DiscPercent which is indicated by touched.
            #    if (salesTable.Touched)
            #    {
            #        // Refresh if the final discount is updated
            #        salesTable_ds.reread();
            #        salesTable_ds.refresh();
            #
            #        //This will trigger the creditlimit calculation when salesTable.validateWrite is called
            #        salesTable_ds.setTouched();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #EquipmentSalesRevenueAllocation
          NeededPermission    #Manual
          HelpText            #@XAP5394
          ElementPosition     #1610612734
          HierarchyParent     #SalesOrderEquipment
          Text                #@XAP5393
          NormalImage         #10646
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// NAXT EQ0073 Sales revenue allocation
            #void clicked()
            #{
            #    XAP_EquipmentSalesRevenueAllocation  revenueAllocation;
            #
            #    super();
            #
            #    revenueAllocation = new XAP_EquipmentSalesRevenueAllocation(salesTable);
            #
            #    if (revenueAllocation)
            #    {
            #        revenueAllocation.allocation();
            #
            #        salesLine_ds.executeQuery();
            #    }
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #InterCompanyRemoveMarking
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94561
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1561806288
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::removeMarking(salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MultiLnDisc
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS68933
          ConfigurationKey    #PriceDisc
          ElementPosition     #1181116005
          HierarchyParent     #SellCalculate
          Text                #@SYS11440
          ButtonDisplay       #Text & Image left
          NormalImage         #10647
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #    element.multiLineDiscount();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PBAExecute
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS40755
          ElementPosition     #613566756
          HierarchyParent     #LineStripProduct
          Text                #@SYS40223
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.pbaConfigureLine();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintMgmt
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS68918
          ConfigurationKey    #LogisticsBasic
          SecurityKey         #CustMisc
          ElementPosition     #1073741822
          HierarchyParent     #GeneralSetup
          Text                #@SYS54502
          ButtonDisplay       #Text & Image above
          NormalImage         #10698
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    PrintMgmtSetupContext setupContext = new PrintMgmtSetupContext();
            #    List inventDocs = new List(Types::Enum);
            #    List salesDocs  = new List(Types::Enum);
            #
            #    if (salesTable_ds.cursor() == null)
            #    {
            #        return;
            #    }
            #
            #    super();
            #
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderConfirmation);
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice);
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderPackingSlip);
            #    //NAXT Reports
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesOrderInvoice);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesOrderPartsInvoice);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesOrderRentalInvoice);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesPackingSlip);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesPackingSlip_Parts);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesPackingSlip_Parts_BO);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesInvoice_Parts_R2);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesInvoice_EQGL_R2);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesInvoice_Rental_R2);
            #    salesDocs.addEnd(PrintMgmtDocumentType::XAP_SalesInvoice_Service_R2);
            #    //NAXT Reports
            #
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice4Paym_RU);
            #    }
            #    // </GEERU>
            #
            #    inventDocs.addEnd(PrintMgmtDocumentType::InventPickList);
            #
            #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Sales, PrintMgmtNodeType::SalesTable,salesDocs);
            #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Invent, PrintMgmtNodeType::SalesTable,inventDocs);
            #
            #    setupContext.parmCaller(element);
            #    setupContext.parmReferencedTableBuffer(salesTable_ds.cursor());
            #    setupContext.parmCountryRegionId(salesTable.getCountryRegionIdByDocumentStatus());
            #
            #    PrintMgmt::launchSetup(setupContext);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #RemoveLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS305731
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #2004318064
          HierarchyParent     #LineStripUpdate
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.removeAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #RemoveReservation
          AutoDeclaration     #Yes
          HelpText            #@XAP15979
          ElementPosition     #1610612733
          HierarchyParent     #MenuButton
          Text                #@XAP15977
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    salesLine.removeReservation();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #SalesAutoReservation
          AutoDeclaration     #Yes
          HelpText            #@XAP4739
          ElementPosition     #1073741822
          HierarchyParent     #MenuButton
          Text                #@SYS7669
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// NAXT EQ0064 Equipment reservation (KT6667)
            #void clicked()
            #{
            #    XAP_SalesOrderReservation   salesOrderReservation;
            #
            #    super();
            #
            #    if (salesLine.SalesId)
            #    {
            #        salesOrderReservation = new XAP_SalesOrderReservation(salesLine.SalesId);
            #
            #        salesOrderReservation.run();
            #        // <NAXT CU4>
            #        XAP_EquipmentTable::updateEquipmentAtReservation(SalesLine.EquipmentId, SalesLine.ItemId, element.args().record());
            #        // </NAXT CU4>
            #
            #        salesLine_ds.executeQuery();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #SendEmail
          AutoDeclaration     #Yes
          HelpText            #@RET4170063
          ElementPosition     #1193046470
          HierarchyParent     #EventNotification
          Text                #@RET4170062
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    RetailEventNotificationAction::CreditCardProcessCompletion(
            #                                        false,
            #                                        CreditCardPaymentErrors::construct(),
            #                                        CreditCardOperation::Authorize,
            #                                        true,
            #                                        salesTable);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #TieredCharges
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS4050023
          ConfigurationKey    #Markup
          ElementPosition     #1825361099
          HierarchyParent     #SellCalculate
          Text                #@SYS4050022
          ButtonDisplay       #Text & Image left
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    salesTable.calculateTieredCharges();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Administration_AbnormalCall
          ElementPosition     #1695381825
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #AbnormalCall
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Administration_CombineLinesDisabled
          ElementPosition     #1751894552
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #CombineLinesDisabled
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Administration_DisableAutoReplacement
          ElementPosition     #1582356370
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #DisableAutoReplacement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Administration_HoldInvoice
          ElementPosition     #1525843642
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #HoldInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierExpeditedShipment
          ElementPosition     #1073741820
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierExpeditedShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierFuelSurcharge
          ElementPosition     #1342177275
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierFuelSurcharge
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierResidential
          ElementPosition     #1610612730
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierResidential
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CreditLimit_AutoApproveCreditLimit
          ElementPosition     #1288490187
          HierarchyParent     #CreditLimit
          DataSource          #SalesTable
          DataField           #AutoApproveCreditLimit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Delivery_ShipBlind
          ElementPosition     #1908874352
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShipCarrierBlindShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #displaySuframa_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #SuframaRegion_BR
          DataSource          #SalesTable_BR
          DataMethod          #displaySuframa_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #displaySuframaPISCOFINS_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #SuframaRegion_BR
          Label               #@GLS1335
          DataSource          #SalesTable_BR
          DataMethod          #displaySuframaPISCOFINS_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EInvoice_EInvoiceLineSpec
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #EInvoice
          DataSource          #SalesTable
          DataField           #EInvoiceLineSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EntryCertificate_W1_EntryCertificateRequired_W
          ElementPosition     #1073741822
          HierarchyParent     #EntryCertificate_W
          DataSource          #SalesTable_W
          DataField           #EntryCertificateRequired_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EntryCertificate_W1_IssueOwnEntryCertificate_W
          ElementPosition     #1610612733
          HierarchyParent     #EntryCertificate_W
          DataSource          #SalesTable_W
          DataField           #IssueOwnEntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EQItemPhantom
          AllowEdit           #No
          HelpText            #@GGH2428
          ElementPosition     #1509042548
          HierarchyParent     #EQPreView
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataMethod          #displayItemPhantom
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EQPartsItemPhantom
          AllowEdit           #No
          HelpText            #@GGH2428
          ElementPosition     #1102761862
          HierarchyParent     #EQPartsPreView
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataMethod          #displayItemPhantom
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EQPartsSalesLine_FreezePrice
          ElementPosition     #884257969
          HierarchyParent     #EQPartsPostView
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataField           #FreezePrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EQSalesLine_FreezePrice
          ElementPosition     #1915323234
          HierarchyParent     #EQPreView
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataField           #FreezePrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_Consignment_IN
          ElementPosition     #1225584100
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #Consignment_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_DSA_IN
          ElementPosition     #1686533872
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #DSA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EximSalesLine_IN_ApplyDEPB
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #429496728
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #ApplyDEPB
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #FiscalInformation_BR1_ServiceCodeOnDlvAddress_BR
          ElementPosition     #1789569705
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #ServiceCodeOnDlvAddress_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #FixedAssets_CreateFixedAsset
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #FixedAssets
          DataSource          #SalesLine
          DataField           #CreateFixedAsset
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ForeignTrade_StatTriangularDeal
          ElementPosition     #630823320
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatTriangularDeal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #inclTax
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #InclTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyAllowIndirectCreation
          ElementPosition     #715827882
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyAllowIndirectCreation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyAutoCreateOrders
          ElementPosition     #1073741823
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyAutoCreateOrders
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyDirectDelivery
          ElementPosition     #1431655764
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyDirectDelivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ItemPhantom
          AllowEdit           #No
          HelpText            #@GGH2428
          ElementPosition     #232160392
          HierarchyParent     #PartsPreView
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataMethod          #displayItemPhantom
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LineInventory_PdsBatchAttribAutoRes
          ElementPosition     #1431655764
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #PdsBatchAttribAutoRes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LineInventory_PdsSameLot
          ElementPosition     #1789569705
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #PdsSameLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_CaseTagging
          ElementPosition     #858993458
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #CaseTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_ItemTagging
          ElementPosition     #1288490187
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #ItemTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_PalletTagging
          ElementPosition     #1717986916
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #PalletTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MarketingProgram1_ManualMarketingProgram
          ElementPosition     #1073741822
          HierarchyParent     #LineMarketingProgram
          DataSource          #SalesLine
          DataField           #ManualMarketingProgram
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #OneTimeCustomer
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1610612733
          HierarchyParent     #Customer
          DataSource          #SalesTable
          DataField           #OneTimeCustomer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Posting_InvoiceRegister_LT
          ElementPosition     #1002159034
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #InvoiceRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Posting_PackingSlipRegister_LT
          ElementPosition     #1145324610
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #PackingSlipRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Return_Scrap
          ElementPosition     #858993458
          HierarchyParent     #Return
          DataSource          #SalesLine
          DataField           #Scrap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_CaseTagging
          ElementPosition     #858993458
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #CaseTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_ItemTagging
          ElementPosition     #1288490187
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #ItemTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_PalletTagging
          ElementPosition     #1717986916
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #PalletTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLine_FreezePrice
          ElementPosition     #884257969
          HierarchyParent     #PartsPostView
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataField           #FreezePrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLine_PdsSameLot
          ElementPosition     #1288490184
          HierarchyParent     #NotUsedFields
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataField           #PdsSameLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_AbnormalCall
          ElementPosition     #1840700268
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #AbnormalCall
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_Blocked
          ElementPosition     #613566756
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #Blocked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_Complete
          ElementPosition     #920350134
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #Complete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_AgreementIsLinked
          ElementPosition     #1840700268
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataMethod          #AgreementIsLinked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_CustFinalUser_BR
          ElementPosition     #1431655764
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #CustFinalUser_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_CustomsExportOrder_IN
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1610612734
          HierarchyParent     #Group
          DataSource          #SalesTable
          DataField           #CustomsExportOrder_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_GovtOrder
          ElementPosition     #2013265917
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #GovtOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_HasCashPayment
          ElementPosition     #1840700268
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #HasCashPayment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_InvoiceRegister_LT
          ElementPosition     #2147134120
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_PackingSlipRegister_LT
          ElementPosition     #2147308882
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_RetailOrder
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1073741823
          HierarchyParent     #Baseinfo
          Label               #@RET4540
          DataSource          #SalesTable
          DataMethod          #isRetailOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_M_editExportSales_PL
          ElementPosition     #1767200083
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataMethod          #editExportSales_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_UnitedVATInvoice_LT
          HelpText            #@GLS220217
          ElementPosition     #1700091219
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #UnitedVATInvoice_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Administration_PartsInvoiceMethod
          ElementPosition     #1412818187
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #PartsInvoiceMethod
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Delivery_TimeZoneSite
          AllowEdit           #No
          HelpText            #@SYS110100
          ElementPosition     #1431655764
          HierarchyParent     #SalesTableTimeZoneDelivery
          Label               #@SYS102501
          DataSource          #SalesTable
          DataMethod          #timeZoneSite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EQPartsSalesLine_QualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1894838505
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EQSalesLine_QualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #2089443528
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_DirectSettlement_IN
          ElementPosition     #764634328
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #DirectSettlement_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_ExciseType_IN
          ElementPosition     #86767016
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #ExciseType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseManufacture_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #260301048
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseManufacture_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseNone_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #216917540
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseNone_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseTraders_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #303684556
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseTraders_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EximSalesLine_IN_DBKCenvatStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #858993456
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKCenvatStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EximSalesLine_IN_DBKRateType
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1073741820
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #FixedAssets_AssetTransTypePurch
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #FixedAssets
          DataSource          #SalesLine
          DataField           #AssetTransTypePurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #GiroMoneyTransferSlip_GiroType
          ElementPosition     #1431655764
          HierarchyParent     #GiroMoneyTransferSlip
          Label               #@SYS342021
          DataSource          #SalesTable
          DataField           #GiroType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #GroupCustomerReturnPeriod_PeriodType
          ElementPosition     #1610612733
          HierarchyParent     #GroupCustomerReturnPeriod
          ShowLabel           #No
          DataSource          #SalesLineReturnDetails_IN
          DataField           #PeriodType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    SalesLineReturnDetails_IN_ds.write();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #HeaderForeignTrade_Listcode
          ElementPosition     #447392426
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Listcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LineInventory_Reservation
          ElementPosition     #1073741823
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #NoteFormat_TH_NoteFormat_TH
          ElementPosition     #1431655764
          HierarchyParent     #NoteFormat_TH
          DataSource          #SalesTableExtensionTH
          DataField           #NoteFormat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Payment_BankDocumentType
          ElementPosition     #1687308579
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #BankDocumentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Posting_InvoicePostingType_RU
          ElementPosition     #1503238551
          HierarchyParent     #Posting
          DataSource          #SalesTable_RU
          DataField           #InvoicePostingType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Posting_SettleVoucher
          ElementPosition     #1288490187
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #SettleVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_DeliveryDateControl
          HelpText            #@SYS88210
          ElementPosition     #1840700268
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #DeliveryDateControlType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_QualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1894838505
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_ShipInstructions
          ElementPosition     #1482786327
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #ShipInstructions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_TimeZoneSite
          AllowEdit           #No
          HelpText            #@SYS110100
          ElementPosition     #1431655764
          HierarchyParent     #TimeZoneDelivery
          Label               #@SYS102501
          DataSource          #SalesLine
          DataMethod          #timeZoneSite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_TypeOfDelivery
          ElementPosition     #1431655764
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #TypeOfDelivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineDeliveryGroup_DeliveryType
          ElementPosition     #1840700268
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DeliveryType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineReturnDetails_IN_BasisType
          ElementPosition     #1288490187
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLineReturnDetails_IN
          DataField           #BasisType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    element.setBasisDate_IN();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineReturnDetails_IN_Type
          ElementPosition     #858993458
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLineReturnDetails_IN
          DataField           #Type
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    // <GIN>
            #    element.updateReturnableDetails_IN();
            #    // </GIN>
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineStatus_qualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1533916890
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineStatus_SalesStatus
          ElementPosition     #1227133512
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesStatus
          Left                #Right edge
          Skip                #Yes
          ElementPosition     #1610612733
          HierarchyParent     #HeaderInfo
          ShowLabel           #No
          DataSource          #SalesTable
          DataField           #SalesStatus
          ViewEditMode        #View
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_CreditStatus
          ElementPosition     #2045222520
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CreditStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_DeliveryDateControl
          ElementPosition     #1670265058
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #DeliveryDateControlType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1942961394
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesStatusGrid
          ElementPosition     #920350134
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesType
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.changeType();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesTypeGrid
          AutoDeclaration     #Yes
          ElementPosition     #766958445
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.changeType();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_ShipInstructions
          ElementPosition     #1994091957
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #ShipInstructions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_CreditErrorType
          ElementPosition     #1879048185
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #CreditErrorType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_CreditStatus
          ElementPosition     #1610612730
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #CreditStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_DocumentStatus
          ElementPosition     #1073741820
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #DocumentStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1342177275
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_SalesStatus
          ElementPosition     #536870910
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Transport_FreightSlipType
          ElementPosition     #1073741822
          HierarchyParent     #Transport
          DataSource          #SalesTable
          DataField           #FreightSlipType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #XAP_Backorder_Origin
          ElementPosition     #2075900857
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          DataField           #Origin
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #XAP_BackorderTrans_PurchaseOrderClass
          ElementPosition     #1861152492
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          DataField           #PurchaseOrderClass
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #XAP_BackorderTrans_SourceType
          ElementPosition     #858993458
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          DataField           #SourceType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Attachments
          ElementPosition     #1610612733
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS316708
          ButtonDisplay       #Text & Image above
          NormalImage         #10442
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2853
          ToggleButton        #Check
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteSalesOrder
          NeededPermission    #Delete
          ElementPosition     #1610612734
          HierarchyParent     #SalesOrderModify
          Text                #@SYS14425
          ButtonDisplay       #Text & Image above
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EditSalesOrder
          AutoDeclaration     #Yes
          NeededPermission    #Update
          ElementPosition     #858993458
          HierarchyParent     #SalesOrderModify
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #4471
          ToggleButton        #Check
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #HeaderViewButton
          ElementPosition     #1073741822
          HierarchyParent     #ShowGroup
          NormalImage         #12133
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1320
          ToggleButton        #Radio
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineAttachmentsLineStripAction
          ElementPosition     #1768515938
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS114630
          ShowShortCut        #No
          NeedsRecord         #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripDelete
          AutoDeclaration     #Yes
          HelpText            #@SYS328874
          ElementPosition     #1491308086
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS135131
          ButtonDisplay       #Text & Image left
          NormalImage         #11400
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripLineDetails
          Visible             #No
          HelpText            #@SYS315251
          ElementPosition     #1789569705
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS8811
          ButtonDisplay       #Text & Image left
          NormalImage         #10010
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #No
          Primary             #Yes
          Command             #1318
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripNew
          AutoDeclaration     #Yes
          ElementPosition     #596523234
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS319116
          ButtonDisplay       #Text & Image left
          NormalImage         #10009
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineViewButton
          ElementPosition     #1610612733
          HierarchyParent     #ShowGroup
          NormalImage         #12134
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1321
          ToggleButton        #Radio
          ToggleValue         #On
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewCostBreakdown
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@XAP10632
          ElementPosition     #1073741822
          HierarchyParent     #CostBreakdownButtonGroup
          Text                #@SYS60080
          ButtonDisplay       #Text & Image left
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          Command             #260
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <NAXT-2012-DCG>
            #void clicked()
            #{
            #    if (salesLine)
            #    {
            #        super();
            #    }
            #}
            #// </NAXT-2012-DCG>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewSalesOrder
          HelpText            #@SYS27579
          ElementPosition     #536870910
          HierarchyParent     #SalesOrderNew
          Text                #@SYS114628
          ButtonDisplay       #Text & Image above
          NormalImage         #10874
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Refresh
          HelpText            #@SYS315818
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #11437
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          KeyTip              #@SYS315818
          Command             #2875
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #RemoveCostBreakdown
          AutoDeclaration     #Yes
          NeededPermission    #Delete
          HelpText            #@XAP10633
          ElementPosition     #1610612733
          HierarchyParent     #CostBreakdownButtonGroup
          Text                #@SYS26394
          ButtonDisplay       #Text & Image left
          NormalImage         #11438
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          Command             #2832
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <NAXT-2012-DCG>
            #void clicked()
            #{
            #    if (salesLine)
            #    {
            #        super();
            #    }
            #}
            #// </NAXT-2012-DCG>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #SendToExcel
          DisplayTarget       #Client
          ElementPosition     #1610612734
          HierarchyParent     #SalesOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #10156
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          KeyTip              #@SYS315819
          NeedsRecord         #Yes
          Command             #4436
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_PromisedDate
          ElementPosition     #613566756
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #PromisedDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateConfirmed
          ElementPosition     #1431655764
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateConfirmedHeader
          ElementPosition     #1840700268
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateRequested
          ElementPosition     #954437176
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateRequestedHeader
          ElementPosition     #1227133512
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateConfirmed
          ElementPosition     #1073741822
          HierarchyParent     #SalesAvailableDlvDatesHeaderGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateConfirmedHeader
          ElementPosition     #1073741822
          HierarchyParent     #SimulateDeliveryDatesGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateRequested
          ElementPosition     #715827882
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateRequestedHeader
          ElementPosition     #920350134
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #DepreciationStartDate
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #FixedAssets
          DataSource          #SalesLine
          DataField           #DepreciationStartDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_CashDiscBaseDate
          ElementPosition     #1380525201
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDiscBaseDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_FixedDueDate
          ElementPosition     #460175067
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #FixedDueDate
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #enter
            #public void enter()
            #{
            #    super();
            #
            #    priorDueDate = this.dateValue();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_IntrastatFulfillmentDate_HU
          ElementPosition     #2136298835
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_PriceAgreementDate_RU
          ElementPosition     #715827880
          HierarchyParent     #Prices
          DataSource          #SalesLine
          DataField           #PriceAgreementDate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ReceiptDateConfirmed
          Width               #Column width
          ElementPosition     #1533916890
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ReceiptDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ReceiptDateRequested
          Width               #Column width
          ElementPosition     #920350134
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ShippingDateConfirmed
          ElementPosition     #1073741822
          HierarchyParent     #SalesAvailableDlvDatesLineGroup
          DataSource          #SalesLine
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ShippingDateRequested
          Width               #Column width
          ElementPosition     #613566756
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_IntrastatFulfillmentDate_HU
          ElementPosition     #2080374781
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_PromisedDate
          ElementPosition     #477218588
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #PromisedDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ReceiptDateConfirmed
          ElementPosition     #1227133512
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ShippingDateConfirmed
          ElementPosition     #1380525201
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_SmartSourcingNeedByDate
          ElementPosition     #1994091957
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #SmartSourcingNeedByDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #status_Deadline
          ElementPosition     #805306365
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #Deadline
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #AddOrderingConfigurationButton
          ElementPosition     #1431655764
          HierarchyParent     #SalesOrderAdd
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_OrderingConfigurationDialog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #CancelOrderButton
          AutoDeclaration     #Yes
          ElementPosition     #1932735281
          HierarchyParent     #SalesOrderModify
          MenuItemName        #SalesCancelOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #CreateReservation
          ElementPosition     #1288490187
          HierarchyParent     #ReservationGrp
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #XAP_RenEqReservationCreate_Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #CreateReservationRequest
          ElementPosition     #1717986916
          HierarchyParent     #ReservationGrp
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #XAP_RenEqReservationCreate_Request
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #EnterCustomerPayments
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #CashBtnGroup
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_EnterCustomerPayments
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #EnterCustomerPaymentsCashRegister
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #572662304
          HierarchyParent     #CashBtnGroup
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #GGH_CashRegisterPaymentTypeDialog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #UpdatePromisedDate
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #GeneralMaintain
          MultiSelect         #No
          NeedsRecord         #Yes
          MenuItemName        #GGH_UpdatePromisedDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #XAP_ApplyMarketingProgram
          ElementPosition     #1610612733
          HierarchyParent     #SellTradeAgreements
          MenuItemName        #XAP_APplyMarketingProgram
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #XAP_OrderClassFilter
          ElementPosition     #1610612733
          HierarchyParent     #SalesOrderView
          Text                #@XAP2619
          NormalImage         #11118
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #XAP_OrderClassFilter
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INT64EDIT
        PROPERTIES
          Name                #TradeIn_TradeInRefRecId
          ElementPosition     #644245092
          HierarchyParent     #TradeIn
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #TradeInRefRecId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_Level
          ElementPosition     #1160801960
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataField           #Level
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #EQSalesLine_Level
          ElementPosition     #1567082646
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #Level
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #GroupCustomerReturnPeriod_Period
          ElementPosition     #1073741822
          HierarchyParent     #GroupCustomerReturnPeriod
          DataSource          #SalesLineReturnDetails_IN
          DataField           #Period
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    SalesLineReturnDetails_IN_ds.write();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesLine_CustomerLineNum
          ElementPosition     #1610612733
          HierarchyParent     #ExternalRefernces
          DataSource          #SalesLine
          DataField           #CustomerLineNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesLine_Level
          ElementPosition     #290200490
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataField           #Level
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ApplyMarketingProgram
          ElementPosition     #589505312
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemName        #XAP_ApplyMarketingProgram
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BackorderPO
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1288490187
          HierarchyParent     #BackorderGroup
          Text                #@SYS78211
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCreateDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BackorderTO
          AutoDeclaration     #Yes
          ElementPosition     #1207959547
          HierarchyParent     #SalesOrderNew
          MenuItemName        #XAP_TransferOrderCreateFromSalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BankLGRequestForm
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ManageBankDocument
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #BankLGRequestForm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BOMConsistOfTree
          AutoDeclaration     #Yes
          ElementPosition     #1942961394
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #BOMConsistOfTree
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BOMPriceCalc
          AutoDeclaration     #Yes
          Enabled             #No
          HelpText            #@SYS317850
          ElementPosition     #429496728
          HierarchyParent     #LineStripUpdate
          Text                #@SYS317848
          DataSource          #SalesLine
          MenuItemName        #BOMCalcTableSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCalculateConfirmDates
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #SellCalculate
          Text                #@SYS342129
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesUpdateConfirmDatesCommand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCoreReturnReview
          AutoDeclaration     #Yes
          ElementPosition     #671088637
          HierarchyParent     #ButtonLineInventory
          MenuItemName        #XAP_CoreReturnReview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonCreateBankLCExport
          AutoDeclaration     #Yes
          HelpText            #@SYS316146
          ConfigurationKey    #BankDocument
          ElementPosition     #1073741822
          HierarchyParent     #ManageBankDocument
          Text                #@SYS317555
          ButtonDisplay       #Text & Image above
          NormalImage         #12518
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #BankLCExport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreateDropShipment
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #SalesOrderNew
          Text                #@SYS78211
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCreateDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreatePurchOrder
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #SalesOrderNew
          Text                #@SYS25545
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #PurchCreateFromSalesorderSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingHeader
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceIntroduce
          Text                #@SYS99718
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingLines
          AutoDeclaration     #Yes
          ElementPosition     #1594552486
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonDeliverySchedule
          AutoDeclaration     #Yes
          ElementPosition     #350896019
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemName        #SalesDeliverySchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args = new Args();
            #    FormRun deliverySchedule;
            #
            #    args.name(formStr(SalesDeliverySchedule));
            #    args.caller(this);
            #    args.record(salesLine);
            #    deliverySchedule = classfactory.formRunClass(args);
            #
            #    deliverySchedule.run();
            #    deliverySchedule.wait();
            #
            #    if (deliverySchedule.closedOk())
            #    {
            #        salesLine_ds.reread();
            #        salesLine_ds.rereadReferenceDataSources();
            #        salesLine_ds.research(true);
            #        salesTableForm.setTouched(salesTable);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonHeaderFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63739
          ElementPosition     #1717986916
          HierarchyParent     #SalesOrderAttachments
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonInventSupply
          AutoDeclaration     #Yes
          ElementPosition     #1063515708
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #inventSupply
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #SellJournals
          Text                #@SYS108894
          ButtonDisplay       #Text & Image left
          NormalImage         #10511
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustConfirmJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalFacture_RU
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceJournals
          ButtonDisplay       #Text & Image above
          NormalImage         #10733
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #facturejournalcust_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceJournals
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1288490187
          HierarchyParent     #SellJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10498
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #CustInvoice4PaymJournal_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10667
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustPackingSlipJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPickingList
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10682
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #WMSPickingRoutesJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalQuotationConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #SellJournals
          Text                #@SYS98918
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #custQuotationJournalConfirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineEquipmentOnHand
          Visible             #No
          ElementPosition     #1073741820
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #XAP_EquipmentOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExpandBOM
          AutoDeclaration     #Yes
          ElementPosition     #1263225670
          HierarchyParent     #LineStripSalesLine
          MenuItemType        #Action
          MenuItemName        #SalesLineExplodeBOM
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExplosion
          AutoDeclaration     #Yes
          ElementPosition     #1738439142
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #ReqTransExplosion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63740
          ElementPosition     #1789569699
          HierarchyParent     #LineStripSalesLine
          ButtonDisplay       #Text & Image left
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventLot
          AutoDeclaration     #Yes
          ElementPosition     #927322482
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventMarking
          AutoDeclaration     #Yes
          ElementPosition     #736977340
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventMarking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventOnHand
          AutoDeclaration     #Yes
          ElementPosition     #854112813
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS317846
          DataSource          #SalesLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventReservation
          AutoDeclaration     #Yes
          ElementPosition     #605199934
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTrans
          AutoDeclaration     #Yes
          ElementPosition     #1000532151
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTransGoodsInRoute_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1157410017
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventTransGoodsInRoute_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineQuantity
          ElementPosition     #1073741820
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalestableLineQuantity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonLineQuickQuote
          AutoDeclaration     #Yes
          Left                #Auto (right)
          ElementPosition     #894784851
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS54992
          ButtonDisplay       #Text & Image left
          NormalImage         #12489
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #SalesQuickQuote
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransHeading
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SellCharges
          ButtonDisplay       #Text & Image above
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          DisabledImageLocation #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #MarkupTrans_HeadingSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransLine
          AutoDeclaration     #Yes
          ElementPosition     #881018928
          HierarchyParent     #LineStripFinancials
          Text                #@SYS313570
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #MarkupTrans_LineSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPaymentSchedule
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10673
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustPaymSchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    CustVendPaymSched   custVendPaymSched;
            #
            #    element.automaticTotalDiscount();
            #
            #    if (salesTable.PaymentSched && !CustPaymSched::exist(salesTable.TableId,salesTable.RecId))
            #    {
            #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust,salesTable);
            #        custVendPaymSched.copyPaymSched(PaymSched::find(salesTable.PaymentSched));
            #        salesTable.createPaymentSched();
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPostings
          ElementPosition     #858993456
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemName        #SalesTablepostings
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProcessEventKanbans
          ElementPosition     #1431655764
          HierarchyParent     #ProcessGroup
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #ReqEventProcessKanbanSalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #Generate
          Text                #@SYS114652
          ButtonDisplay       #Text & Image above
          NormalImage         #10702
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Confirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaFacture_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1670265058
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #InvoiceGenerate
          Text                #@SYS114668
          ButtonDisplay       #Text & Image above
          NormalImage         #10703
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Invoice
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{;
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesTable.checkMarkupTrans_RU();
            #    }
            #    // </GEERU>
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1789569705
          HierarchyParent     #Generate
          Text                #@GLS116067
          ButtonDisplay       #Text & Image left
          NormalImage         #12380
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #PickAndPackGenerate
          Text                #@SYS12874
          ButtonDisplay       #Text & Image above
          NormalImage         #10704
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchTable
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #10724
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #InterCompanyPurchSalesReference
          MenuItemName        #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    interCompanyPurchSalesReference_ds.executeQuery();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonPurchTableThisCompany
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1431655764
          HierarchyParent     #IntercompanyTracing
          ButtonDisplay       #Text & Image above
          NormalImage         #10724
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    TradeInterCompany::construct(salesTable).referenceForm();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonReferences
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesTableReferences
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonRemoveSalesPrepayTable
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #SalesPrepay
          ButtonDisplay       #Text & Image left
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #GGH_SalesPrepayRemove
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonSalesAgreement
          AutoDeclaration     #Yes
          ElementPosition     #1717986912
          HierarchyParent     #GeneralRelatedInfo
          Text                #@SYS305726
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #SalesAgreement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSalesDropShipmentCancel
          AutoDeclaration     #Yes
          ElementPosition     #1431655760
          HierarchyParent     #LineStripUpdate
          Text                #@SYS78211
          MenuItemType        #Action
          MenuItemName        #SalesDropShipmentCancel
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonTotals
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderView
          ButtonDisplay       #Text & Image above
          NormalImage         #10832
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesTotals
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        if (salesTable.checkMarkupTrans_RU())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #    // </GEERU>
            #        super();
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #Generate
          ButtonDisplay       #Text & Image above
          NormalImage         #10510
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Confirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateDeliverySlip_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1610612732
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_DeliverySlip_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateFacture_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #715827882
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Invoice
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{;
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesTable.checkMarkupTrans_RU();
            #    }
            #    // </GEERU>
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1431655764
          HierarchyParent     #Generate
          ButtonDisplay       #Text & Image left
          NormalImage         #12519
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1533916890
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePickingList
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10681
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_PickingList
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePickingListRegistrate
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10683
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #wmsPickingregistration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePrepayInvoice
          AutoDeclaration     #Yes
          DisplayTarget       #Client
          ElementPosition     #2070787801
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image below
          NormalImage         #12310
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MenuItemType        #Action
          MenuItemName        #GGH_SalesFormLetter_PrepayInvoice_Action
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonWithholdTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #255652815
          HierarchyParent     #LineStripProduct
          Text                #@SYS33817
          DataSource          #SalesLine
          MenuItemName        #TaxWithholdTmpWorkTrans_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GIN>
            #void  clicked()
            #{
            #    if (TaxWithholdParameters_IN::checkTaxParameters())
            #    {
            #        SalesTotals::showWithholdTaxLine_IN(salesTable, salesLine, element);
            #    }
            #}
            #// </GIN>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CaseButton
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #GeneralCustomerCases
          Text                #@SYS317474
          ButtonDisplay       #Text & Image left
          NormalImage         #12198
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CaseDetail
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CashPaymentTotals
          ElementPosition     #1288490187
          HierarchyParent     #CashBtnGroup
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_CashPaymentTotals
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CheckCreditLimit
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image above
          NormalImage         #10492
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCheckCreditLimit
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ContactPerson
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #GeneralCustomer
          ButtonDisplay       #Text & Image left
          NormalImage         #11118
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #contactPerson
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyLine
          AutoDeclaration     #Yes
          ElementPosition     #934786994
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS35635
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemName        #SalesLineCopy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfDirPartyPostalAddressNewHeader
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          Text                #@SYS111834
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfLogisticsLocationSelectHeader
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfSalesAvailableDlvDatesHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SimulateDeliveryDatesGroup
          ButtonDisplay       #Image only
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Cov
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10474
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #LedgerCoverage
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        if (salesTable.checkMarkupTrans_RU())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #    // </GEERU>
            #        super();
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Create
          ElementPosition     #920350134
          HierarchyParent     #CreateActivity
          Text                #@SYS114625
          NormalImage         #10430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmactivitiesactionNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateCase
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #GeneralCustomerCases
          Text                #@SYS191445
          ButtonDisplay       #Text & Image left
          NormalImage         #12420
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CaseDetailNewSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateEMR
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #SalesOrderNew
          NormalImage         #12304
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #XAP_EMRTable_FromSO
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateEventKanbans
          HelpText            #@SYS324015
          ElementPosition     #443131546
          HierarchyParent     #LineStripProduct
          MultiSelect         #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #ReqEventProcessKanban
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateExportOrder_IN
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1879048185
          HierarchyParent     #SalesOrderNew
          Text                #@GLS60788
          DataSource          #SalesTable
          MenuItemName        #CustomsExportOrderTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateTask
          ElementPosition     #1840700268
          HierarchyParent     #CreateActivity
          Text                #@SYS114680
          NormalImage         #10431
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmActivitiesTaskNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardAuthTrans
          ElementPosition     #1717986916
          HierarchyParent     #CreditCard
          Text                #@SYS317472
          DataSource          #SalesTable
          MenuItemName        #CreditCardAuthTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardPreauthorize
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #CreditCard
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #CreditCardPreauthorize
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardWizard
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #CreditCard
          Text                #@SYS32121
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CreditCardCust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditLimitCheck_BusArea
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #894784852
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #XAP_CreditLimitCheck
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditStatusLog
          ElementPosition     #1968526675
          HierarchyParent     #InquiriesGroup
          MenuItemName        #XAP_CreditStatusLog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustAdvanceInvoiceCreate_CZ
          HelpText            #@GLS220282
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS107927
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CzCustAdvanceInvoiceCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustDocumentLog
          AutoDeclaration     #Yes
          ElementPosition     #1952257860
          HierarchyParent     #ButtonLineInventory
          MenuItemName        #PdsMRCCustomerHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsExportAssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #770891562
          HierarchyParent     #LineStripFinancials
          DataSource          #SalesLine
          MenuItemName        #CustomsExportAssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DeleteRegisteredPayments
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #CashBtnGroup
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_DeleteRegisteredPayments
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #GroupHeaderAddress
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DocuActionTemplateUndefined
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #mbTemplatesButton
          NeedsRecord         #Yes
          MenuItemName        #DocuActionTemplateUndefined
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EditDetailsButton
          AutoDeclaration     #Yes
          Visible             #No
          DisplayTarget       #Client
          ElementPosition     #1288490187
          HierarchyParent     #SalesOrderModify
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          OpenMode            #Edit
          CopyCallerQuery     #Yes
          MenuItemName        #SalesTableForEdit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EMR
          HelpText            #@XAP9309
          ElementPosition     #1431655764
          HierarchyParent     #InquiriesGroup
          Text                #@XAP8857
          ButtonDisplay       #Text & Image below
          NormalImage         #12304
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          DataSource          #SalesTable
          MenuItemName        #XAP_EMRTableListPage
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EquipmentAvailability
          ElementPosition     #1146951489
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesTable
          MenuItemName        #XAP_EquipmentAvailability
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EquipmentBuilder
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderEquipment
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_EquipmentBuilder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ExciseRegisterBalance_In
          ElementPosition     #472957707
          HierarchyParent     #LineStripProduct
          Text                #@GLS5618
          DataSource          #SalesLine
          MenuItemName        #exciseregisterBalance_In
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximAA_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61753
          ElementPosition     #562436193
          HierarchyParent     #LineStripProduct
          Text                #@GLS61755
          MenuItemName        #EximExportDetailsAA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximDFIA_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61754
          ElementPosition     #681740840
          HierarchyParent     #LineStripProduct
          Text                #@GLS61756
          MenuItemName        #EximExportDetailsDFIA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximEPCG_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS62186
          ElementPosition     #879445683
          HierarchyParent     #LineStripProduct
          Text                #@GLS62209
          MenuItemName        #EximEPCGExportObligation_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesCust_Proforma_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS104543
          ElementPosition     #1908874352
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #FactureEditLinesCust_Proforma_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesCust_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS104543
          ElementPosition     #954437176
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS104802
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #FactureEditLinesCust_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GGH_BOMReplaceComponentService
          AutoDeclaration     #Yes
          ElementPosition     #2096353083
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #GGH_BOMReplaceComponentService
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GGH_CreateOutstandingCores
          AutoDeclaration     #Yes
          ElementPosition     #636314044
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #GGH_CreateOutstandingCores
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GGH_ExplodedBOMTransactionTracking
          AutoDeclaration     #Yes
          ElementPosition     #1994091957
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #GGH_ExplodedBOMTransactionTracking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GGH_FMS_Export_FromSalesOrder
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PickAndPackFMS
          MenuItemType        #Action
          MenuItemName        #GGH_FMS_Export_FromSalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GGH_FreightEsimator
          ElementPosition     #963614452
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #GGH_FreightEsimator
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GGH_RemanExportFromSalesOrder
          ElementPosition     #1789569705
          HierarchyParent     #InterfaceForLine
          MenuItemName        #GGH_RemanExportFromSalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1503238548
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #11032
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderPackageParm
          AutoDeclaration     #Yes
          ElementPosition     #1932735276
          HierarchyParent     #GeneralRelatedInfo
          DataSource          #SalesTable
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IncentiveSchemeGroup_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61731
          ElementPosition     #1002159033
          HierarchyParent     #LineStripProduct
          Text                #@GLS61496
          MenuItemName        #EximIncentiveSchemeGroupsForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixed
          AutoDeclaration     #Yes
          ElementPosition     #2021161075
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS5951
          SaveRecord          #No
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimTracking
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5951
          DataSource          #SalesLine
          MenuItemName        #InventDimTracking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11134
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandInterCompany
          AutoDeclaration     #Yes
          ElementPosition     #1496731026
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS23939
          DataSource          #SalesLine
          MenuItemName        #InventOnhandInterCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11135
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1329394638
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTestCertOfAnalysisTable
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventTestCertOfAnalysisTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPick
          AutoDeclaration     #Yes
          ElementPosition     #1145324608
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemName        #InventTransPick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransRegister
          AutoDeclaration     #Yes
          ElementPosition     #1002159032
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #TradeOrderLineRegister
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1982292592
          HierarchyParent     #LineStripFinancials
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LinePackageParm
          AutoDeclaration     #Yes
          ElementPosition     #1483277961
          HierarchyParent     #LineStripFinancials
          DataSource          #SalesLine
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #linePriceDiscActual
          AutoDeclaration     #Yes
          ElementPosition     #495573147
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineTaxTransSource
          AutoDeclaration     #Yes
          ElementPosition     #1156337343
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    SalesTotals::showTaxLine(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable,salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineViewPeggingTree
          HelpText            #@SYS324019
          ElementPosition     #2045222520
          HierarchyParent     #LineStripProduct
          Text                #@SYS320711
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #LeanPeggingTree
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineWebInterfacesSIS
          ElementPosition     #1431655764
          HierarchyParent     #InterfaceForLine
          DataSource          #SalesLine
          MenuItemName        #XAP_WebInterfacesSIS
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    salesTable_ds.executeQuery();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #GroupHeaderAddress
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MenuItemButton
          ConfigurationKey    #DOCommerceServices
          ElementPosition     #1431655764
          HierarchyParent     #CommerceServices
          Text                #@SYS342701
          ButtonDisplay       #Text & Image above
          NormalImage         #DOCommerce_i_SyncOrdersOnline_32_png
          ImageLocation       #AOTResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #DOCommerce_DownloadOrders
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MenuItemSalesPrepayment
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #RetailPrepaymentBalance
          DataSource          #SalesTable
          MenuItemName        #RetailSalesPrepaymentBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibNotificationLog
          ElementPosition     #1670265058
          HierarchyParent     #EventNotification
          Text                #@RET4160305
          NormalImage         #12569
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MenuItemName        #RetailEventNotificationLog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibRetailAttribute
          HelpText            #@RET4170029
          ElementPosition     #1431655764
          HierarchyParent     #btngrpAttribute
          Text                #@RET490397
          NormalImage         #12857
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #RetailSalesTableAttributes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibSalesTransactions
          HelpText            #@RET4160318
          ElementPosition     #1431655764
          HierarchyParent     #btngrpInquiries
          Text                #@RET3214
          NormalImage         #10834
          ImageLocation       #EmbeddedResource
          MultiSelect         #No
          DataSource          #SalesTable
          MenuItemName        #RetailTransactionTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OpenMSDSDocument
          AutoDeclaration     #Yes
          ElementPosition     #2049870753
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image left
          MenuItemName        #PdsMRCDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OpenTrans
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceSettle
          Text                #@SYS3500
          ButtonDisplay       #Text & Image above
          NormalImage         #10793
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #CustOpenTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PBAConfiguratedItem
          AutoDeclaration     #Yes
          ElementPosition     #749914924
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Output
          MenuItemName        #PBAConfiguratedItem
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsBatchAttribReserve
          AutoDeclaration     #Yes
          ElementPosition     #693051538
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PdsBatchAttribReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTable
          ElementPosition     #1705827011
          HierarchyParent     #LineStripFinancials
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PdsRebateTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTable1
          ElementPosition     #1789569705
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #PdsRebateTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventExternalReserve
          AutoDeclaration     #Yes
          ElementPosition     #624722514
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #PlInventExternalReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventSumExternal
          AutoDeclaration     #Yes
          ElementPosition     #1031907726
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #PlInventSumExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlPurchCreateForExternal
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #805306365
          HierarchyParent     #SalesOrderNew
          ButtonDisplay       #Text & Image above
          NormalImage         #12829
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #PlPurchCreateForExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfBatchOrderNew
          NeededPermission    #Create
          ElementPosition     #374957462
          HierarchyParent     #LineStripProduct
          NormalImage         #10888
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          Primary             #Yes
          MenuItemName        #PmfbatchOrderNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfMultiDimProcessInventory
          ElementPosition     #1220161158
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          MenuItemName        #PmfMultiDimProcessInventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfPackOnHand
          AutoDeclaration     #Yes
          ElementPosition     #1293370830
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PmfPackOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PrepaySalesTableHeading
          AutoDeclaration     #Yes
          Enabled             #No
          HelpText            #@GGH1542
          ElementPosition     #1073741822
          HierarchyParent     #SalesPrepay
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          MenuItemName        #GGH_SalesTableHeadingPrepay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #priceDiscActual
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image left
          NormalImage         #10693
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscAdmTable_SalesCreate
          ElementPosition     #1879048185
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscAdmTable_SalesCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscTable_Sales
          ElementPosition     #536870910
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscTable_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RecordEvent
          ElementPosition     #1533916890
          HierarchyParent     #CreateActivity
          Text                #@SYS114679
          NormalImage         #10432
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmactivitieseventNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqMultiLevelPegging
          ElementPosition     #1840700268
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #ReqMultiLevelPegging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqTransNet
          AutoDeclaration     #Yes
          ElementPosition     #1636178016
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #ReqTransNet
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailAddItemMenuItem
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1193046468
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@RET4905
          ButtonDisplay       #Text & Image left
          NormalImage         #11373
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #RetailAddItems
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAgreementLine
          AutoDeclaration     #Yes
          ElementPosition     #1861152488
          HierarchyParent     #LineStripUpdate
          Text                #@SYS26568
          DataSource          #SalesLine
          MenuItemName        #SalesAgreementLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesATP
          AutoDeclaration     #Yes
          ElementPosition     #940802358
          HierarchyParent     #LineStripProduct
          MenuItemName        #SalesATP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAvailableDlvDatesHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SalesAvailableDlvDatesHeaderGroup
          ButtonDisplay       #Image only
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAvailableDlvDatesLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SalesAvailableDlvDatesLineGroup
          ButtonDisplay       #Image only
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyAllHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderCopy
          Text                #@SYS317844
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCopyAllHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyAllLines
          ElementPosition     #732670888
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS317844
          DataSource          #SalesTable
          MenuItemName        #SalesCopyAllLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyExistingQuoteUpdate
          AutoDeclaration     #Yes
          ElementPosition     #985316020
          HierarchyParent     #LineStripSalesLine
          Text                #@GGH1592
          DataSource          #SalesLine
          MenuItemName        #SalesQuotationCopyExistingQuoteUpdate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyJournalHeader
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #SalesOrderCopy
          Text                #@SYS317845
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCopyJournalHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyJournalLines
          ElementPosition     #833728941
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS317845
          DataSource          #SalesTable
          MenuItemName        #SalesCopyJournalLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteHeader
          AutoDeclaration     #Yes
          ElementPosition     #1113510038
          HierarchyParent     #SellCreate
          Text                #@SYS114655
          ButtonDisplay       #Text & Image above
          NormalImage         #10534
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteLines
          AutoDeclaration     #Yes
          ElementPosition     #449146904
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS8125
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesEndDisc
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_EndDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesJournalAutoSummary_Sales
          ElementPosition     #1610612734
          HierarchyParent     #GeneralSetup
          Text                #@SYS114681
          ButtonDisplay       #Text & Image above
          NormalImage         #10819
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesJournalAutoSummary_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineDisc
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_LineDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineReturnLine
          AutoDeclaration     #Yes
          ElementPosition     #1866766822
          HierarchyParent     #LineStripSalesLine
          MenuItemName        #SalesLineReturnLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineSplit_RU
          ElementPosition     #1035845047
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesLineSplit_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesMultiLineDisc
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_MultiLineDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesPrice
          ElementPosition     #805306365
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_PriceSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesPriceInquiry
          ElementPosition     #1073741822
          HierarchyParent     #SellTradeAgreements
          ShowShortCut        #No
          MenuItemName        #XAP_SalesPriceInquiry
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesQuoteCostRevenueAllocation
          ElementPosition     #1789569705
          HierarchyParent     #SalesOrderAdd
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_SalesQuoteCostRevenueAllocation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesReturnCreditNoteHeader
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #SellCreate
          ButtonDisplay       #Text & Image above
          NormalImage         #10534
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_SalesCreditNoteHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesUpdateRemain
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemName        #SalesUpdateRemain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesVoidFiscalDocument_BR
          ElementPosition     #1908874352
          HierarchyParent     #SellCreate
          Text                #@SYS4000606
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #SalesVoidFiscalDocument_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ScheduleAppointment
          ElementPosition     #1227133512
          HierarchyParent     #CreateActivity
          Text                #@SYS114626
          NormalImage         #10433
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmActivitiesAppointmentNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ServicingViewActivities
          AllowEdit           #No
          ElementPosition     #613566756
          HierarchyParent     #CreateActivity
          Text                #@SYS114624
          NormalImage         #10434
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #ActivitiesMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShipCarrierEmailAddress
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackDelivery
          Text                #@SYS317471
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemName        #ShipCarrierEmailAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SMAAgreementWizard
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SellApply
          Text                #@SYS114654
          ButtonDisplay       #Text & Image above
          NormalImage         #10785
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #SMAAgreementWizard
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SMAServiceOrderWizard
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #SalesOrderNew
          Text                #@SYS123643
          ButtonDisplay       #Text & Image above
          NormalImage         #10875
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          OpenMode            #New
          MenuItemName        #SMAServiceOrderWizard
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemCalc_Sales
          AutoDeclaration     #Yes
          ElementPosition     #1473763281
          HierarchyParent     #LineStripSalesLine
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SuppItemCalc_Sales
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    super();
            #    //This will trigger the creditlimit calculation when salesTable.validateWrite is called
            #    salesTable_ds.setTouched();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemTable_Sales
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #GeneralMaintain
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SuppItemTable_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SurplusCaseAdd
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #GeneralMaintain
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #XAP_SurplusCaseAdd
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SurplusPackingList
          ElementPosition     #1431655764
          HierarchyParent     #PickAndPackSurplus
          MultiSelect         #Yes
          MenuItemType        #Action
          MenuItemName        #XAP_SendCATSurplusPackingList
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxTransSource
          ElementPosition     #1431655764
          HierarchyParent     #SellTax
          ButtonDisplay       #Text & Image above
          NormalImage         #10777
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    if (!tmpSalesTableTaxTransForm || (tmpSalesTableTaxTransForm && tmpSalesTableTaxTransForm.closed()))
            #    {
            #        tmpSalesTableTaxTransForm = SalesTotals::showTax(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TradeBLWIChangeCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceChange
          Text                #@SYS317557
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #TradeBLWIChangeSalesTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (! salesTable.RecId)
            #    {
            #        salesTable.write();
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TransportationDocument
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackDelivery
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #TransportationDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WMSOrderAllowCreate
          AutoDeclaration     #Yes
          ElementPosition     #292838679
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53672
          DataSource          #SalesLine
          MenuItemName        #WMSOrderAllowCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_BackorderFill
          ElementPosition     #1717986916
          HierarchyParent     #ButtonGroupBackorder
          ButtonDisplay       #Text & Image left
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #XAP_BackorderFill
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_BackorderReview
          ElementPosition     #858993458
          HierarchyParent     #ButtonGroupBackorder
          ButtonDisplay       #Text & Image left
          NormalImage         #1030
          ImageLocation       #EmbeddedResource
          MenuItemType        #Action
          MenuItemName        #XAP_BackorderReview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_BackorderReview1
          ElementPosition     #1288490187
          HierarchyParent     #ButtonGroupBackorder
          ButtonDisplay       #Text & Image left
          NormalImage         #12638
          ImageLocation       #EmbeddedResource
          MenuItemName        #XAP_BackorderReview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_BackorderReview2
          ElementPosition     #858993458
          HierarchyParent     #BackorderGroup
          MenuItemName        #XAP_BackorderReview
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #//<NAXT CU4> TFS 22465
            #void clicked()
            #{
            #    /*<NAXT>
            #    XAP_EmergencyOrder      emergencyOrders;
            #
            #    ttsbegin;
            #    delete_from emergencyOrders
            #        where emergencyOrders.ReferenceId      == salesTable.SalesId &&
            #              emergencyOrders.ReferenceType    == XAP_EmergencyOrderReferenceType::Sales;
            #    ttsCommit;
            #    <NAXT>*/
            #    super();
            #}
            #//</NAXT CU4>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_CoreChargeTrans
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroup1
          MenuItemName        #XAP_CoreChargeTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_CoreChargeTrans1
          ElementPosition     #715014439
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #XAP_CoreChargeTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_CoreWarrantyValidationButton
          ElementPosition     #954437176
          HierarchyParent     #ButtonGroup1
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #xap_corewarrantyValidation
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    super();
            #
            #    xap_OutstandingCoreLine_ds.refresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_CreateCaseLine
          ElementPosition     #1946157050
          HierarchyParent     #SalesOrderNew
          AutoRefreshData     #Yes
          DataSource          #SalesTable
          MenuItemName        #XAP_CreateCaseLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_CreateHoseAssembly
          AutoDeclaration     #Yes
          ElementPosition     #1586050007
          HierarchyParent     #LineStripSalesLine
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #XAP_CreateHoseAssembly
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_CreateHoseAssemblyAllLines
          AutoDeclaration     #Yes
          ElementPosition     #1614121689
          HierarchyParent     #LineStripSalesLine
          Text                #@XAP16840
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #XAP_CreateHoseAssembly
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_ExpressPickingJournal
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PickAndPackNew
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #XAP_ExpressPickingJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_FreightCalcHeaderLines
          ElementPosition     #2102744403
          HierarchyParent     #InquiriesGroup
          MenuItemName        #XAP_FreightCalcHeaderLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_FreightChargeCalcLine
          Visible             #No
          ElementPosition     #936082611
          HierarchyParent     #LineStripFinancials
          MenuItemType        #Action
          MenuItemName        #XAP_FreightChargeCalcLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_HoseAssemblyReport_ShowPrinted
          ElementPosition     #1789569705
          HierarchyParent     #InquiriesGroup
          ButtonDisplay       #Text & Image left
          NormalImage         #3149
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemType        #Output
          MenuItemName        #XAP_HoseAssemblyReport_ShowPrinted
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_ItemMultipleReplacement
          ElementPosition     #517348330
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #XAP_ItemMultipleReplacement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_ItemMultipleReplacementAllLines
          ElementPosition     #561274132
          HierarchyParent     #ButtonLineInventory
          Text                #@XAP8010
          DataSource          #SalesTable
          MenuItemName        #XAP_ItemMultipleReplacement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_ItemSearch
          ElementPosition     #473422528
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #XAP_ItemSearch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_OutstandingCore
          AutoDeclaration     #Yes
          ElementPosition     #647905575
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #XAP_OutstandingCore
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_SalesLineCreateCSV
          ElementPosition     #1431655764
          HierarchyParent     #SalesOrderImport
          ButtonDisplay       #Text & Image above
          NormalImage         #11158
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #XAP_SalesLineCreateCSV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_TepsSOStart
          ElementPosition     #1908874352
          HierarchyParent     #ButtonGroup
          MenuItemType        #Action
          MenuItemName        #XAP_TepsSOStart
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    salesTable_ds.reread();
            #    salesTable_ds.refresh();
            #
            #    // <NAXT CU2>
            #    salesLine_ds.research(true);
            #    // </NAXT CU2>
            #
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesCLAIM
          ElementPosition     #954437176
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfacesCLAIM
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesPIS
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfacesPIS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesSIMS
          ElementPosition     #1193046470
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfacesSIMS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesSIS
          ElementPosition     #477218588
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfacesSIS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesSIS_Main
          ElementPosition     #596523235
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfaceSIS_Main
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesSISSMCS
          ElementPosition     #715827882
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfacesSISSMCS
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XAP_WebInterfacesStolen
          ElementPosition     #1670265058
          HierarchyParent     #ButtonGroup
          MenuItemName        #XAP_WebInterfacesStolen
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XWM_PickingJournal
          AutoDeclaration     #Yes
          NeededPermission    #Delete
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackWMS
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemType        #Action
          MenuItemName        #XWM_PickingJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XWM_PickingJournal_Inquiry
          ElementPosition     #2035635539
          HierarchyParent     #InquiriesGroup
          DataSource          #SalesTable
          MenuItemName        #XWM_PickingJournal_Inquiry
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #XWM_ReceiptJournal
          AutoDeclaration     #Yes
          NeededPermission    #Delete
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackWMS
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemType        #Action
          MenuItemName        #XWM_ReceiptJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #CreditLimit_ApprovedTotalAmount
          ElementPosition     #1717986916
          HierarchyParent     #CreditLimit
          DataSource          #SalesTable
          DataField           #ApprovedTotalAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DiscMarkup_DiscPercent
          ElementPosition     #429496728
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DiscMarkup_DiscPercentHeaderOverview
          ElementPosition     #1431655764
          HierarchyParent     #GroupDiscountHeaderOverview
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsPotencyGrid_M_pdsCalculatedLineAmount
          AllowEdit           #No
          ElementPosition     #631612835
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsPotencyGrid_M_pdsCalculatedUnitPrice
          AllowEdit           #No
          ElementPosition     #870601470
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsreservedPhysicalInSalesUnit
          ElementPosition     #348240588
          HierarchyParent     #EQPartsPreView
          Label               #@XAP6973
          DataSource          #SalesLine
          DataMethod          #reservedPhysicalInSalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_ExchangeRate
          ElementPosition     #1389548237
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #ExchangeRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_LineAmount
          ElementPosition     #928641568
          HierarchyParent     #EQPartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_LineDiscGrid
          ElementPosition     #754521274
          HierarchyParent     #EQPartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_LinePercentGrid
          ElementPosition     #812561372
          HierarchyParent     #EQPartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_OriginalLineDisc
          ElementPosition     #505290268
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #OriginalLineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_OriginalSalesPrice
          ElementPosition     #378967701
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #OriginalSalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_OverAllowance
          ElementPosition     #1642193371
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #OverAllowance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_RemainSalesFinancial
          ElementPosition     #464320784
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataField           #RemainSalesFinancial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_RemainSalesPhysical
          ElementPosition     #406280686
          HierarchyParent     #EQPartsPreView
          Label               #@GGH2543
          DataSource          #SalesLine
          DataField           #RemainSalesPhysical
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_SalesDeliverNow1
          ElementPosition     #757935402
          HierarchyParent     #EQPartsPostView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_SalesPrice
          ElementPosition     #696481176
          HierarchyParent     #EQPartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_SalesQty
          AutoDeclaration     #Yes
          ElementPosition     #290200490
          HierarchyParent     #EQPartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_SubLineOf
          ElementPosition     #2021161072
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #SubLineOf
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPotencyGrid_M_pdsCalculatedLineAmount
          AllowEdit           #No
          ElementPosition     #1799243038
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQPotencyGrid_M_pdsCalculatedUnitPrice
          AllowEdit           #No
          ElementPosition     #464320784
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQreservedPhysicalInSalesUnit
          ElementPosition     #1102761862
          HierarchyParent     #EQPreView
          Label               #@XAP6973
          DataSource          #SalesLine
          DataMethod          #reservedPhysicalInSalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_ExchangeRate
          ElementPosition     #986681666
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #ExchangeRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_LineAmount
          ElementPosition     #638441078
          HierarchyParent     #EQPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_LineDiscGrid
          ElementPosition     #522360882
          HierarchyParent     #EQPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_LinePercentGrid
          ElementPosition     #580400980
          HierarchyParent     #EQPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_OriginalLineDisc
          ElementPosition     #1741202940
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #OriginalLineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_OriginalSalesPrice
          ElementPosition     #1683162842
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #OriginalSalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_OverAllowance
          ElementPosition     #696481176
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #OverAllowance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_RemainSalesFinancial
          ElementPosition     #812561372
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #RemainSalesFinancial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_RemainSalesPhysical
          ElementPosition     #754521274
          HierarchyParent     #EQPreView
          Label               #@GGH2543
          DataSource          #SalesLine
          DataField           #RemainSalesPhysical
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_SalesDeliverNow1
          ElementPosition     #1857283136
          HierarchyParent     #EQPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_SalesPrice
          ElementPosition     #406280686
          HierarchyParent     #EQPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_SalesQty
          AutoDeclaration     #Yes
          ElementPosition     #290200490
          HierarchyParent     #EQPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EQSalesLine_SubLineOf
          ElementPosition     #1160801960
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #SubLineOf
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EximSalesLine_IN_DBKPercent
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1288490184
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EximSalesLine_IN_MarketValue
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #644245092
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #MarketValue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Financials_SalesPrice
          ElementPosition     #1073741820
          HierarchyParent     #Financials
          Label               #@XAP3253
          DataSource          #SalesLine
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_IntrastatAddValue_LV
          ElementPosition     #894784852
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #IntrastatAddValue_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_LineAmount
          ElementPosition     #1908874352
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS6901
          DataSource          #CustInvoiceTrans
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_Qty
          ElementPosition     #1431655764
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          DataField           #Qty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_SalesPrice
          ElementPosition     #1670265058
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingUnitQty
          ElementPosition     #1073741822
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingUnitQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Payment_CashDiscPercent
          ElementPosition     #1227133512
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculatedLineAmount
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1717986916
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculatedUnitPrice
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1288490187
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PotencyGrid_M_pdsCalculatedLineAmount
          AllowEdit           #No
          ElementPosition     #631612835
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PotencyGrid_M_pdsCalculatedUnitPrice
          AllowEdit           #No
          ElementPosition     #696481176
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PriceUnit
          ElementPosition     #1073741822
          HierarchyParent     #Prices
          DataSource          #SalesLine
          DataField           #PriceUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #reservedPhysicalInSalesUnit
          ElementPosition     #580400980
          HierarchyParent     #PartsPreView
          Label               #@XAP6973
          DataSource          #SalesLine
          DataMethod          #reservedPhysicalInSalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Return_CostPrice
          ElementPosition     #1288490187
          HierarchyParent     #Return
          DataSource          #SalesLine
          DataField           #CostPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesCostBreakdownLines_Cost
          ElementPosition     #1227133512
          HierarchyParent     #GridLineCostBreakdown
          DataSource          #SalesCostBreakdownLines
          DataField           #Cost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesCostBreakdownLines_Discount
          ElementPosition     #1073741823
          HierarchyParent     #GridLineCostBreakdown
          DataSource          #SalesCostBreakdownLines
          DataField           #Discount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesCostBreakdownLines_Margin
          ElementPosition     #1533916890
          HierarchyParent     #GridLineCostBreakdown
          DataSource          #SalesCostBreakdownLines
          DataField           #Margin
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesCostBreakdownLines_Revenue
          ElementPosition     #1840700268
          HierarchyParent     #GridLineCostBreakdown
          DataSource          #SalesCostBreakdownLines
          DataField           #Revenue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_AssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #1503238548
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine_IN
          DataField           #AssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_CustomsMaxRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #Prices
          DataSource          #SalesLine_IN
          DataField           #CustomsMaxRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_ExchangeRate
          ElementPosition     #1389548237
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #ExchangeRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineAmount
          ElementPosition     #870601470
          HierarchyParent     #PartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineDisc
          Width               #Column width
          ElementPosition     #715827882
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineDiscGrid
          ElementPosition     #754521274
          HierarchyParent     #PartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LinePercent
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LinePercentGrid
          ElementPosition     #812561372
          HierarchyParent     #PartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MaximumRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1789569704
          HierarchyParent     #Prices
          DataSource          #SalesLine_IN
          DataField           #MaximumRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MultilineDisc
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #MultiLnDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MultilinePurchasePercent
          Width               #Column width
          ElementPosition     #1789569705
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #MultiLnPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_OriginalLineDisc
          ElementPosition     #505290268
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #OriginalLineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_OriginalSalesPrice
          ElementPosition     #378967701
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #OriginalSalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_OverAllowance
          ElementPosition     #1642193371
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #OverAllowance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_PdsCWInventDeliverNow
          ElementPosition     #858993456
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine
          DataField           #PdsCWInventDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_RemainSalesFinancial
          ElementPosition     #1044721764
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataField           #RemainSalesFinancial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_RemainSalesPhysical
          ElementPosition     #986681666
          HierarchyParent     #PartsPreView
          Label               #@GGH2543
          DataSource          #SalesLine
          DataField           #RemainSalesPhysical
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesDeliverNow1
          ElementPosition     #757935402
          HierarchyParent     #PartsPostView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesMarkUp
          ElementPosition     #1610612733
          HierarchyParent     #Prices
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesMarkup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesPrice
          ElementPosition     #638441078
          HierarchyParent     #PartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesQty
          AutoDeclaration     #Yes
          ElementPosition     #522360882
          HierarchyParent     #PartsPreView
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_StatisticValue_LT
          ElementPosition     #2125114024
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatisticValue_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SubLineOf
          ElementPosition     #2021161072
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #SubLineOf
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SuframaDiscount_BR
          ElementPosition     #1717986912
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine_BR
          DataField           #SuframaDiscount_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_OverDeliveryPct
          Width               #Column width
          ElementPosition     #613566756
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #OverDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_UnderDeliveryPct
          Width               #Column width
          ElementPosition     #920350134
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #UnderDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesTable_RefInvoiceAmountCur_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1963413618
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          DataField           #RefInvoiceAmountCur
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #XAP_BackorderTrans_OnHand
          ElementPosition     #2004318069
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          DataMethod          #displayOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #XAP_BackorderTrans_Qty
          ElementPosition     #1717986916
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          DataField           #Qty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LinePosting_LedgerDimension
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LinePosting
          DataSource          #SalesLine
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    ledgerDefaultAccountController.jumpRef();
            #}
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    ledgerDefaultAccountController.loadAutoCompleteData(_e);
            #    super(_e);
            #}
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #    ledgerDefaultAccountController.loadSegments();
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #    ledgerDefaultAccountController.segmentValueChanged(_e);
            #}
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = ledgerDefaultAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #DiscountSeparator
          ElementPosition     #547397790
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS11829
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #ExciseRegisterBal_IN
          ElementPosition     #357913941
          HierarchyParent     #LineStripProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #HoseAssemblySeparator
          ElementPosition     #1557978326
          HierarchyParent     #LineStripSalesLine
          Text                #@XAP1703
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialPackagesSeparator
          CountryRegionCodes  #PL
          ElementPosition     #1372003436
          HierarchyParent     #LineStripFinancials
          Text                #@GLS110272
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsChargesSeparator
          ElementPosition     #660764196
          HierarchyParent     #LineStripFinancials
          Text                #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsCustomerSeparator
          ElementPosition     #330382098
          HierarchyParent     #LineStripFinancials
          Text                #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsIntroduceSeparator
          AutoDeclaration     #Yes
          ElementPosition     #1321528392
          HierarchyParent     #LineStripFinancials
          Text                #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsRelatedInfoSeparator
          ElementPosition     #1817101539
          HierarchyParent     #LineStripFinancials
          Text                #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsTaxSeparator
          ElementPosition     #991146294
          HierarchyParent     #LineStripFinancials
          Text                #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryDimensionsSeparator
          ElementPosition     #1659419181
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS26038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryInterCompanySeparator
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1366580502
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS316397
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparator
          ElementPosition     #390451572
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS323172
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryNewSeparator
          ElementPosition     #195225786
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparator
          ElementPosition     #780903144
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripMSDSSeparator
          ElementPosition     #1854644967
          HierarchyParent     #ButtonLineInventory
          Text                #@PDS1378
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductNewSeparator
          ElementPosition     #204522252
          HierarchyParent     #LineStripProduct
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductProductModelSeparator
          ElementPosition     #511305630
          HierarchyParent     #LineStripProduct
          Text                #@SYS124268
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductQualitySeparator
          AutoDeclaration     #Yes
          ElementPosition     #1124872386
          HierarchyParent     #LineStripProduct
          Text                #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductRequirementsSeparator
          ElementPosition     #1533916890
          HierarchyParent     #LineStripProduct
          Text                #@SYS118437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductViewSeparator
          ElementPosition     #818089008
          HierarchyParent     #LineStripProduct
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineAttachmensSeparator
          ElementPosition     #1642193371
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS114630
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineBOMSeparator
          ElementPosition     #1136903103
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS69965
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineCalculateSeparator
          ElementPosition     #1389548237
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineCopySeparator
          ElementPosition     #631612835
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineDisplaySeparator
          ElementPosition     #1894838505
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineNewSeparator
          ElementPosition     #252645134
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineReturnLine
          ElementPosition     #1810623460
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS104918
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateAgreementSeparator
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1574821336
          HierarchyParent     #LineStripUpdate
          Text                #@SYS190135
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateCalculateSeparator
          ElementPosition     #286331152
          HierarchyParent     #LineStripUpdate
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateCancelSeparator
          ElementPosition     #1288490184
          HierarchyParent     #LineStripUpdate
          Text                #@SYS50163
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateProcessSeparator
          ElementPosition     #858993456
          HierarchyParent     #LineStripUpdate
          Text                #@SYS122441
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateUpdateSeparator
          ElementPosition     #572662304
          HierarchyParent     #LineStripUpdate
          Text                #@SYS71207
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #PartsSeparator
          ElementPosition     #429496726
          HierarchyParent     #ButtonLineInventory
          Text                #@XAP1785
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator
          ElementPosition     #1670265058
          HierarchyParent     #SellCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #PrepaymentHeaderText
          ElementPosition     #1431655764
          HierarchyParent     #GroupTestHeading
          Text                #@GGH1665
          Italic              #Yes
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_LanguageId
          ElementPosition     #565127275
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #LanguageId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesOriginId
          ElementPosition     #791178185
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesOriginId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesPoolId
          ElementPosition     #1808407280
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesPoolId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesUnitId
          ElementPosition     #678152730
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesUnitId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SupplementalOf
          ElementPosition     #226050910
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SupplementalOf
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Agreement_RU_M_AgreementDocumentTitle_RU
          ElementPosition     #1610612734
          HierarchyParent     #Agreement_RU
          DataSource          #SalesTable
          DataMethod          #agreementDocumentTitle_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AssetTableId_RU
          ElementPosition     #1932735276
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine
          DataField           #AssetId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BomRoute_ItemBOMId
          ElementPosition     #1073741822
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #ItemBOMId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BomRoute_ItemRouteId
          ElementPosition     #1610612733
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #ItemRouteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierAccount
          ElementPosition     #536870910
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierAccountCode
          ElementPosition     #805306365
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierId
          ElementPosition     #1879048185
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierAccount
          ElementPosition     #858993458
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierAccountCode
          ElementPosition     #1288490187
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierId
          ElementPosition     #1717986916
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Commission_CommissionGroup
          ElementPosition     #1610612733
          HierarchyParent     #Commission
          DataSource          #SalesTable
          DataField           #CommissionGroup
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Commission_SalesGroup
          ElementPosition     #1073741822
          HierarchyParent     #Commission
          DataSource          #SalesTable
          DataField           #SalesGroup
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CompanyAddress
          ElementPosition     #1246070756
          HierarchyParent     #CompanyInfo
          Label               #@SYS36203
          DataSource          #SalesLine_IN
          DataMethod          #displayAddress_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_Email
          HelpText            #@SYS108976
          ElementPosition     #1610612733
          HierarchyParent     #ContactInfo
          DataSource          #SalesTable
          DataField           #Email
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_URL
          HelpText            #@SYS98587
          ElementPosition     #1073741822
          HierarchyParent     #ContactInfo
          DataSource          #SalesTable
          DataField           #URL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfeditContactPersonName1
          AutoDeclaration     #Yes
          ElementPosition     #1395864366
          HierarchyParent     #CustomerPartsTab
          LookupButton        #Always
          DataSource          #SalesTable
          DataMethod          #editContactPersonName
          PresenceDataSource  #SalesTable
          PresenceDataField   #ContactPersonId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    salesTable_ContactPersonId.jumpRef();
            #}
          ENDSOURCE
          SOURCE #lookup
            #void lookup()
            #{
            #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonId,
            #                                           salesTable.CustAccount,
            #                                           editContactPersonName1,
            #                                           salesTable.ContactPersonId,
            #                                           //<NAXT_22234_rd>
            #                                           salesTable.InvoiceAccount);
            #                                           //</NAXT_22234_rd>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLogisticsPostalAddressDeliveryHeader_Address1
          ElementPosition     #1431655764
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Currency_CurrencyCode
          ElementPosition     #1073741822
          HierarchyParent     #Currency
          DataSource          #SalesTable
          DataField           #CurrencyCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustAccount
          ElementPosition     #1073741822
          HierarchyParent     #Customer
          DataSource          #SalesTable
          DataField           #CustAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_ContactPersonId
          ElementPosition     #1288490184
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataField           #ContactPersonId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_CustAccount
          ElementPosition     #429496728
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_CustomerRef
          ElementPosition     #1073741820
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_InvoiceAccount
          ElementPosition     #1717986912
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_M_contactPersonPhone
          AllowEdit           #No
          ElementPosition     #1503238548
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataMethod          #contactPersonPhone
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_M_invoiceName
          AllowEdit           #No
          ElementPosition     #1932735276
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataMethod          #invoiceName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_PurchOrderFormNum
          ElementPosition     #858993456
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustomerPartsTab_SalesName
          ElementPosition     #644245092
          HierarchyParent     #CustomerPartsTab
          DataSource          #SalesTable
          DataField           #SalesName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_Bay
          ElementPosition     #920350134
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #Bay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsigneeAccount_RU
          ElementPosition     #1738439142
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable_RU
          DataField           #ConsigneeAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsignorAccount_RU
          ElementPosition     #1636178016
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable_RU
          DataField           #ConsignorAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvMode
          ElementPosition     #613566756
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvReason
          ElementPosition     #1533916890
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvTerm
          ElementPosition     #1227133512
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ExportReason
          ElementPosition     #1840700268
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #ExportReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DeliveryPartsTab_DlvMode1
          ElementPosition     #858993458
          HierarchyParent     #DeliveryPartsTab
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DeliveryPartsTab_DlvReason1
          ElementPosition     #1288490187
          HierarchyParent     #DeliveryPartsTab
          DataSource          #SalesTable
          DataField           #DlvReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_EndDisc
          ElementPosition     #644245092
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #EndDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_LineDisc
          ElementPosition     #858993456
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_MarkupGroup
          ElementPosition     #1073741820
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #MarkupGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_MultiLineDisc
          ElementPosition     #1717986912
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #MultiLineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PdsCustRebateGroupId
          ElementPosition     #1288490184
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PdsCustRebateGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PdsRebateProgramTMAGroup
          ElementPosition     #1503238548
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PdsRebateProgramTMAGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PriceGroupId
          ElementPosition     #1932735276
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PriceGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editContactPersonName1
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GroupCustomer
          LookupButton        #Always
          DataSource          #SalesTable
          DataMethod          #editContactPersonName
          PresenceDataSource  #SalesTable
          PresenceDataField   #ContactPersonId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    salesTable_ContactPersonId.jumpRef();
            #}
          ENDSOURCE
          SOURCE #lookup
            #void lookup()
            #{
            #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonId,
            #                                           salesTable.CustAccount,
            #                                           editContactPersonName1,
            #                                           salesTable.ContactPersonId,
            #                                           //<NAXT_22234_rd>
            #                                           salesTable.InvoiceAccount);
            #                                           //</NAXT_22234_rd>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editReasonCode_TH
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS4082946
          ElementPosition     #2013265917
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataMethod          #editReasonCodeTH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EInvoice_EInvoiceAccountCode
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #EInvoice
          DataSource          #SalesTable
          DataField           #EInvoiceAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EInvoiceLine_EInvoiceAccountCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #EInvoiceLine
          DataSource          #SalesLine
          DataField           #EInvoiceAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #232160392
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #174120294
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_BOMReferenceLot1
          ElementPosition     #1044721764
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataField           #BOMReferenceLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_CurrencyCode
          ElementPosition     #1136903103
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #232160392
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_Name1
          ElementPosition     #252645134
          HierarchyParent     #EQPartsPostView
          DisplayHeight       #1
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_RateContractId
          ElementPosition     #1515870804
          HierarchyParent     #EQPartsPostView
          DataSource          #SalesLine
          DataField           #RateContractId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQPartsSalesLine_SalesUnit
          ElementPosition     #986681666
          HierarchyParent     #EQPartsPreView
          DataSource          #SalesLine
          DataField           #SalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQSalesLine_BOMReferenceLot1
          ElementPosition     #1625122744
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #BOMReferenceLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQSalesLine_CurrencyCode
          ElementPosition     #870601470
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQSalesLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #174120294
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQSalesLine_Name1
          ElementPosition     #116080196
          HierarchyParent     #EQPreView
          DisplayHeight       #1
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQSalesLine_RateContractId
          ElementPosition     #1044721764
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #RateContractId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EQSalesLine_SalesUnit
          ElementPosition     #348240588
          HierarchyParent     #EQPreView
          DataSource          #SalesLine
          DataField           #SalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalEstablishment
          ElementPosition     #477218588
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataMethod          #FiscalEstablishment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FixedAssets_AssetBookId
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #FixedAssets
          DataSource          #SalesLine
          DataField           #AssetBookId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (fixedAssets_AssetId.valueStr())
            #    {
            #        AssetBook::lookupAssetBook(this, fixedAssets_AssetId.valueStr(), curext());
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FixedAssets_AssetGroup
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #FixedAssets
          DataSource          #SalesLine
          DataField           #AssetGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FixedAssets_AssetId
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #FixedAssets
          DataSource          #SalesLine
          DataField           #AssetId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    AssetTable::lookupInvoiceAsset(this, curext());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountryRegionName_RU
          ElementPosition     #1892469960
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CountryRegionName_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountyOrigDest
          ElementPosition     #1471921080
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_InvoiceGTDId_RU
          ElementPosition     #1682195520
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #InvoiceGTDId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_Port
          ElementPosition     #1261646640
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #Port
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_StatProcId
          ElementPosition     #420548880
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatProcId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_TransactionCode
          ElementPosition     #841097760
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #TransactionCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_Transport
          ElementPosition     #1051372200
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupCreditNote_ReasonCode
          ElementPosition     #1073741822
          HierarchyParent     #GroupCreditNote
          LookupButton        #Always
          DataSource          #SalesLine
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GEEU>
            #public void lookup()
            #{
            #    ReasonFormTable::reasonCodeLookup(
            #        this,
            #        LedgerJournalACType::Cust,
            #        LedgerJournalACType::Cust,
            #        false,
            #        false,
            #        LedgerJournalACType::Cust,
            #        true);
            #}
            #// </GEEU>
          ENDSOURCE
          SOURCE #modified
            #// <GEEU>
            #/// <summary>
            #/// Redraws the form as the reason code field is modified.
            #/// </summary>
            #/// <returns>
            #/// A boolean indidcating whther the field is modified or not.
            #/// </returns>
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonCode));
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonComment));
            #    element.redraw();
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupCreditNote_ReasonComment
          ElementPosition     #1610612733
          HierarchyParent     #GroupCreditNote
          DataSource          #SalesLine
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonComment));
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupStatus_CreditTransactionId
          ElementPosition     #1744830457
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #CreditTransactionId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_CountyOrigDest
          ElementPosition     #671088639
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Port
          ElementPosition     #1610612730
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Port
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_StatProcId
          ElementPosition     #1879048185
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #StatProcId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_TransactionCode
          ElementPosition     #1073741820
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #TransactionCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Transport
          ElementPosition     #1342177275
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Transport
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderTitle
          AutoDeclaration     #Yes
          Width               #Column width
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderInfo
          Border              #None
          Text                #Sales order
          ColorScheme         #Windows palette
          ForegroundColor     #Dyn Title green
          FontSize            #11
          ShowLabel           #No
          ViewEditMode        #View
          Style               #TitleField
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #headerViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #headerViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InterCompanyAdmin_M_interCompanyOriginDisplay
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataMethod          #interCompanyOriginDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #interCompanyAllowIndirectCreationOrig
          AutoDeclaration     #Yes
          AllowEdit           #No
          AlignControl        #No
          ElementPosition     #1610612733
          HierarchyParent     #TabHeaderIntercompanySettings
          MultiLine           #Yes
          ShowLabel           #No
          DataSource          #SalesTable
          DataMethod          #interCompanyAllowIndirectCreationTxt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventLocationId
          ElementPosition     #1610612733
          HierarchyParent     #Inventory
          DataSource          #SalesTable
          DataField           #InventLocationId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventSiteId
          ElementPosition     #1073741822
          HierarchyParent     #Inventory
          DataSource          #SalesTable
          DataField           #InventSiteId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_configId
          ElementPosition     #715827882
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #configId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventBatchId
          ElementPosition     #858993458
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #inventBatchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventColorId
          ElementPosition     #1431655764
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventColorId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventEquipmentId
          ElementPosition     #1717986916
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventEquipmentId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventGtdId_RU
          ElementPosition     #1879048189
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventGtdId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventLocationId
          ElementPosition     #1073741823
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventOwnerId_RU
          ElementPosition     #2013265917
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventOwnerId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventProfileId_RU
          ElementPosition     #1744830461
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventProfileId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventSerialId
          ElementPosition     #1288490187
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #inventSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSiteId
          ElementPosition     #715827882
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventSiteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSizeId
          ElementPosition     #1073741823
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventSizeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventStyleId
          ElementPosition     #1932735281
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventStyleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSLocationId
          ElementPosition     #1431655764
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #wMSLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSPalletId
          ElementPosition     #1789569705
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #wMSPalletId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_configId
          AutoDeclaration     #Yes
          ElementPosition     #939524089
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #configId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_inventBatchId
          AutoDeclaration     #Yes
          ElementPosition     #536870908
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #inventBatchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventColorId
          AutoDeclaration     #Yes
          ElementPosition     #1207959543
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventColorId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventEquipmentId
          AutoDeclaration     #Yes
          ElementPosition     #671088635
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventEquipmentId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventGtdId_RU
          ElementPosition     #2013265905
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventGtdId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventLocationId
          AutoDeclaration     #Yes
          ElementPosition     #268435454
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventOwnerId_RU
          ElementPosition     #1744830451
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventOwnerId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventProfileId_RU
          ElementPosition     #1610612724
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventProfileId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_inventSerialId
          AutoDeclaration     #Yes
          ElementPosition     #805306362
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #inventSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventSiteId
          AutoDeclaration     #Yes
          ElementPosition     #1476394997
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventSiteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventSizeId
          AutoDeclaration     #Yes
          ElementPosition     #1073741816
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventSizeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_InventStyleId
          AutoDeclaration     #Yes
          ElementPosition     #1342177270
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #InventStyleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_wMSLocationId
          AutoDeclaration     #Yes
          ElementPosition     #402653181
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #wMSLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensionsGrid_wMSPalletId
          ElementPosition     #1879048178
          HierarchyParent     #InventoryDimensionsGrid
          DataSource          #InventDim
          DataField           #wMSPalletId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InvoiceAccount
          ElementPosition     #1073741823
          HierarchyParent     #GroupCustomer
          DataSource          #SalesTable
          DataField           #InvoiceAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #464320784
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemNameFastTab
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1288490187
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineInventory_InventTransId
          ElementPosition     #715827882
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #InventTransId
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxGroup
          ElementPosition     #1073741822
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxItemGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #SalesLine
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #SalesLine
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineWithholdTax_TaxWithholdGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineWithholdTax
          DataSource          #SalesLine
          DataField           #TaxWithholdGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryHeader_Address1
          ElementPosition     #1431655764
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryLine_Address
          ElementPosition     #1431655764
          HierarchyParent     #GroupLineDeliveryAddressRef
          Label               #@SYS36203
          DataSource          #LogisticsPostalAddressDeliveryLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierHeader_Address
          ElementPosition     #1610612733
          HierarchyParent     #ShipCarrierAddr
          DataSource          #LogisticsPostalAddressShipCarrierHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierLine_Address
          ElementPosition     #1610612733
          HierarchyParent     #ShipCarrierLineAddress
          DataSource          #LogisticsPostalAddressShipCarrierLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #machineTypeIdHide
          ElementPosition     #1717986916
          HierarchyParent     #Others
          Label               #@XAP15856
          DataSource          #XAP_OutstandingCoreLine
          DataMethod          #machineTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_InvoiceId
          HelpText            #@GLS113561
          ElementPosition     #477218588
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS4726
          DataSource          #CustInvoiceTrans
          DataField           #InvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_ItemId
          ElementPosition     #715827882
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS12836
          DataSource          #CustInvoiceTrans
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_ProductName
          ElementPosition     #954437176
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS59620
          DataSource          #CustInvoiceTrans
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingUnit
          ElementPosition     #1610612733
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PartsCustomer_M_editContactPersonName
          ElementPosition     #1431655760
          HierarchyParent     #PartsCustomer
          DataSource          #SalesTable
          DataMethod          #editContactPersonName
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    salesTable_ContactPersonId.jumpRef();
            #}
          ENDSOURCE
          SOURCE #lookup
            #void lookup()
            #{
            #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonId,
            #                                           salesTable.CustAccount,
            #                                           editContactPersonName1,
            #                                           salesTable.ContactPersonId,
            #                                           //<NAXT_22234_rd>
            #                                           salesTable.InvoiceAccount);
            #                                           //</NAXT_22234_rd>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PartStore_CustItemNo
          ElementPosition     #715827880
          HierarchyParent     #ExternalRefernces
          Label               #@SYS314789
          DataSource          #SalesLine
          DataField           #CustItemNoPartStore
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_CashDisc
          ElementPosition     #1073741823
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_M_editCreditCard
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ConfigurationKey    #CreditCard
          SecurityKey         #CreditCardInquiry
          ElementPosition     #1533916890
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataMethod          #editCreditCard
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (salesTable.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
            #    {
            #        CreditCardCust::lookupCreditCard(this, salesTable.InvoiceAccount, salesTable.CreditCardCustRefId);
            #    }
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean isOK = super();
            #
            #    element.enableHeaderCreditCardMenuItems();
            #
            #    return isOK;
            #}
          ENDSOURCE
          SOURCE #textChange
            #public void textChange()
            #{
            #    str text = this.text();
            #
            #    if (strLen(text) > 1)
            #    {
            #        this.text(subStr(text, strLen(text), 1));
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_Payment
          ElementPosition     #306783378
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #Payment
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymentSched
          ElementPosition     #920350134
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymentSched
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymMode
          ElementPosition     #613566756
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymMode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymSpec
          ElementPosition     #766958445
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Posting_NumberSequenceGroup
          ElementPosition     #668106022
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #NumberSequenceGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Posting_PostingProfile
          ElementPosition     #1717986916
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #PostingProfile
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculationId
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #858993458
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProductSerial_M_machineTypeId
          Visible             #No
          AllowEdit           #No
          ElementPosition     #1533916890
          HierarchyParent     #ProductSerial
          Label               #@XAP15856
          DataSource          #XAP_OutstandingCoreLine
          DataMethod          #machineTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProductSerial_M_make
          Visible             #No
          AllowEdit           #No
          ElementPosition     #1840700268
          HierarchyParent     #ProductSerial
          Label               #@XAP14734
          DataSource          #XAP_OutstandingCoreLine
          DataMethod          #make
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProductSerial_M_makeHide
          ElementPosition     #1288490187
          HierarchyParent     #Others
          Label               #@XAP14734
          DataSource          #XAP_OutstandingCoreLine
          DataMethod          #make
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProductSerial_PrimeProductSerialId
          ElementPosition     #1227133512
          HierarchyParent     #ProductSerial
          DataSource          #XAP_OutstandingCoreLine
          DataField           #PrimeProductSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProductSerial_ReturnedSerialId
          ElementPosition     #920350134
          HierarchyParent     #ProductSerial
          DataSource          #XAP_OutstandingCoreLine
          DataField           #ReturnedSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProductSerial_SoldSerialId
          ElementPosition     #613566756
          HierarchyParent     #ProductSerial
          DataSource          #XAP_OutstandingCoreLine
          DataField           #SoldSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ActivityNumber
          ElementPosition     #1840700268
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ActivityNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjCategoryId
          ElementPosition     #920350134
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjCategoryId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjId
          ElementPosition     #613566756
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjTransId
          ElementPosition     #1227133512
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Promotion_PartStorePromotionCode
          NeededPermission    #Update
          ElementPosition     #1431655764
          HierarchyParent     #Promotion
          DataSource          #SalesTable
          DataField           #PartStorePromotionCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_CustomerRef
          ElementPosition     #1086889680
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_CustomerRefHeader
          ElementPosition     #1610612733
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_PurchOrderFormNum
          ElementPosition     #543444840
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_PurchOrderFormNumHeader
          ElementPosition     #1073741822
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReasonCode
          AutoDeclaration     #Yes
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          HelpText            #@SYS300080
          ElementPosition     #1968526675
          HierarchyParent     #GroupReferences
          LookupButton        #Always
          Label               #@SYS300079
          DataSource          #SalesTable
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GEEU>
            #public void lookup()
            #{
            #    ReasonFormTable::reasonCodeLookup(
            #        this,
            #        LedgerJournalACType::Cust,
            #        LedgerJournalACType::Cust,
            #        false,
            #        false,
            #        LedgerJournalACType::Cust,
            #        true);
            #}
            #// </GEEU>
          ENDSOURCE
          SOURCE #modified
            #// <GEEU>
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    // Update the cache for the ReasonComment value, which is changed during the call to super.
            #    salesTable_DS.cacheCalculateMethod(tableMethodStr(SalesTable,editReasonComment));
            #
            #    if (salesLine.RecId)
            #    {
            #        if (Box::yesNo(strFmt("@GLS220468","@GLS104580"), DialogButton::Yes) == DialogButton::Yes)
            #        {
            #            salesTable.updateLineReasonCode();
            #        }
            #
            #        element.redraw();
            #        salesLine_ds.reread();
            #        references_ReasonComment.modified();
            #    }
            #    else
            #    {
            #        element.redraw();
            #    }
            #
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReasonComment
          AutoDeclaration     #Yes
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          HelpText            #@SYS300081
          ElementPosition     #2058005160
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #// <GEEU>
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    if (salesLine.RecId)
            #    {
            #        if (Box::yesNo(strFmt("@GLS220468","@SYS114149"), DialogButton::Yes) == DialogButton::Yes)
            #        {
            #            salesTable.updateLineReasonComment();
            #        }
            #
            #        salesLine_ds.reread();
            #    }
            #
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReturnItemNum
          ElementPosition     #1630334520
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ReturnItemNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ReleaseNum
          HelpText            #@XAP14124
          ElementPosition     #2116805307
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ReleaseNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ReturnedOrder_ReturnedOrder
          ElementPosition     #1610612733
          HierarchyParent     #ReturnedOrder
          DataSource          #SalesLine
          DataField           #ReturnedOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    SalesTableForm.setReturnedCodeId(SalesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Sales_ExternalItemId
          Width               #Column width
          ElementPosition     #1073741822
          HierarchyParent     #ExternalRefernces
          DataSource          #SalesLine
          DataField           #ExternalItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesCostBreakdownLines_Name
          ElementPosition     #613566756
          HierarchyParent     #GridLineCostBreakdown
          DataSource          #SalesCostBreakdownLines
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesCostBreakdownLines_PRGCode
          ElementPosition     #920350134
          HierarchyParent     #GridLineCostBreakdown
          DataSource          #SalesCostBreakdownLines
          DataField           #PRGCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_BOMReferenceLot
          ElementPosition     #1879048189
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #BOMReferenceLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_BOMReferenceLot1
          ElementPosition     #348240588
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataField           #BOMReferenceLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_CurrencyCode
          ElementPosition     #1136903103
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_DeliveryName
          ElementPosition     #1073741822
          HierarchyParent     #LineDeliveryAddress
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #DeliveryName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_DlvReasonId
          ElementPosition     #1278264075
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DlvReasonId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdAcknowledgementNumber
          ElementPosition     #1431655764
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          DataField           #TaxWithholdAcknowledgementNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_InventTransIdReturn
          ElementPosition     #1717986916
          HierarchyParent     #Return
          LookupButton        #Always
          DataSource          #SalesLine
          DataField           #InventTransIdReturn
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #406280686
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_Name
          ElementPosition     #1717986916
          HierarchyParent     #OrderLine
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_Name1
          ElementPosition     #252645134
          HierarchyParent     #PartsPostView
          DisplayHeight       #1
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_RateContractId
          ElementPosition     #1515870804
          HierarchyParent     #PartsPostView
          DataSource          #SalesLine
          DataField           #RateContractId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_RBOVariantId
          ElementPosition     #429496728
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine
          DataField           #RetailVariantId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_SalesPoolId
          ElementPosition     #644245092
          HierarchyParent     #NotUsedFields
          DataSource          #SalesLine
          DataField           #SalesPoolId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_SalesUnit
          ElementPosition     #928641568
          HierarchyParent     #PartsPreView
          DataSource          #SalesLine
          DataField           #SalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_ShipCarrierName
          ElementPosition     #1073741822
          HierarchyParent     #ShipCarrierLineAddress
          DataSource          #SalesLine
          DataField           #ShipCarrierName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_Bay
          ElementPosition     #1533916890
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #Bay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_DlvMode
          Width               #Column width
          ElementPosition     #1227133512
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesPerson1Name
          AllowEdit           #No
          HelpText            #@XAP14811
          ElementPosition     #1610612733
          HierarchyParent     #SalesPerson1Group
          DataSource          #SalesTable
          DataMethod          #salesPersonOneName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesPerson2Name
          AllowEdit           #No
          HelpText            #@XAP14811
          ElementPosition     #1610612733
          HierarchyParent     #SalesPerson2Group
          DataSource          #SalesTable
          DataMethod          #salesPersonTwoName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CFPSId_BR
          ElementPosition     #1073741823
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #CFPSId_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ContactPersonId
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569705
          HierarchyParent     #GroupCustomer
          DataSource          #SalesTable
          DataField           #ContactPersonId
          PresenceIndicatorAllowed    #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CurrencyCodeGrid
          ElementPosition     #1073741823
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CustAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DeliveryName1
          ElementPosition     #715827882
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DeliveryNameHeaderOverview
          ElementPosition     #715827882
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvMode
          ElementPosition     #1533916890
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvTerm
          ElementPosition     #1687308579
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_InvoiceAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_InvoiceFreeTxt
          ElementPosition     #1994091957
          HierarchyParent     #Payment
          DisplayHeight       #8
          MultiLine           #Yes
          DataSource          #SalesTable
          DataField           #InvoiceFreeTxt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ProjId
          ConfigurationKey    #ProjBasic
          ElementPosition     #1358612100
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_RefInvoiceId_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1902056943
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          DataField           #RefInvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesId
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesIdAdvanced
          AutoDeclaration     #Yes
          ElementPosition     #306783378
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesName
          ElementPosition     #1431655764
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierDeliveryContact
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierDeliveryContactHdr
          ElementPosition     #1789569705
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierName
          ElementPosition     #1073741822
          HierarchyParent     #ShipCarrierAddr
          DataSource          #SalesTable
          DataField           #ShipCarrierName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_EnterpriseNumber
          ElementPosition     #1789569705
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #EnterpriseNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_TaxPeriodPaymentCode_PL
          ElementPosition     #477218588
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #TaxPeriodPaymentCode_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SIS_InventSerialId
          Width               #Column width
          ElementPosition     #976128930
          HierarchyParent     #SIS
          DataSource          #SalesTable
          DataField           #InventSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #StringEdit
          ElementPosition     #1431655764
          HierarchyParent     #GroupProductModel
          DataSource          #SalesLine
          DataField           #ItemPBAId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TaxGroup
          ElementPosition     #715827882
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Transport_FreightZone
          ElementPosition     #1610612733
          HierarchyParent     #Transport
          DataSource          #SalesTable
          DataField           #FreightZone
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VATNum
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #VATNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #viceCodeTable_IN_ServiceAccountingCode
          ElementPosition     #1879048189
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WornCore_M_segmentId
          Visible             #No
          AllowEdit           #No
          ElementPosition     #1073741820
          HierarchyParent     #WornCore
          DataSource          #XAP_OutstandingCoreLine
          DataMethod          #segmentId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WornCore_M_segmentIdHide
          ElementPosition     #858993458
          HierarchyParent     #Others
          DataSource          #XAP_OutstandingCoreLine
          DataMethod          #segmentId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WornCoreWarranty_VendorClaimNumber
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #WornCoreWarranty
          DataSource          #XAP_OutstandingCoreLine
          DataField           #VendorClaimNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #XAP_BackorderTrans_SourceId
          ElementPosition     #1288490187
          HierarchyParent     #GridBackorder
          DataSource          #XAP_BackorderTrans
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #CreatedDateTime
          HelpText            #@SYS69504
          ElementPosition     #1431655764
          HierarchyParent     #LineCratedDateTime
          DataSource          #SalesLine
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #SalesTable_CreatedDateTime
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS69494
          ElementPosition     #1431655764
          HierarchyParent     #DateAndTime
          DataSource          #SalesTable
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #DocHandIcon
          NeededPermission    #Manual
          Width               #15
          Height              #15
          AlignControl        #No
          ElementPosition     #2096353083
          HierarchyParent     #GridHeader
          BackStyle           #Transparent
          DataSource          #SalesTable
          DataMethod          #showDocHanIcon
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQlineDeliveryType
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #16
          Height              #16
          AlignControl        #No
          ElementPosition     #1276882156
          HierarchyParent     #EQPreView
          Imagemode           #Size to fit
          Label               #@sys1201
          DataSource          #SalesLine
          DataMethod          #lineDeliveryTypeImage
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    DictEnum    dictEnum = new DictEnum(enumNum(LineDeliveryType));
            #
            #    return dictEnum.label() + ': ' + dictEnum.value2Name(salesLine.LineDeliveryType);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQlineWarning
          Width               #16
          Height              #16
          HelpText            #@XAP5978
          ElementPosition     #1392962352
          HierarchyParent     #EQPreView
          Label               #@SYS6998
          DataSource          #SalesLine
          DataMethod          #displayLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQmultipleReplacementWarning
          Width               #16
          Height              #16
          HelpText            #@XCU1079
          ElementPosition     #1334922254
          HierarchyParent     #EQPreView
          Label               #@SYS84714
          DataSource          #SalesLine
          DataMethod          #displayMultipleReplacementLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQPartslineDeliveryType
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #16
          Height              #16
          AlignControl        #No
          ElementPosition     #1218842058
          HierarchyParent     #EQPartsPreView
          Imagemode           #Size to fit
          Label               #@sys1201
          DataSource          #SalesLine
          DataMethod          #lineDeliveryTypeImage
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    DictEnum    dictEnum = new DictEnum(enumNum(LineDeliveryType));
            #
            #    return dictEnum.label() + ': ' + dictEnum.value2Name(salesLine.LineDeliveryType);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQPartslineWarning
          Width               #16
          Height              #16
          HelpText            #@XAP5978
          ElementPosition     #580400980
          HierarchyParent     #EQPartsPreView
          Label               #@SYS6998
          DataSource          #SalesLine
          DataMethod          #displayLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQPartsmultipleReplacementWarning
          Width               #16
          Height              #16
          HelpText            #@XCU1079
          ElementPosition     #522360882
          HierarchyParent     #EQPartsPreView
          Label               #@SYS84714
          DataSource          #SalesLine
          DataMethod          #displayMultipleReplacementLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQPartsSalesLine_ExistingQuote
          AutoDeclaration     #Yes
          Width               #16
          Height              #16
          HelpText            #@GGH1605
          ElementPosition     #638441078
          HierarchyParent     #EQPartsPreView
          Label               #@GGH1608
          DataSource          #SalesLine
          DataMethod          #displayExistingSalesLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #EQSalesLine_ExistingQuote
          AutoDeclaration     #Yes
          Width               #16
          Height              #16
          HelpText            #@GGH1605
          ElementPosition     #1451002450
          HierarchyParent     #EQPreView
          Label               #@GGH1608
          DataSource          #SalesLine
          DataMethod          #displayExistingSalesLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #lineDeliveryType
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #16
          Height              #16
          AlignControl        #No
          ElementPosition     #174120294
          HierarchyParent     #PartsPreView
          Imagemode           #Size to fit
          Label               #@sys1201
          DataSource          #SalesLine
          DataMethod          #lineDeliveryTypeImage
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    DictEnum    dictEnum = new DictEnum(enumNum(LineDeliveryType));
            #
            #    return dictEnum.label() + ': ' + dictEnum.value2Name(salesLine.LineDeliveryType);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #lineWarning
          Width               #16
          Height              #16
          HelpText            #@XAP5978
          ElementPosition     #1160801960
          HierarchyParent     #PartsPreView
          Label               #@SYS6998
          DataSource          #SalesLine
          DataMethod          #displayLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #multipleReplacementWarning
          Width               #16
          Height              #16
          HelpText            #@XCU1079
          ElementPosition     #1102761862
          HierarchyParent     #PartsPreView
          Label               #@SYS84714
          DataSource          #SalesLine
          DataMethod          #displayMultipleReplacementLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #SalesLine_ExistingQuote
          AutoDeclaration     #Yes
          Width               #16
          Height              #16
          HelpText            #@GGH1605
          ElementPosition     #1218842058
          HierarchyParent     #PartsPreView
          Label               #@GGH1608
          DataSource          #SalesLine
          DataMethod          #displayExistingSalesLineWarning
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
        CONTROL #buttonLineProduction
          PROPERTIES
            Control             #buttonLineProduction
          ENDPROPERTIES
          
        ENDCONTROL
        
      CONTROL #PBAExecute
        PROPERTIES
          Control             #PBAExecute
        ENDPROPERTIES
        
      ENDCONTROL
      
  ENDFORM
  
TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Read
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
TABLE #PurchLineForeignTradeCategory
  PROPERTIES
    Table               #PurchLineForeignTradeCategory
    EffectiveAccess     #Read
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #SalesCreateOrder
  PROPERTIES
    Form                #SalesCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
TABLE #PurchLineForeignTradeCategory
  PROPERTIES
    Table               #PurchLineForeignTradeCategory
    EffectiveAccess     #Read
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #SalesCreateOrder
  PROPERTIES
    Form                #SalesCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: CLS

; Microsoft Dynamics AX Class: SalesQuotationEditLinesForm_Sales_Confir unloaded
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #SalesQuotationEditLinesForm_Sales_Confir
    PROPERTIES
      Name                #SalesQuotationEditLinesForm_Sales_Confir
      Extends             #SalesQuotationEditLinesForm_Sales
      Origin              #{2D2802AD-0000-1000-782B-F7BCE10C35EE}
      LegacyId            #685
    ENDPROPERTIES
    
    METHODS
      SOURCE #allocateNumAndVoucher
        #NumberSeq  allocateNumAndVoucher()
        #{
        #    return NumberSeq::newGetNum(SalesParameters::numRefQuotationConfirmId());
        #}
      ENDSOURCE
      SOURCE #calcLine
        #protected void  calcLine(SalesQuotationLine         _salesQuotationLine,
        #                         SalesQuotationParmLine     _salesQuotationParmLine)
        #{
        #    _salesQuotationLine = this.getSalesQuotationLine(_salesQuotationParmLine);
        #    updateNow           = _salesQuotationParmLine.DeliverNow;
        #    updateNowInvent     = _salesQuotationParmLine.InventNow;
        #    lineValue           = _salesQuotationLine.calcLineAmountExclTax(updateNow, _salesQuotationParmLine.salesQuotationParmTable().Transdate, tax);
        #
        #    // <GIN>
        #    if (TaxParameters::checkTaxParameters_IN())
        #    {
        #        if (FormulaDesigner_IN::isPriceInclTaxLine(_salesQuotationLine.TaxItemGroup))
        #        {
        #            lineValue = lineValue + Tax::getpriceInclTaxAmount_IN(tableNum(SalesQuotationLine), _salesQuotationLine.RecId, _salesQuotationLine.TaxItemGroup, this.tax().tmpTaxWorkTrans(), this.tax().tmpTaxCalc_IN());
        #        }
        #    }
        #    // </GIN>
        #
        #    updateCWNow     = _salesQuotationParmLine.PdsCWDeliverNow;
        #
        #    lineValueInclTax    = _salesQuotationLine.calcLineAmount(updateNow);
        #}
        #
        #
      ENDSOURCE
      SOURCE #canGoBatch
        #/// <summary>
        #/// Returns true.
        #/// </summary>
        #/// <returns>
        #/// Always returns true.
        #/// </returns>
        #/// <remarks>
        #/// This method must be in this class because it is called from the <c>DialogRunbase</c> class.
        #/// </remarks>
        #public boolean canGoBatch()
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkAttachedLines
        #// NAXT - Attach to line number
        #void checkAttachedLines(SalesQuotationLine _salesQuotationLine)
        #{
        #    SalesQuotationLine  localSalesQuotationLine;
        #
        #    // if the current line is attached the another line, or another line attached to this line, and one of them not choosed to convert, then error
        #
        #    if (_salesQuotationLine.AttachToLineNumber)
        #    {
        #        // Checking main line
        #        select localSalesQuotationLine
        #            where localSalesQuotationLine.QuotationId    == _salesQuotationLine.QuotationId
        #               && localSalesQuotationLine.LineNum        == _salesQuotationLine.AttachToLineNumber
        #               /*<NAXT>
        #               && localSalesQuotationLine.ConvertToOrder == NoYes::Yes;
        #               <NAXT>*/
        #               //<NAXT_CU4>
        #               && (localSalesQuotationLine.ConvertToOrder == NoYes::Yes || localSalesQuotationLine.SvcContractQuotationId);
        #               //</NAXT_CU4>
        #
        #        if (!localSalesQuotationLine)
        #        {
        #            throw error("@XAP5641"); // Main line is not selected for converting. Error!
        #        }
        #    }
        #    else
        #    {
        #        // Checking sublines
        #        /*<NAXT>
        #        while select ConvertToOrder from localSalesQuotationLine
        #        <NAXT>*/
        #        //<NAXT_CU4>
        #        while select ConvertToOrder, SvcContractQuotationId from localSalesQuotationLine
        #        //</NAXT_CU4>
        #            where localSalesQuotationLine.QuotationId        == _salesQuotationLine.QuotationId
        #               && localSalesQuotationLine.AttachToLineNumber == _salesQuotationLine.LineNum
        #               && localSalesQuotationLine.RecId              != _salesQuotationLine.RecId
        #        {
        #            /*<NAXT>
        #            if (!localSalesQuotationLine.ConvertToOrder)
        #            <NAXT>*/
        #            //<NAXT_CU4>
        #            if (!localSalesQuotationLine.ConvertToOrder && !localSalesQuotationLine.SvcContractQuotationId)
        #            //</NAXT_CU4>
        #            {
        #                throw error("@XAP5641"); // One of the sublines not selected for converting. Error!
        #            }
        #        }
        #
        #    }
        #}
      ENDSOURCE
      SOURCE #checkBlockedLevel
        #protected boolean  checkBlockedLevel()
        #{
        #    boolean  ok = true;
        #
        #    if (!CustTable::canCustomerBeUpdated(salesQuotationTable.CustAccount, salesQuotationTable.InvoiceAccount, this.documentStatus()))
        #    {
        #        ok = checkFailed(strFmt("@SYS7987",salesQuotationTable.CustAccount));
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkDiscardLine
        #protected boolean  checkDiscardLine()
        #{
        #    boolean     cwItem = pdsIsCWItem(salesQuotationParmLine.ItemId);
        #    if (( !cwItem && salesQuotationParmLine.DeliverNow == 0)
        #        || (cwItem && salesQuotationParmLine.PdsCWDeliverNow == 0))
        #    {
        #        return true;
        #    }
        #
        #    return false;
        #}
      ENDSOURCE
      SOURCE #checkHeading
        #protected boolean  checkHeading()
        #{
        #    boolean     ok = true;
        #    //<BUG_13800_LD>
        #    SalesPurchTable salesPurchTable;
        #    //</BUG_13800_LD>
        #
        #    if (! salesQuotationTable.RecId)
        #    {
        #        ok = checkFailed(strFmt("@SYS84605",salesQuotationTable.QuotationId));
        #    }
        #
        #    if (!salesQuotationTable.CustAccount && !salesQuotationTable.BusRelAccount)
        #    {
        #        // Quotation %1 has no account reference for the customer/prospect table.
        #        ok = checkFailed(strFmt("@SYS84606",salesQuotationTable.QuotationId));
        #    }
        #
        #    if (salesQuotationTable.CustAccount)
        #    {
        #        if (!CustTable::exist(salesQuotationTable.CustAccount))
        #        {
        #            ok = checkFailed(strFmt("@SYS84607",salesQuotationTable.CustAccount, salesQuotationTable.QuotationId));
        #        }
        #        //<BUG_13800_LD>
        #        salesPurchTable = salesQuotationTable;
        #        ok = salesPurchTable.SalesPurchTable::validate();
        #        //</BUG_13800_LD>
        #        if (!salesQuotationTable.InvoiceAccount)
        #        {
        #            ok = checkFailed(strFmt("@SYS84608",salesQuotationTable.QuotationId));
        #        }
        #
        #    }
        #    else if (salesQuotationTable.BusRelAccount && !smmBusRelTable::find(salesQuotationTable.BusRelAccount))
        #    {
        #        ok = checkFailed(strFmt("@SYS84607",salesQuotationTable.BusRelAccount, salesQuotationTable.QuotationId));
        #    }
        #
        #    if ((salesQuotationTable.InvoiceAccount) && (! CustTable::exist(salesQuotationTable.InvoiceAccount)))
        #    {
        #        ok = checkFailed(strFmt("@SYS84620",salesQuotationTable.InvoiceAccount,salesQuotationTable.QuotationId));
        #    }
        #
        #
        #    if (salesQuotationTable.CurrencyCode && ! Currency::exist(salesQuotationTable.CurrencyCode))
        #    {
        #        ok = checkFailed(strFmt("@SYS84610",salesQuotationTable.CurrencyCode,salesQuotationTable.QuotationId));
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkIfSomethingIsPosted
        #protected boolean  checkIfSomethingIsPosted()
        #{
        #    if (! salesQuotationLine)
        #    {
        #        return checkFailed("@SYS26185");
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkSales
        #protected boolean checkSales()
        #{
        #    boolean  ok = true;
        #
        #    // In transactions in order to get enforce selection of eg. CustTable
        #    ttsbegin;
        #
        #    if (!this.checkHeading() ||!this.checkBlockedLevel())
        #    {
        #        ok = false;
        #    }
        #
        #    if ((SalesParameters::numRefSalesId().numberSequenceTable().Manual) &&
        #        (!salesQuotationParmTable.SalesIdManual))
        #    {
        #        ok = checkFailed("@SYS57631");
        #    }
        #
        #    ttscommit;
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #classDeclaration
        #class SalesQuotationEditLinesForm_Sales_Confir extends SalesQuotationEditLinesForm_Sales
        #{
        #
        #    NumberSeq                       numberSeq;
        #    Num                             number;
        #    Voucher                         voucher;
        #
        #    SalesCalcTax                    salesCalcTax;
        #
        #    CustQuotationConfirmJour        custQuotationConfirmJour;
        #
        #    CustQuotationConfirmTrans       custQuotationConfirmTrans;
        #
        #    RecordSortedList                journalList;
        #
        #    CustConfirmJour                 custConfirmJour;
        #
        #    SalesQty                        updateNow;
        #    InventQty                       updateNowInvent;
        #    PdsCWInventQty                  updateCWNow;
        #    AmountCur                       lineValue;
        #    AmountCur                       lineValueInclTax;
        #
        #    LineNum                         sumByLineNum;
        #
        #    RecordSortedList                recordListSalesQuotationParmLine;
        #
        #    LedgerVoucher                   ledgerVoucher;
        #    boolean                         ledgerVoucherIsSet;
        #
        #    #localmacro.LinePrefix
        #        setPrefix(#PreFixField(%1, ItemId)  + ' '
        #                + %2 );
        #    #endmacro
        #}
      ENDSOURCE
      SOURCE #createJournal
        #public boolean createJournal()
        #{
        #    journalList = this.newJournalList();
        #
        #    salesQuotationTotals = SalesQuotationTotals::construct(salesQuotationParmTable,
        #                                                           SalesUpdate::All,
        #                                                           AccountOrder::None,
        #                                                           this.parmId(),
        #                                                           salesQuotationTable.QuotationId,
        #                                                           this.documentStatus());
        #    salesQuotationTotals.prepareTotalAmountCalculation();
        #    salesQuotationTotals.prepareQuantitiesCalculation();
        #    this.tax(salesQuotationTotals.tax());
        #
        #    recordListSalesQuotationParmLine = salesQuotationTotals.recordSortedListLine();
        #
        #    if (! this.checkSales())
        #    {
        #        throw error(strFmt("@SYS84612", salesQuotationParmTable.QuotationId));
        #    }
        #
        #    this.insertJournal();
        #
        #    // <NAXT>
        #    XAP_SurplusReturnParameter::updateSurplusParameter(salesQuotationTable);
        #    // </NAXT>
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #createParmLine
        #// NAXT EQ0058 Trade-in line on quote (KB8888)
        #public boolean createParmLine(SalesQuotationLine _salesQuotationLine, SalesQuotationParmTable _salesQuotationParmTable)
        #{
        #    boolean ret;
        #    /*<NAXT>
        #    if (_salesQuotationLine.ConvertToOrder)
        #    <NAXT>*/
        #    //<NAXT_CU4>
        #    if (_salesQuotationLine.ConvertToOrder || _salesQuotationLine.SvcContractQuotationId)
        #    //<NAXT_CU4>
        #    {
        #        ret = super(_salesQuotationLine, _salesQuotationParmTable);
        #
        #        // NAXT - Attach to line number - begin
        #        this.checkAttachedLines(_salesQuotationLine);
        #        // NAXT - Attach to line number - end
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #createSalesLines
        #void createSalesLines(SalesQuotationTable   _salesQuotationTable    = salesQuotationTable,
        #                      SalesTable            _salesTable             = salesTableCreated)
        #{
        #    SalesQuotationLine          salesQuotationLineUpdate;
        #    InventDim                   inventDim           = null;
        #    SalesLine                   salesLine;
        #    SalesQuotationParmLine      salesQuotationParmLineUpdate;
        #    Map                         mapOfOrderLinesWithMultipleDeliveries = new Map(Types::String, Types::String);
        #    MapEnumerator               mapEnumerator;
        #    SalesQuotationLine          quotationLine;
        #    SalesDeliverySchedule       salesDeliverySchedule;
        #    SalesLineType_WithMultipleDeliveries    salesLineType;
        #    SalesQuotationLineForeignTradeCategory salesQuotationLineForeignTradeCategory;
        #    SalesLineForeignTradeCategory salesLineForeignTradeCategory;
        #    // <GIN>
        #    #isoCountryRegionCodes
        #    SalesLine_IN                salesLine_IN;
        #    // </GIN>
        #
        #    // <NAXT>
        #    Map                         inventTransIdMap = new Map(Types::String, Types::String);
        #    Map                         tradeInRefMap    = new Map(Types::Int64,  Types::Int64);
        #    Map                         lineNumMap       = new Map(Types::Real,   Types::String);
        #    SalesLine                   attachedSalesLine;
        #    SalesQuotationLine          attachedQuotationLine;
        #    InventTransId               newInventTransId;
        #    // </NAXT>
        #    // <GGH>
        #    GGH_LineLink                lineLink;
        #    // </GGH>
        #
        #    // <NAXT CU5>
        #    Map                         fromToLineNumMap = new Map(Types::Real, Types::Real);
        #    // </NAXT CU5>
        #
        #    ttsbegin;
        #    while select forupdate salesQuotationLineUpdate
        #        index hint QuotationLineIdx
        #        where   salesQuotationLineUpdate.QuotationId == salesQuotationTable.QuotationId
        #        &&      salesQuotationLineUpdate.SalesQty    != 0
        #        // <NAXT>
        #        &&      salesQuotationLineUpdate.ConvertToOrder
        #        &&     (salesQuotationLineUpdate.ExchangeCoreCharge == XAP_ExchangeCoreCharge::Exchange ||
        #                salesQuotationLineUpdate.ExchangeCoreCharge == XAP_ExchangeCoreCharge::None)
        #        // </NAXT>
        #        exists join salesQuotationParmLineUpdate
        #            where salesQuotationParmLineUpdate.SalesQuotationLineRecId == salesQuotationLineUpdate.RecId          &&
        #                  salesQuotationParmLineUpdate.ParmId                  == salesQuotationParmTable.ParmId    &&
        #                  salesQuotationParmLineUpdate.TableRefId              ==  salesQuotationParmTable.TableRefId    &&
        #                  salesQuotationParmLineUpdate.Transfer                == NoYes::Yes
        #    {
        #        salesLine.clear();
        #        salesLine.initValue(_salesTable.SalesType);
        #
        #        salesLine.initFromSalesTable(_salesTable);
        #
        #
        #        salesLine.initFromItemOrCategory(
        #            salesQuotationLineUpdate.ItemId,
        #            salesQuotationLineUpdate.SalesCategory,
        #            salesQuotationLineUpdate.Name);
        #
        #        salesLine.SalesQty        = salesQuotationLineUpdate.SalesQty;
        #        salesLine.SalesUnit       = salesQuotationLineUpdate.SalesUnit;
        #
        #        // <NAXT>
        #        salesLine.FreezePrice = XAP_ItemOrderType::findRecId(InventTable::find(salesLine.ItemId).ItemOrderType).FreezePrice;
        #        // </NAXT>
        #
        #        salesLine.initFromSalesQuotationLine(salesQuotationLineUpdate);
        #
        #        if (pdsIsCWItem(salesLine.ItemId))
        #        {
        #            salesLine.PdsCWQty  = salesQuotationLineUpdate.PdsCWQty;
        #        }
        #
        #        // <GIN>
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
        #        {
        #            salesLine_IN = salesLine.salesLine_IN();
        #            salesLine_IN.TaxModelDocLineExtensionIN::copyFromSource(salesQuotationLineUpdate.TableId, salesQuotationLineUpdate.RecId);
        #            salesLine.packSalesLine_IN(salesLine_IN);
        #        }
        #        // </GIN>
        #
        #        salesLine.createLine(false,    // Validation
        #                             false,    // Init from SalesTable
        #                             false,    // Init from InventTable
        #                             true,     // Calc invent Qty
        #                             false,    // Search markup         - copied from salesQuotationline
        #                             false,    // search price          - copied from salesQuotationline
        #                             false,    // check reservation
        #                             true);    // Skip creditlimit check
        #
        #        // <GGH> T27257
        #        update_recordSet linelink
        #            setting MainTransId = salesLine.InventTransId
        #                where   linelink.MainTransId == salesQuotationLineUpdate.InventTransId &&
        #                        lineLink.LinkType == GGH_LineLinkType::Freight;
        #
        #        update_recordSet linelink
        #            setting ChildTransId = salesLine.InventTransId
        #                where   linelink.ChildTransId == salesQuotationLineUpdate.InventTransId &&
        #                        lineLink.LinkType == GGH_LineLinkType::Freight;
        #        // </GGH>
        #
        #        salesLine.createWarningIfNotReserved();
        #
        #        // <NAXT-2012-DCG>
        #        if (salesLine.RecId && salesQuotationLineUpdate.RecId && XAP_SalesCostBreakdownLines::exist(XAP_CostBreakdownSource::SalesQuotation, salesQuotationLineUpdate.RecId))
        #        {
        #            XAP_SalesCostBreakdownLinesHandler::inheritFromQuotation(salesQuotationLineUpdate.RecId, salesLine.RecId);
        #            // <NAXT CU5>
        #            XAP_SalesCostBreakdownLinesHandler::construct(salesLine).refreshSourceLine();
        #            // </NAXT CU5>
        #            salesLine.reread();
        #        }
        #        // </NAXT-2012-DCG>
        #
        #        // <NAXT CU5>
        #        fromToLineNumMap.insert(salesQuotationLineUpdate.LineNum, salesLine.LineNum);
        #        salesLine.SubLineOf = salesQuotationLineUpdate.SubLineOf;
        #        // </NAXT CU5>
        #        //BIZ_01965_T6B7Q - 13/03/2020 - FUS - Start
        #        salesLine.copyDocuRefFromTable(salesQuotationLineUpdate);
        #        //BIZ_01965_T6B7Q - 13/03/2020 - FUS - End
        #        // <NAXT>
        #        salesLine.EquipmentConfigId = salesLine.transferEquipmentConfiguration(salesQuotationLineUpdate);
        #        salesLine.doUpdate();
        #
        #        inventTransIdMap.insert(salesQuotationLineUpdate.InventTransId, salesLine.InventTransId);
        #
        #        tradeInRefMap.insert(salesQuotationLineUpdate.RecId, salesLine.RecId);
        #
        #        if (salesQuotationLineUpdate.AttachToLineNumber && !salesQuotationLineUpdate.EquipmentAttachedTo && !salesQuotationLineUpdate.CoreInventTransId)
        #        {
        #            select firstonly InventTransId from attachedQuotationLine
        #                where attachedQuotationLine.QuotationId == salesQuotationLineUpdate.QuotationId
        #                   && attachedQuotationLine.LineNum     == salesQuotationLineUpdate.AttachToLineNumber;
        #
        #            lineNumMap.insert(salesQuotationLineUpdate.AttachToLineNumber, attachedQuotationLine.InventTransId);
        #        }
        #        // </NAXT>
        #
        #        if (salesQuotationLineUpdate.isCategoryBased())
        #        {
        #            salesQuotationLineForeignTradeCategory = SalesQuotationLineForeignTradeCategory::findSalesQuotationLine(salesQuotationLineUpdate);
        #            if (salesQuotationLineForeignTradeCategory)
        #            {
        #                salesLineForeignTradeCategory.initFromSQLineForeignTradeCategory(salesQuotationLineForeignTradeCategory);
        #                salesLineForeignTradeCategory.initFromSalesLine(salesLine);
        #                salesLineForeignTradeCategory.insert();
        #            }
        #        }
        #
        #        if (salesQuotationLineUpdate.LineDeliveryType == LineDeliveryType::DeliveryLine)
        #        {
        #            salesDeliverySchedule.DeliveryLine = salesLine.InventTransId;
        #            quotationLine = SalesQuotationDeliverySchedule::findOrderLineForDeliveryLine(salesQuotationLineUpdate.InventTransId);
        #            if (mapOfOrderLinesWithMultipleDeliveries.exists(quotationLine.InventTransId))
        #            {
        #                // attach to an existing sales order line with multiple deliveries.
        #                salesDeliverySchedule.OrderLine = mapOfOrderLinesWithMultipleDeliveries.lookup(quotationLine.InventTransId);
        #            }
        #            else
        #            {
        #                // create new sales order line with multiple deliveries
        #                salesLine.clear();
        #                salesLine.initFromSalesTable(_salesTable);
        #
        #                salesLine.SalesUnit = quotationLine.SalesUnit;
        #                salesLine.initFromItemOrCategory(
        #                    quotationLine.ItemId,
        #                    quotationLine.SalesCategory,
        #                    quotationLine.Name);
        #
        #                salesLine.initFromSalesQuotationLine(quotationLine);
        #                // Since initFromInventTable called by initFromItemOrCategory
        #                // sets SalesQty and related fields they are now reset to 0 to
        #                // avoid invent transactions.
        #                salesLine.SalesQty = 0;
        #                salesLine.createLine(false, false, false, true, false, false, false, true,'', false, false);
        #
        #                // <NAXT-2012-DCG>
        #                if (salesLine.RecId && quotationLine.RecId && XAP_SalesCostBreakdownLines::exist(XAP_CostBreakdownSource::SalesQuotation, quotationLine.RecId))
        #                {
        #                    XAP_SalesCostBreakdownLinesHandler::inheritFromQuotation(quotationLine.RecId, salesLine.RecId);
        #                }
        #                // </NAXT-2012-DCG>
        #
        #                salesDeliverySchedule.OrderLine = salesLine.InventTransId;
        #
        #                mapOfOrderLinesWithMultipleDeliveries.insert(quotationLine.InventTransId, salesLine.InventTransId);
        #            }
        #            salesDeliverySchedule.insert();
        #        }
        #
        #        // PBA Begin
        #        if (salesQuotationLineUpdate.ItemPBAId)
        #        {
        #            PBATableInstance::copyInstance(salesLine.InventTransId, salesQuotationLineUpdate.InventTransId);
        #            PBABOMRouteOccurrence::copyOccurrence(salesLine.InventTransId, salesQuotationLineUpdate.InventTransId);
        #        }
        #        // PBA End
        #
        #        // Transfer markup to sales order header
        #        Markup::copy(false,
        #                     salesQuotationLineUpdate,
        #                     salesLine);
        #    }
        #
        #    // recalculate all order lines with multiple deliveries.
        #    mapEnumerator = mapOfOrderLinesWithMultipleDeliveries.getEnumerator();
        #    mapEnumerator.reset();
        #    while (mapEnumerator.moveNext())
        #    {
        #        salesLine = SalesLine::findInventTransId(mapEnumerator.currentValue(), true);
        #        salesLineType = SalesLineType::construct(salesLine, _salesTable);
        #        salesLineType.recalculateOrderLine(false);
        #        salesLine.update(true, null, false);
        #    }
        #
        #    // <NAXT>
        #    while select forupdate salesLine
        #        where salesLine.SalesId == _salesTable.SalesId
        #    {
        #        /* Field removed
        #        if (salesLine.LineType == XAP_LineTypes::Feature)
        #        {
        #            salesLine.ConsistOf = SalesLine::findConsistOfRecId(SalesQuotationLine::findRecId(salesLine.ConsistOfQuotation).ConsistOf).RecId;
        #        }
        #        */
        #
        #        if (salesLine.EquipmentAttachedTo && inventTransIdMap.exists(salesLine.EquipmentAttachedTo))
        #        {
        #            salesLine.EquipmentAttachedTo = inventTransIdMap.lookup(salesLine.EquipmentAttachedTo);
        #        }
        #        else
        #        {
        #            salesLine.EquipmentAttachedTo = '';
        #        }
        #
        #        if (salesLine.TradeIn && salesLine.TradeInRefRecId && tradeInRefMap.exists(salesLine.TradeInRefRecId))
        #        {
        #            salesLine.TradeInRefRecId = tradeInRefMap.lookup(salesLine.TradeInRefRecId);
        #        }
        #
        #        if (salesLine.AttachToLineNumber && !salesLine.EquipmentAttachedTo && !salesLine.CoreInventTransId)
        #        {
        #            newInventTransId = inventTransIdMap.lookup(lineNumMap.lookup(salesLine.AttachToLineNumber));
        #
        #            select firstonly LineNum from attachedSalesLine
        #                where attachedSalesLine.InventTransId == newInventTransId
        #                   && attachedSalesLine.SalesId       == salesLine.SalesId;
        #
        #            salesLine.AttachToLineNumber = attachedSalesLine.LineNum;
        #        }
        #
        #        /* <NAXT>
        #        this.updateSublineOf(salesLine);
        #        </NAXT> */
        #        // <NAXT CU5>
        #        this.updateSublineOf(salesLine, fromToLineNumMap);
        #        // </NAXT CU5>
        #
        #        salesLine.doUpdate();
        #    }
        #    ttscommit;
        #    // </NAXT>
        #}
        #
      ENDSOURCE
      SOURCE #createSalesTable
        #boolean createSalesTable()
        #{
        #    SalesTable          salesTable;
        #    SalesTableType      salesTableType;
        #
        #    NumberSeq           num;
        #    SalesId             tmpSalesId;
        #
        #    boolean             retOk = true;
        #
        #    //TFS - 20121121 - PTI - begin
        #    RefRecId            numberSequenceId;
        #    //TFS - 20121121 - PTI - begin
        #
        #    // Validate customer account
        #    if (salesQuotationTable.CustAccount)
        #    {
        #        if (!CustTable::exist(salesQuotationTable.CustAccount))
        #        {
        #            retOk = checkFailed(strFmt("@SYS16734", salesQuotationTable.CustAccount));
        #        }
        #    }
        #    else
        #    {
        #        retOk = checkFailed("@SYS59637");
        #    }
        #
        #    if (retOk)
        #    {
        #        // Init salesTable
        #        salesTable.clear();
        #        salesTable.initValue(SalesType::Sales);
        #
        #        salesTableType = salesTable.type();
        #
        #        //TFS - 20121121 - PTI - begin
        #        numberSequenceId = XAP_NumberSequenceGroupMulti::numberSequenceId(salesQuotationTable.InventLocationId, SalesParameters::numRefSalesId());
        #        if (!NumberSequenceTable::find(numberSequenceId).Manual)
        #        {
        #            num = NumberSeq::newGetNumFromId(numberSequenceId);
        #            tmpSalesId = num.num();
        #
        #            if (SalesTable::exist(tmpSalesId))
        #            {
        #                num.abort();
        #                checkFailed("@SYS55111");
        #                checkFailed(strFmt("@SYS55112", tmpSalesId));
        #                throw error("@SYS23020");
        #            }
        #
        #            num.used();
        #        }
        #        else
        #        //TFS - 20121121 - PTI - end
        #        // Get salesId
        #        if (!SalesParameters::numRefSalesId().numberSequenceTable().Manual)
        #        {
        #            num = NumberSeq::newGetNum(SalesParameters::numRefSalesId());
        #            tmpSalesId = num.num();
        #
        #            if (SalesTable::exist(tmpSalesId))
        #            {
        #                num.abort();
        #                checkFailed("@SYS55111");
        #                checkFailed(strFmt("@SYS55112", tmpSalesId));
        #                throw error("@SYS23020");
        #            }
        #
        #            num.used();
        #        }
        #        else
        #        {
        #            tmpSalesId = salesQuotationParmTable.SalesIdManual;
        #
        #            if (SalesTable::exist(tmpSalesId))
        #            {
        #                checkFailed("@SYS55111");
        #                checkFailed(strFmt("@SYS55112", tmpSalesId));
        #                throw error("@SYS23020");
        #            }
        #        }
        #
        #        salesTable.SalesId = tmpSalesId;
        #        //TFS5051 - SZA - 20121107 - begin
        #        salesTable.SmartSourcingNeedByDate = salesQuotationTable.SmartSourcingNeedByDate;
        #        //TFS5051 - SZA - 20121107 - end
        #
        #        // init from SalesQuotationTable
        #        salesTable.initFromSalesQuotationTable(salesQuotationTable);
        #
        #        salesTableType.insert(true);    // skip auto creation of markup
        #
        #        //TFS2881 - PTI - 20120510 - begin
        #        setPrefix("@SYS27579");
        #        info(salesTable.SalesId, "", SysInfoAction_TableField::newBuffer(salesTable));
        #        //TFS2881 - PTI - 20120510 - end
        #
        #        this.initTaxRegulationFromSalesQuotation(salesTable);
        #
        #        this.parmSalesTableCreated(salesTable);
        #    }
        #
        #    if(retOk)
        #    custQuotationConfirmJour.SalesId    =   salesTable.SalesId;
        #
        #    return retOk;
        #}
        #
      ENDSOURCE
      SOURCE #displayProgress
        #void displayProgress()
        #{
        #    this.progressUpdate(strFmt("@SYS84613",salesQuotationTable.QuotationId));
        #}
      ENDSOURCE
      SOURCE #documentStatus
        #DocumentStatus documentStatus()
        #{
        #    return DocumentStatus::Confirmation;
        #}
      ENDSOURCE
      SOURCE #fixedEuroTriangulation
        #protected UnknownNoYes  fixedEuroTriangulation()
        #{
        #    return(salesQuotationTable.fixedEuroTriangulation());
        #}
        #
      ENDSOURCE
      SOURCE #fixedExchRate
        #protected CustExchRate  fixedExchRate()
        #{
        #    return(salesQuotationTable.fixedExchRate(true));
        #}
        #
      ENDSOURCE
      SOURCE #fixedExchRateSecondary
        #protected ExchrateSecondary  fixedExchRateSecondary()
        #{
        #    return (salesQuotationTable.fixedExchRateSecondary());
        #}
        #
      ENDSOURCE
      SOURCE #formLetterCaption
        #str  formLetterCaption()
        #{
        #
        #    return "@SYS5368";
        #}
      ENDSOURCE
      SOURCE #formLetterSorting
        #container  formLetterSorting(TableId    sortingTableId,
        #                             FieldId    recIdField)
        #{
        #    container                       sortOrder;
        #    FormLetterSortingParameters     sortingParameters;
        #
        #    while select FieldId
        #        from  sortingParameters
        #        order by Position, FieldId
        #        where sortingParameters.SortingTableId == sortingTableId
        #    {
        #        sortOrder += [sortingParameters.FieldId];
        #    }
        #
        #    sortOrder += [recIdField];
        #
        #    return sortOrder;
        #}
      ENDSOURCE
      SOURCE #getInclTaxAmount_IN
        #/// <summary>
        #/// Calculates quotation amount inclusive of tax to insert record in to custQuotationConfirmJour table.
        #/// </summary>
        #// <GIN>
        #void getInclTaxAmount_IN()
        #{
        #    TaxAmountCur        inclTaxAmount;
        #    TmpTaxWorkTrans     tmpTaxWorkTrans;
        #    SalesQuotationLine  salesQuotationLineloc;
        #    FormulaDesigner_IN  formulaDesigner;
        #    TaxableBasis_IN     taxBasis;
        #    TmpTaxCalc_IN       tmpTaxCalc;
        #
        #    while select RecId, TableId, TaxItemGroup from salesQuotationLineloc
        #        where salesQuotationLineloc.QuotationId == salesQuotationTable.QuotationId
        #    {
        #        if (FormulaDesigner_IN::isPriceInclTaxLine(salesQuotationLineloc.TaxItemGroup))
        #        {
        #            tmpTaxWorkTrans = this.tax().tmpTaxWorkTrans();
        #            tmpTaxCalc      = this.tax().tmpTaxCalc_IN();
        #            while select tmpTaxWorkTrans
        #                where tmpTaxWorkTrans.SourceRecId      == salesQuotationLineloc.RecId   &&
        #                      tmpTaxWorkTrans.SourceTableId    == salesQuotationLineloc.TableId &&
        #                      tmpTaxWorkTrans.TaxDirection     != TaxDirection::UseTax          &&
        #                      tmpTaxWorkTrans.TaxOrigin        != TaxOrigin::TaxReversed
        #            {
        #                formulaDesigner = FormulaDesigner_IN::findByTaxCode(tmpTaxWorkTrans.TaxItemGroup, tmpTaxWorkTrans.TaxCode);
        #
        #                if(formulaDesigner.PriceInclTax)
        #                {
        #                    select tmpTaxCalc where
        #                        tmpTaxCalc.TaxCode         == tmpTaxWorkTrans.TaxCode       &&
        #                        tmpTaxCalc.SourceTableID   == salesQuotationLineloc.TableId &&
        #                        tmpTaxCalc.SourceRecID     == salesQuotationLineloc.RecId;
        #
        #                    taxBasis = formulaDesigner.TaxableBasis;
        #
        #                    if(taxBasis == TaxableBasis_IN::ExclAmount)
        #                    {
        #                        taxBasis = Tax::getTaxableBasis_IN(formulaDesigner);
        #                    }
        #
        #                    if(TaxTable::find(tmpTaxWorkTrans.TaxCode).TaxType_IN != TaxType_IN::None
        #                        && (taxBasis == TaxableBasis_IN::LineAmount
        #                            || taxBasis == TaxableBasis_IN::Assessable))
        #                    {
        #                        if (!tmpTaxWorkTrans.SourceRegulateAmountCur)
        #                        {
        #                             inclTaxAmount += tmpTaxWorkTrans.SourceTaxAmountCur;
        #                        }
        #                        else
        #                        {
        #                             inclTaxAmount += tmpTaxWorkTrans.SourceRegulateAmountCur;
        #                        }
        #
        #                        if (inclTaxAmount < 0)
        #                        {
        #                            inclTaxAmount += tmpTaxCalc.TaxOnCharges;
        #                        }
        #                        else
        #                        {
        #                            inclTaxAmount -= tmpTaxCalc.TaxOnCharges;
        #                        }
        #                    }
        #                    inclTaxAmount = Currency::amount(inclTaxAmount);
        #                }
        #            }
        #        }
        #    }
        #    if (inclTaxAmount)
        #    {
        #        custQuotationConfirmJour.QuotationAmount = custQuotationConfirmJour.QuotationAmount - abs(inclTaxAmount);
        #    }
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #getNumAndVoucher
        #container  getNumAndVoucher()
        #{
        #    return [numberSeq.num(), ''];
        #}
      ENDSOURCE
      SOURCE #getSalesQuotationLine
        #protected SalesQuotationLine getSalesQuotationLine(SalesQuotationParmLine     _salesQuotationParmLine,
        #                                                   boolean           _forUpdate = false)
        #{
        #    SalesQuotationLine  localSalesQuotationLine;
        #
        #    localSalesQuotationLine.selectForUpdate(_forUpdate);
        #
        #    select firstonly localSalesQuotationLine
        #        where localSalesQuotationLine.RecId == _salesQuotationParmLine.SalesQuotationLineRecId;
        #
        #    if (! SalesQuotationTable::exist(localSalesQuotationLine.QuotationId))
        #    {
        #        throw error("@SYS84618");
        #    }
        #
        #    return localSalesQuotationLine;
        #}
      ENDSOURCE
      SOURCE #initJournal
        #protected void  initJournal()
        #{
        #    custQuotationConfirmJour.clear();
        #    custQuotationConfirmJour.initValue();
        #
        #    custQuotationConfirmJour.QuotationConfirmId = number;
        #
        #    if (!custQuotationConfirmJour.QuotationConfirmId)
        #    {
        #        // Quotation confirmation journal id must be filled in.
        #        throw error("@SYS100046");
        #    }
        #
        #    custQuotationConfirmJour.ParmId             = this.parmId();
        #    custQuotationConfirmJour.QuotationDate      = salesQuotationParmTable.Transdate;
        #
        #    custQuotationConfirmJour.initFromSalesQuotationTable(salesQuotationTable);
        #
        #    custQuotationConfirmJour.setDocNum(salesQuotationTable);
        #
        #    custQuotationConfirmJour.InterCompanyPosted = this.interCompanyPosted();
        #}
      ENDSOURCE
      SOURCE #initMarkup
        #protected void  initMarkup()
        #{
        #    markup = new Markup(salesQuotationTable.CurrencyCode);
        #    markup.setTax(this.tax());
        #    markup.parmExchRate(this.fixedExchRate(), this.fixedExchRateSecondary(), this.fixedEuroTriangulation());
        #}
      ENDSOURCE
      SOURCE #initTaxRegulationFromSalesQuotation
        #void initTaxRegulationFromSalesQuotation(SalesTable _salesTable)
        #{
        #    TaxWorkRegulation::copy(salesQuotationTable, _salesTable);
        #}
      ENDSOURCE
      SOURCE #insertJournal
        #protected void  insertJournal()
        #{
        #    ttsbegin;
        #
        #    numberSeq           = this.allocateNumAndVoucher();
        #    [number, voucher]    = this.getNumAndVoucher();
        #
        #    if (this.updateNow())
        #    {
        #        this.postUpdate();
        #
        #        TransactionLog::create(this.transactionLogType(),this.transactionLogTxt());
        #        ttscommit;
        #    }
        #    else
        #    {
        #        throw error(strFmt("@SYS21533"));
        #    }
        #}
      ENDSOURCE
      SOURCE #journal
        #CustQuotationConfirmJour  journal()
        #{
        #    return custQuotationConfirmJour;
        #}
      ENDSOURCE
      SOURCE #newJournalList
        #protected RecordSortedList  newJournalList()
        #{
        #    RecordSortedList  recordSortedList;
        #
        #    recordSortedList = new RecordSortedList(tableNum(CustQuotationConfirmJour));
        #    recordSortedList.sortOrderFromContainer(this.formLetterSorting(tableNum(CustQuotationConfirmJour), fieldNum(CustQuotationConfirmJour, RecId)));
        #
        #    return recordSortedList;
        #}
      ENDSOURCE
      SOURCE #postMarkupLine
        #protected void  postMarkupLine()
        #{
        #    this.postMarkupOnTrans();
        #}
        #
      ENDSOURCE
      SOURCE #postMarkupOnJour
        #protected void postMarkupOnJour(SalesQuotationTable _salesQuotationTableMarkup)
        #{
        #    markup.postJournal(1,
        #                       salesQuotationTotals.totalOrderBalance(_salesQuotationTableMarkup.RecId),
        #                       _salesQuotationTableMarkup,
        #                       _salesQuotationTableMarkup.DefaultDimension,
        #                       custQuotationConfirmJour);
        #}
      ENDSOURCE
      SOURCE #postMarkupOnTrans
        #protected void postMarkupOnTrans()
        #{
        #    markup.postJournal(updateNow,
        #                       lineValue,
        #                       salesQuotationLine,
        #                       salesQuotationLine.DefaultDimension,
        #                       custQuotationConfirmTrans);
        #}
        #
      ENDSOURCE
      SOURCE #postMarkupTable
        #protected void  postMarkupTable()
        #{
        #    QueryRun                        qR;
        #    SalesQuotationTable             salesQuotationTableMarkup;
        #    SalesQuotationParmSubTable      salesQuotationParmSubTable;
        #
        #    qR = new QueryRun(salesQuotationParmTable.querySalesQuotationParmSubTable());
        #    while (qR.next())
        #    {
        #        salesQuotationTableMarkup = null;
        #        if (qR.changed(tableNum(SalesQuotationParmSubTable)))
        #        {
        #            salesQuotationParmSubTable      = qR.get(tableNum(SalesQuotationParmSubTable));
        #            salesQuotationTableMarkup       = salesQuotationParmSubTable.salesQuotationTable();
        #        }
        #
        #        if (!salesQuotationTableMarkup)
        #        {
        #            continue;
        #        }
        #
        #        this.postMarkupOnJour(salesQuotationTableMarkup);
        #    }
        #}
      ENDSOURCE
      SOURCE #postTax
        #protected void  postTax(boolean post)
        #{
        #    salesCalcTax = SalesCalcTax::construct(this.journal());
        #    salesCalcTax.tax(this.tax());
        #    salesCalcTax.post(ledgerVoucher, post);
        #}
      ENDSOURCE
      SOURCE #printJournal
        #/// <summary>
        #/// Prints the report.
        #/// </summary>
        #protected void  printJournal()
        #{
        #    if (printFormletter && journalList.len() > 0)
        #    {
        #        custQuotationConfirmJour.printJournal(this, journalList);
        #    }
        #}
      ENDSOURCE
      SOURCE #printMgmtDocumentType
        #/// <summary>
        #/// Identifies the print management document type.
        #/// </summary>
        #/// <returns>
        #/// The print management document type for sales quotation confirmation.
        #/// </returns>
        #protected PrintMgmtDocumentType printMgmtDocumentType()
        #{
        #    return PrintMgmtDocumentType::Confirmation;
        #}
      ENDSOURCE
      SOURCE #queryBuildSalesQuotationTable
        #QueryRun  queryBuildSalesQuotationTable()
        #{
        #    Query                       query;
        #    QueryBuildDataSource        salesQuotationTabledataSource;
        #    QueryBuildDataSource        salesQuotationLinedataSource;
        #
        #    QueryBuildRange             queryBuildRangeStatus;
        #    QueryBuildRange             queryBuildRangeType;
        #    QueryBuildRange             queryBuildRangeTemplate;
        #
        #    Map                         mapSalesQuotationRecord;
        #    MapEnumerator               mapSalesQuotationRecordEnumerator;
        #
        #    SalesQuotationTable         localSalesQuotationTable;
        #    QueryRun                    localQueryRun;
        #
        #    localQueryRun               = new SysQueryRun(queryStr(SalesQuotationUpdate));
        #    query                       = localQueryRun.query();
        #    salesQuotationTabledataSource   = query.dataSourceTable(tableNum(SalesQuotationTable));
        #    salesQuotationTabledataSource.addRange(fieldNum(SalesQuotationTable,CustAccount));
        #
        #    salesQuotationLinedataSource    = query.dataSourceTable(tableNum(SalesQuotationLine));
        #    salesQuotationLinedataSource.addRange(fieldNum(SalesQuotationLine, LineDeliveryType)).value('!='+SysQuery::value(LineDeliveryType::OrderLineWithMultipleDeliveries));
        #
        #    salesQuotationLinedataSource.addSortField(fieldNum(SalesQuotationLine, QuotationId));
        #    salesQuotationLinedataSource.addSortField(fieldNum(SalesQuotationLine, LineNum));
        #
        #    if (callerRecordsPackedMap == conNull())
        #    {
        #        salesQuotationTabledataSource.addRange(fieldNum(SalesQuotationTable, QuotationId)).value(salesQuotationTable.QuotationId);
        #        // Quotation type = Sales
        #        queryBuildRangeType = salesQuotationTabledataSource.addRange(fieldNum(SalesQuotationTable, QuotationType));
        #        queryBuildRangeType.value(enum2str(QuotationType::Sales));
        #        queryBuildRangeType.status(RangeStatus::Locked);
        #
        #        queryBuildRangeTemplate = query.dataSourceTable(tableNum(SalesQuotationTable)).addRange(fieldNum(SalesQuotationTable, TemplateName));
        #        queryBuildRangeTemplate.value(SysQuery::valueEmptyString());
        #        queryBuildRangeTemplate.status(RangeStatus::Locked);
        #
        #        if (!skipQueryStatusFilter)
        #        {
        #            queryBuildRangeStatus = salesQuotationTabledataSource.addRange(fieldNum(SalesQuotationTable, QuotationStatus));
        #            queryBuildRangeStatus.value(strFmt('%1,%2',enum2str(SalesQuotationStatus::Created), enum2str(SalesQuotationStatus::Sent)));
        #            queryBuildRangeStatus.status(RangeStatus::Locked);
        #        }
        #    }
        #    else
        #    {
        #        mapSalesQuotationRecord           = Map::create(callerRecordsPackedMap);
        #        mapSalesQuotationRecordEnumerator = mapSalesQuotationRecord.getEnumerator();
        #
        #        numberOfRecords = 0;
        #        while (mapSalesQuotationRecordEnumerator.moveNext())
        #        {
        #            localSalesQuotationTable = mapSalesQuotationRecordEnumerator.currentValue();
        #
        #            if (!skipQueryStatusFilter)
        #            {
        #                queryBuildRangeStatus = salesQuotationTabledataSource.addRange(fieldNum(SalesQuotationTable, QuotationStatus));
        #                queryBuildRangeStatus.value(strFmt('%1,%2',enum2str(SalesQuotationStatus::Created), enum2str(SalesQuotationStatus::Sent)));
        #                queryBuildRangeStatus.status(RangeStatus::Locked);
        #
        #                // Quotation type = Sales
        #                queryBuildRangeType = salesQuotationTabledataSource.addRange(fieldNum(SalesQuotationTable, QuotationType));
        #                queryBuildRangeType.value(enum2str(QuotationType::Sales));
        #                queryBuildRangeType.status(RangeStatus::Locked);
        #            }
        #
        #            if (localSalesQuotationTable.mayConfirmationBeUpdated())
        #            {
        #                if (localSalesQuotationTable.OpportunityId && this.parmUpdateOpportunity())
        #                {
        #                    query.dataSourceTable(tableNum(SalesQuotationTable)).addRange(fieldNum(SalesQuotationTable, OpportunityId)).value(queryValue(localSalesQuotationTable.OpportunityId));
        #                }
        #                else
        #                {
        #                    query.dataSourceTable(tableNum(SalesQuotationTable)).addRange(fieldNum(SalesQuotationTable, QuotationId)).value(queryValue(localSalesQuotationTable.QuotationId));
        #                }
        #
        #                numberOfRecords++;
        #            }
        #
        #            query.dataSourceTable(tableNum(InventDim)).addRange(fieldNum(InventDim, InventSiteId));
        #        }
        #    }
        #
        #    return localQueryRun;
        #}
        #
      ENDSOURCE
      SOURCE #run
        #/// <summary>
        #/// Contains the code that does the actual job of the class.
        #/// </summary>
        #void run()
        #{
        #    super();
        #
        #    if (recordsUpdated > 0)
        #        info(strFmt("@SYS99552", recordsUpdated,"@SYS8985"));
        #}
      ENDSOURCE
      SOURCE #showReasonCode
        #boolean showReasonCode()
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #transactionLogTxt
        #TransTxt  transactionLogTxt()
        #{
        #    return "@SYS84505";
        #}
      ENDSOURCE
      SOURCE #transactionLogType
        #TransactionLogType  transactionLogType()
        #{
        #    return TransactionLogType::SalesQuotation;
        #}
      ENDSOURCE
      SOURCE #updateNow
        #boolean updateNow()
        #{
        #    boolean updateOK;
        #
        #    // NAXT 6.0 - EQ0021 Equipment builder - begin
        #    container       lineConfigList;
        #    // NAXT 6.0 - EQ0021 Equipment builder - end
        #
        #    this.initJournal();
        #    this.initMarkup();
        #
        #    this.displayProgress();
        #
        #    salesQuotationLine.clear();
        #    salesQuotationParmLine.clear();
        #
        #    recordListSalesQuotationParmLine.first(salesQuotationParmLine);
        #    while (salesQuotationParmLine)
        #    {
        #
        #        if (!this.checkDiscardLine())
        #        {
        #            salesQuotationLine = this.getSalesQuotationLine(salesQuotationParmLine);
        #
        #            setPrefix(#PreFixField(salesQuotationLine, QuotationId));
        #
        #            this.displayProgress();
        #
        #            if (!salesQuotationLine.CustAccount)
        #            {
        #                throw error(strFmt("@SYS99269",salesQuotationLine.QuotationId));
        #            }
        #
        #            #LinePrefix(salesQuotationLine, salesQuotationLine.inventdim().preFixProductDim(EcoResProductDimGroupSetup::newItemId(salesQuotationLine.ItemId)))
        #
        #            this.calcLine(salesQuotationLine, salesQuotationParmLine);
        #
        #            // Create sales order if it wasn't created for previous line
        #            if(custQuotationConfirmJour.SalesId == '')
        #            {
        #                updateOK = this.createSalesTable();
        #                if (updateOK)
        #                {
        #                    // Transfer markup to sales order header
        #                    Markup::copy(false,
        #                             salesQuotationTable,
        #                             this.parmSalesTableCreated());
        #
        #                    // Create sales order lines
        #                    this.createSalesLines(salesQuotationTable, salesTableCreated);
        #                }
        #            }
        #
        #            // create Journal Line
        #            this.writeJournalLine();
        #            this.postMarkupLine();
        #
        #            // NAXT 6.0 - EQ0021 Equipment builder - begin
        #            if (salesQuotationLine.EquipmentConfigId)
        #            {
        #                lineConfigList = conIns(lineConfigList, conLen(lineConfigList)+1, salesQuotationLine.EquipmentConfigId);
        #            }
        #            // NAXT 6.0 - EQ0021 Equipment builder - end
        #
        #        }
        #
        #        if (!recordListSalesQuotationParmLine.next(salesQuotationParmLine))
        #        {
        #            break;
        #        }
        #    }
        #
        #    if (!this.checkIfSomethingIsPosted())
        #    {
        #        return false;
        #    }
        #
        #    progress.setText("@SYS25781");
        #    this.writeJournal();
        #    this.postMarkupTable();
        #    this.postTax(false);
        #
        #    // NAXT 6.0 - EQ0021 Equipment builder - begin
        #    while (conLen(lineConfigList))
        #    {
        #        XAP_EquipmentConfigurationJour::createJournal(conPeek(lineConfigList, 1), custQuotationConfirmJour);
        #
        #        lineConfigList = conDel(lineConfigList, 1, 1);
        #    }
        #    // NAXT 6.0 - EQ0021 Equipment builder - end
        #
        #    salesTableCreated.reread();
        #    salesTableCreated.calcEstimateForced();
        #
        #    return true;
        #}
        #
      ENDSOURCE
      SOURCE #updateSublineOf
        #// <NAXT>
        #/* <NAXT>
        #private void updateSublineOf(SalesLine _salesLine)
        #</NAXT> */
        #// <NAXT CU5>
        #private void updateSublineOf(SalesLine _salesLine, Map _fromToLineNumMap = null)
        #// </NAXT CU5>
        #{
        #    /* <NAXT> - Replaced logic
        #    SalesLine   searchSalesLine;
        #    InventDim   localInventDim = _salesLine.inventDim();
        #    </NAXT> */
        #
        #    /* <NAXT CU5>
        #    // Equipment
        #    if (_salesLine.LineType == XAP_LineTypes::Equipment)
        #    {
        #        _salesLine.SubLineOf = 0;
        #        return;
        #    }
        #    </NAXT CU5> */
        #
        #    /* <NAXT> - Replaced logic
        #    if (!localInventDim.InventEquipmentId)
        #    {
        #        _salesLine.SubLineOf = 0;
        #        return;
        #    }
        #
        #    select count(RecId) from searchSalesLine
        #        where searchSalesLine.SalesId  == _salesLine.SalesId
        #           && searchSalesLine.RecId    != _salesLine.RecId
        #           && searchSalesLine.LineType == XAP_LineTypes::Equipment;
        #
        #    if (searchSalesLine.RecId == 0)
        #    {
        #        _salesLine.SubLineOf = 0;
        #        return;
        #    }
        #
        #    if (searchSalesLine.RecId > 1)
        #    {
        #        info("@XAP9326");
        #    }
        #    else
        #    {
        #        select LineNum from searchSalesLine
        #            where searchSalesLine.SalesId  == _salesLine.SalesId
        #               && searchSalesLine.RecId    != _salesLine.RecId
        #               && searchSalesLine.LineType == XAP_LineTypes::Equipment;
        #
        #        _salesLine.SubLineOf = searchSalesLine.LineNum;
        #    }
        #    </NAXT> */
        #    // <NAXT CU5>
        #    // In this point, the SubLineOf of the SalesLine contains the SubLineOf of the SalesQuotationLine
        #    if (_salesLine.SubLineOf && _fromToLineNumMap)
        #    {
        #        if (_fromToLineNumMap.exists(_salesLine.SubLineOf))
        #        {
        #            _salesLine.SubLineOf = _fromToLineNumMap.lookup(_salesLine.SubLineOf);
        #            _salesLine.initDefaultDimension();
        #        }
        #        else
        #        {
        #            _salesLine.SubLineOf = 0;
        #        }
        #    }
        #    else
        #    {
        #        _salesLine.SubLineOf = 0;
        #    }
        #    // </NAXT CU5>
        #}
        #// </NAXT>
      ENDSOURCE
      SOURCE #writeJournal
        #protected void  writeJournal()
        #{
        #    if (lineDeliveryName || lineDeliveryPostalAddress)
        #    {
        #        custQuotationConfirmJour.DeliveryPostalAddress     = lineDeliveryPostalAddress;
        #        custQuotationConfirmJour.DeliveryName              = lineDeliveryName;
        #    }
        #
        #    custQuotationConfirmJour.SalesBalance      = salesQuotationTotals.totalBalance();
        #    custQuotationConfirmJour.CostValue         = salesQuotationTotals.totalCostValue();
        #    custQuotationConfirmJour.EndDisc           = salesQuotationTotals.totalEndDisc();
        #    custQuotationConfirmJour.SumLineDisc       = salesQuotationTotals.totalLineDisc();
        #    custQuotationConfirmJour.SumMarkup         = salesQuotationTotals.totalMarkup();
        #    custQuotationConfirmJour.SumTax            = salesQuotationTotals.totalTaxAmount();
        #    custQuotationConfirmJour.RoundOff          = salesQuotationTotals.totalRoundOff();
        #
        #    custQuotationConfirmJour.RespiteDate       = salesQuotationParmUpdate.RespiteDate ? salesQuotationParmUpdate.RespiteDate
        #                                                                               : salesQuotationTable.QuotationExpiryDate;
        #    custQuotationConfirmJour.QuotationAmount   = salesQuotationTotals.totalAmount();
        #
        #    custQuotationConfirmJour.insert();
        #
        #    Docu::copy(salesQuotationTable, custQuotationConfirmJour);
        #
        #    journalList.ins(custQuotationConfirmJour);
        #
        #    this.writeTmpTaxWorkTrans(custQuotationConfirmJour.RecId);
        #
        #    this.writeJournalSalesLink();
        #}
        #
      ENDSOURCE
      SOURCE #writeJournalLine
        #protected void writeJournalLine()
        #{
        #    Label   label = new Label(custQuotationConfirmJour.LanguageId);
        #    SalesQuotationTable lineSalesQuotationTable = salesQuotationLine.salesQuotationTable();
        #
        #    super();
        #
        #    custQuotationConfirmTrans.initFromSalesQuotationLine(salesQuotationLine);
        #    custQuotationConfirmTrans.setLinenum(sumByLineNum);
        #    sumByLineNum++;
        #
        #    custQuotationConfirmTrans.SalesId               = custQuotationConfirmJour.SalesId;
        #    custQuotationConfirmTrans.QuotationConfirmId    = custQuotationConfirmJour.QuotationConfirmId;
        #    custQuotationConfirmTrans.QuotationDate         = custQuotationConfirmJour.QuotationDate;
        #    custQuotationConfirmTrans.ProjTransType         = QuotationProjTransType::Item;
        #    custQuotationConfirmTrans.Qty                   = updateNow;
        #    custQuotationConfirmTrans.InventQty             = updateNowInvent;
        #    custQuotationConfirmTrans.PdsCWQty              = updateCWNow;
        #    custQuotationConfirmTrans.LineAmount            = lineValue;
        #    custQuotationConfirmTrans.LineAmountTax         = lineValueInclTax - lineValue;
        #
        #    custQuotationConfirmTrans.TaxWriteCode          = this.tax().taxWriteCode();
        #
        #    custQuotationConfirmTrans.LineHeader = label.extractString(literalStr("@SYS84505"))    + ' ' + salesQuotationLine.QuotationId                   + ' '
        #                                  + label.extractString(literalStr("@SYS24704")) + ' ' + lineSalesQuotationTable.CustAccount  + ' '
        #                                  + label.extractString(literalStr("@SYS7924")) + ' ' + salesQuotationLine.deliveryAddress().Address                + ' '
        #                                  + (lineSalesQuotationTable.CustPurchaseOrder ? (label.extractString(literalStr("@SYS9452")) + ' ' + lineSalesQuotationTable.CustPurchaseOrder + ' ') : '')
        #                                  + custQuotationConfirmTrans.LineHeader;
        #
        #    custQuotationConfirmTrans.LineAmountMST     = custQuotationConfirmJour.amountMST(custQuotationConfirmTrans.LineAmount);
        #    custQuotationConfirmTrans.LineAmountTaxMST  = custQuotationConfirmJour.amountMST(custQuotationConfirmTrans.LineAmountTax);
        #
        #    // NAXT 6.0 - EQ0021 Equipment builder - begin
        #    if (salesQuotationLine.EquipmentConfigId)
        #    {
        #        custQuotationConfirmTrans.EquipmentConfigId = salesQuotationLine.EquipmentConfigId;
        #    }
        #    // NAXT 6.0 - EQ0021 Equipment builder - end
        #
        #    InventReportDimHistory::addFromCustQuotationConfirmTrans(custQuotationConfirmTrans);
        #    custQuotationConfirmTrans.insert();
        #
        #    Docu::copy(salesQuotationLine, custQuotationConfirmTrans);
        #}
        #
      ENDSOURCE
      SOURCE #writeJournalSalesLink
        #protected void  writeJournalSalesLink()
        #{
        #    SalesQuotationParmLine              localSalesQuotationParmLine;
        #    CustQuotationConfirmSalesLink       custQuotationConfirmSalesLink;
        #    CustQuotationConfirmSalesLink       custQuotationConfirmSalesLinkRef;
        #
        #    ttsbegin;
        #
        #    while select localSalesQuotationParmLine
        #        index hint ParmIdQuotationIdIdx
        #        where localSalesQuotationParmLine.ParmId        == salesQuotationParmTable.ParmId
        #           && localSalesQuotationParmLine.QuotationId   == salesQuotationTable.QuotationId
        #    {
        #        custQuotationConfirmSalesLink.clear();
        #        custQuotationConfirmSalesLink.initFromSalesQuotationParmLine  (localSalesQuotationParmLine);
        #        custQuotationConfirmSalesLink.initFromSalesQuotationTable     (SalesQuotationTable::find(localSalesQuotationParmLine.OrigQuotationId));
        #        custQuotationConfirmSalesLink.initFromCustQuotationConfirmJour(custQuotationConfirmJour);
        #
        #        // exist() can not be used - OrigSalesId is <blank>
        #        select firstonly RecId
        #            from custQuotationConfirmSalesLinkRef
        #            where custQuotationConfirmSalesLinkRef.QuotationConfirmId   == custQuotationConfirmSalesLink.QuotationConfirmId    &&
        #                  custQuotationConfirmSalesLinkRef.QuotationDate        == custQuotationConfirmSalesLink.QuotationDate  &&
        #                  custQuotationConfirmSalesLinkRef.OrigSalesId          == custQuotationConfirmSalesLink.OrigSalesId;
        #        if (!custQuotationConfirmSalesLinkRef.RecId)
        #        {
        #            custQuotationConfirmSalesLink.insert();
        #        }
        #    }
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #writeTmpTaxWorkTrans
        #void writeTmpTaxWorkTrans(RecId headingRecId)
        #{
        #    TmpTaxWorkTrans tmpTaxWorkTrans;
        #
        #    if (this.tax())
        #    {
        #        tmpTaxWorkTrans = this.tax().tmpTaxWorkTrans();
        #
        #        ttsbegin;
        #
        #        while select tmpTaxWorkTrans
        #        {
        #            journalTmpTaxWorkTrans.clear();
        #            journalTmpTaxWorkTrans.data(tmpTaxWorkTrans);
        #            journalTmpTaxWorkTrans.HeadingRecId = headingRecId;
        #            journalTmpTaxWorkTrans.insert();
        #        }
        #
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #description
        #private static ClassDescription  description()
        #{
        #    return "@SYS84615";
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: PRN

; Microsoft Dynamics AX Project : BIZ_01965_T6B7Q unloaded
; --------------------------------------------------------------------------------
  PROJECTVERSION 2
  
  PROJECT #BIZ_01965_T6B7Q
  SHARED
  PROPERTIES
    Name                #BIZ_01965_T6B7Q
    Origin              #{8D8A35DF-6F1F-4D75-989B-B5000C074E3D}
  ENDPROPERTIES
  
    PROJECTCLASS ProjectNode
    BEGINNODE
      FILETYPE 0
      UTILTYPE 133
      UTILOBJECTID 0
      NODETYPE 1626
      NAME #GGH_Sale_Rep
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 133
      UTILOBJECTID 0
      NODETYPE 1626
      NAME #GGH_Sale_Admin
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 44
      UTILOBJECTID 103227
      NODETYPE 204
      NAME #XAP_SalesCostBreakdownLines
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 44
      UTILOBJECTID 359
      NODETYPE 204
      NAME #SalesLine
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 11
      UTILOBJECTID 0
      NODETYPE 201
      NAME #SalesTable
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 45
      UTILOBJECTID 685
      NODETYPE 329
      NAME #SalesQuotationEditLinesForm_Sales_Confir
    ENDNODE
  ENDPROJECT
  

***Element: END
